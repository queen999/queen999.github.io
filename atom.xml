<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>覃浩的博客</title>
  
  <subtitle>覃浩的博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://imqinhao.cn/"/>
  <updated>2021-05-14T10:48:44.524Z</updated>
  <id>https://imqinhao.cn/</id>
  
  <author>
    <name>覃浩</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>CPU内部结构与寄存器</title>
    <link href="https://imqinhao.cn/2021/05/14/CPU_Register/"/>
    <id>https://imqinhao.cn/2021/05/14/CPU_Register/</id>
    <published>2021-05-14T10:02:14.000Z</published>
    <updated>2021-05-14T10:48:44.524Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>64位和32位系统区别</p><p>寄存器名称</p><p>寄存器、缓存、内存三者关系</p><a id="more"></a><h2 id="64位和32位系统区别"><a href="#64位和32位系统区别" class="headerlink" title="64位和32位系统区别"></a><center><font color="#55ee0f" size="6px">64位和32位系统区别</font></center></h2><ul><li>寄存器是CPU内部最基本的存储单元。</li><li>CPU对外是通过总线（地址、控制、数据）来和外部设备交互的，<font color="red">总线的宽度是8位，同时CPU的寄存器也是8位</font>，那么这个CPU就叫8位CPU。</li><li>如果总线是32位，寄存器也是32位，那么这个CPU就是32位CPU。</li><li>有一种CPU内部的寄存器是32位的，但总线是16位，准32位CPU。</li><li>所有的64位CPU兼容32位的指令，32位也兼容16位的指令，所以在64位的CPU上是可以识别32位的指令的。</li><li>在64位的CPU架构上运行了64位的软件操作系统，那么这个系统是64位。</li><li>在64位的CPU架构上，运行了32位的软件操作系统，那么这个系统就是32位。</li><li>64位的软件不能运行在32位的CPU之上。</li></ul><h2 id="寄存器名称"><a href="#寄存器名称" class="headerlink" title="寄存器名称"></a><center><font color="#55ee0f" size="6px">寄存器名称</font></center></h2><table><thead><tr><th>8位</th><th>16 位</th><th>32位</th><th>64位</th></tr></thead><tbody><tr><td>A</td><td>AX</td><td>EAX</td><td>RAX</td></tr><tr><td>B</td><td>BX</td><td>EBX</td><td>RBX</td></tr><tr><td>C</td><td>CX</td><td>ECX</td><td>RCX</td></tr><tr><td>D</td><td>DX</td><td>EDX</td><td>RDX</td></tr></tbody></table><h2 id="寄存器、缓存、内存三者关系"><a href="#寄存器、缓存、内存三者关系" class="headerlink" title="寄存器、缓存、内存三者关系"></a><center><font color="#55ee0f" size="6px">寄存器、缓存、内存三者关系</font></center></h2><p>按与CPU远近来分，离得最近的是寄存器，然后缓存（CPU缓存），最后内存。</p><p><font color="red">CPU计算时</font>，先预先把要用的数据从硬盘读到内存，然后再把即将要用到的数据读到寄存器，于是<kbd>CPU <--> 寄存器 <--> 内存</kbd>，这就是它们之间的信息交换。</p><p>那为什么没有缓存呢？因为如果经常操作内存中的同一地址的数据，就会影响速度。于是就在寄存器和内存之间设置一个缓存。</p><p>因为从缓存提取的速度远高于内存。当然缓存的价格肯定也远远高于内存，不然的话，机器里就没有内存的存在。</p><p>由此可以看出，从远近来看：<kbd>CPU <--> 寄存器 <--> 缓存 <--> 内存</kbd>。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;64位和32位系统区别&lt;/p&gt;
&lt;p&gt;寄存器名称&lt;/p&gt;
&lt;p&gt;寄存器、缓存、内存三者关系&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>C语言编译过程</title>
    <link href="https://imqinhao.cn/2021/05/14/gcc/"/>
    <id>https://imqinhao.cn/2021/05/14/gcc/</id>
    <published>2021-05-14T09:02:14.000Z</published>
    <updated>2021-05-14T11:03:07.643Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>C语言编译过程</p><p>​    C程序编译步骤</p><p>​    gcc编译过程</p><p>​        分步编译</p><p>​        常见代码问题</p><a id="more"></a><h2 id="C语言编译过程"><a href="#C语言编译过程" class="headerlink" title="C语言编译过程"></a><center><font color="#55ee0f" size="7px">C语言编译过程</font></center></h2><h3 id="C程序编译步骤"><a href="#C程序编译步骤" class="headerlink" title="C程序编译步骤"></a><center><font color="#ff33ee" size="6px" >C程序编译步骤</font></center></h3><p>C代码编译成可执行程序经过4步：</p><ol><li><kbd>预处理</kbd>：宏定义展开、头文件展开、条件编译等，同时将代码中的注释删除，这里并不会检查语法。</li><li><kbd>编译</kbd>：检查语法，将预处理后文件编译生成汇编文件。</li><li><kbd>汇编</kbd>：将汇编文件生成目标文件（二进制文件）</li><li><kbd>链接</kbd>：C语言写的程序是需要依赖各种库的，所以编译之后还需要把库链接到最终的可执行程序中去。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210514190258.png" alt=""></p><h3 id="gcc编译过程"><a href="#gcc编译过程" class="headerlink" title="gcc编译过程"></a><center><font color="#ff33ee" size="6px" >gcc编译过程</font></center></h3><h4 id="分步编译"><a href="#分步编译" class="headerlink" title="分步编译"></a><center><font color = "#ffaa00" size="5px">分步编译</font></center></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">预处理: gcc -E hello.c -o hello.i</span><br><span class="line">编  译: gcc -S hello.i -o hello.s</span><br><span class="line">汇  编: gcc -c hello.s -o hello.o</span><br><span class="line">链  接: gcc hello.o -o hello</span><br></pre></td></tr></table></figure><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-E</td><td>只进行预处理</td></tr><tr><td>-S（大写）</td><td>只进行预处理和编译</td></tr><tr><td>-c（小写）</td><td>只进行预处理、编译和汇编</td></tr><tr><td>-o  file</td><td>指定生成的输出文件名为file</td></tr></tbody></table><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210514164441.png" alt="程序编译过程"></p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210514165349.png" alt="程序执行过程"></p><table><thead><tr><th>文件后缀</th><th>含义</th></tr></thead><tbody><tr><td>.c</td><td>C语言文件</td></tr><tr><td>.i</td><td>预处理后的C语言文件</td></tr><tr><td>.s</td><td>编译后的汇编文件</td></tr><tr><td>.o</td><td>编译后的目标文件</td></tr></tbody></table><h4 id="常见代码问题"><a href="#常见代码问题" class="headerlink" title="常见代码问题"></a><center><font color = "#ffaa00" size="5px">常见代码问题</font></center></h4><ol><li>编辑时异常</li><li>编译时异常</li><li>运行时异常</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;C语言编译过程&lt;/p&gt;
&lt;p&gt;​    C程序编译步骤&lt;/p&gt;
&lt;p&gt;​    gcc编译过程&lt;/p&gt;
&lt;p&gt;​        分步编译&lt;/p&gt;
&lt;p&gt;​        常见代码问题&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>Python网络编程-文件下载器</title>
    <link href="https://imqinhao.cn/2021/04/25/FileDownload/"/>
    <id>https://imqinhao.cn/2021/04/25/FileDownload/</id>
    <published>2021-04-25T10:40:14.000Z</published>
    <updated>2021-04-25T10:58:07.543Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>文件下载器小案例</p><a id="more"></a><h2 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a><center><font color="\#f05b72" size="6px">服务器</font></center></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_file</span><span class="params">(client_socket, client_addr)</span>:</span></span><br><span class="line">    file_content = <span class="literal">None</span></span><br><span class="line">    <span class="comment"># 接收消息</span></span><br><span class="line">    recv_data = client_socket.recv(<span class="number">1024</span>).decode(<span class="string">"gbk"</span>)</span><br><span class="line">    print(<span class="string">"%s 需要下载 %s"</span> % (str(client_addr), recv_data))</span><br><span class="line">    <span class="comment"># 打开文件</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = open(recv_data, <span class="string">"rb"</span>)</span><br><span class="line">        file_content = f.read()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> res:</span><br><span class="line">        print(<span class="string">"没有需要下载的文件(%s)"</span> % recv_data)</span><br><span class="line">    <span class="comment"># 处理消息</span></span><br><span class="line">    <span class="keyword">if</span> file_content:</span><br><span class="line">        client_socket.send(file_content)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建socket</span></span><br><span class="line">    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 绑定本地信息</span></span><br><span class="line">    server_socket.bind((<span class="string">""</span>, <span class="number">8080</span>))</span><br><span class="line">    <span class="comment"># 设主动为被动</span></span><br><span class="line">    server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 监听</span></span><br><span class="line">        client_socket, client_addr = server_socket.accept()</span><br><span class="line">        <span class="comment"># 调用函数</span></span><br><span class="line">        send_file(client_socket, client_addr)</span><br><span class="line">        client_socket.close()</span><br><span class="line">    server_socket.close()</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a><center><font color="\#f05b72" size="6px">客户端</font></center></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建socket</span></span><br><span class="line">    client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 链接服务器</span></span><br><span class="line">    client_socket.connect((<span class="string">"10.198.207.67"</span>, <span class="number">8080</span>))</span><br><span class="line">    <span class="comment"># 获取下载的文件名称</span></span><br><span class="line">    download_file_name = input(<span class="string">"请输入下载的文件名："</span>)</span><br><span class="line">    <span class="comment"># 将文件名发送给服务器</span></span><br><span class="line">    client_socket.send(download_file_name.encode(<span class="string">"gbk"</span>))</span><br><span class="line">    <span class="comment"># 接收文件中的数据</span></span><br><span class="line">    recv_data = client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># 保存接收到的数据到同一个文件中</span></span><br><span class="line">    <span class="keyword">if</span> recv_data:</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">"[下载]"</span> + download_file_name, <span class="string">"wb"</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(recv_data)</span><br><span class="line">    <span class="comment"># 关闭socket</span></span><br><span class="line">    client_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;文件下载器小案例&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://imqinhao.cn/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>Python网络编程-TCP服务器</title>
    <link href="https://imqinhao.cn/2021/04/25/TCP_server/"/>
    <id>https://imqinhao.cn/2021/04/25/TCP_server/</id>
    <published>2021-04-25T07:40:14.000Z</published>
    <updated>2021-04-25T07:38:47.665Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>TCP服务器功能的创建</p><p>循环为多个客户端服务</p><p>循环为多个客户端服务(升级版)</p><a id="more"></a><h2 id="TCP服务器"><a href="#TCP服务器" class="headerlink" title="TCP服务器"></a><center><font color="\#f05b72" size="6px">TCP服务器</font></center></h2><p>如果需要创建一个TCP服务器的功能，需要的流程如下：</p><ol><li><kbd>socket</kbd>创建一个套接字</li><li><kbd>bind</kbd>绑定ip和port</li><li><kbd>listen</kbd>使套接字变为可以被动连接</li><li><kbd>accept</kbd>等待客户端的链接</li><li><kbd>recv/send</kbd>接收发送数据</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 1. socket创建一个套接字</span></span><br><span class="line">    tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 2. bind绑定ip和port</span></span><br><span class="line">    local_addr = (<span class="string">""</span>, <span class="number">9999</span>)</span><br><span class="line">    tcp_server_socket.bind(local_addr)</span><br><span class="line">    <span class="comment"># 3. listen使套接字变为可以被动连接</span></span><br><span class="line">    tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="comment"># 4. accept等待客户端的链接</span></span><br><span class="line">    print(<span class="string">"等待客户端的接入..."</span>)</span><br><span class="line">    new_client_socket, client_addr = tcp_server_socket.accept()</span><br><span class="line">    print(<span class="string">"有新的客户端接入..."</span>)</span><br><span class="line">    print(<span class="string">"%s:%s已与服务器建立连接..."</span> % (client_addr[<span class="number">0</span>], client_addr[<span class="number">1</span>]))</span><br><span class="line">    <span class="comment"># 5. recv/send接收发送数据</span></span><br><span class="line">    recv_data = new_client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">    print(<span class="string">"%s"</span> % recv_data.decode(<span class="string">"gbk"</span>))</span><br><span class="line">    <span class="comment"># 回送数据</span></span><br><span class="line">    new_client_socket.send(<span class="string">"ok"</span>.encode(<span class="string">"gbk"</span>))</span><br><span class="line">    <span class="comment"># 关闭套接字</span></span><br><span class="line">    new_client_socket.close()</span><br><span class="line">    tcp_server_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210425142708.png" alt="运行情况"></p><h3 id="循环为多个客户端服务"><a href="#循环为多个客户端服务" class="headerlink" title="循环为多个客户端服务"></a><center><font color="green" size="5px">循环为多个客户端服务</font></center></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建socket</span></span><br><span class="line">    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 绑定本地信息</span></span><br><span class="line">    server_socket.bind((<span class="string">""</span>, <span class="number">8888</span>))</span><br><span class="line">    <span class="comment"># 变主动为被动</span></span><br><span class="line">    server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="comment"># 等待客户机的链接</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"等待客户端的链接..."</span>)</span><br><span class="line">        new_client_socket, client_addr = server_socket.accept()</span><br><span class="line">        print(<span class="string">"%s:%s已经链接到服务器"</span> % (client_addr[<span class="number">0</span>], client_addr[<span class="number">1</span>]))</span><br><span class="line">        <span class="comment"># 接收数据</span></span><br><span class="line">        recv_data = new_client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">        <span class="comment"># 打印接收到的数据</span></span><br><span class="line">        print(recv_data.decode(<span class="string">"gbk"</span>))</span><br><span class="line">        <span class="comment"># 发送数据</span></span><br><span class="line">        new_client_socket.send(<span class="string">"connect ok!"</span>.encode(<span class="string">"gbk"</span>))</span><br><span class="line">        <span class="comment"># 关闭新socket</span></span><br><span class="line">        new_client_socket.close()</span><br><span class="line">        print(<span class="string">"为%s:%s服务完毕"</span> % (client_addr[<span class="number">0</span>], client_addr[<span class="number">1</span>]))</span><br><span class="line">    <span class="comment"># 关闭socket</span></span><br><span class="line">    server_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h3 id="循环为多个客户端服务-升级版"><a href="#循环为多个客户端服务-升级版" class="headerlink" title="循环为多个客户端服务(升级版)"></a><center><font color="green" size="5px">循环为多个客户端服务(升级版)</font></center></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建socket</span></span><br><span class="line">    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 绑定本地信息</span></span><br><span class="line">    server_socket.bind((<span class="string">""</span>, <span class="number">8888</span>))</span><br><span class="line">    <span class="comment"># 设置主动为被动</span></span><br><span class="line">    server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="comment"># 监听</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"等待客户端的链接..."</span>)</span><br><span class="line">        new_client_socket, client_addr = server_socket.accept()</span><br><span class="line">        print(<span class="string">"%s已经链接到服务器"</span> % str(client_addr))</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># 接收数据</span></span><br><span class="line">            recv_data = new_client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">            <span class="keyword">if</span> recv_data:</span><br><span class="line">                <span class="comment"># 打印接收到的数据</span></span><br><span class="line">                print(recv_data.decode(<span class="string">"gbk"</span>))</span><br><span class="line">                <span class="comment"># 发送数据</span></span><br><span class="line">                new_client_socket.send(<span class="string">"ok"</span>.encode(<span class="string">"gbk"</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="comment"># 关闭新链接的socket</span></span><br><span class="line">        new_client_socket.close()</span><br><span class="line">        print(<span class="string">"已经服务完成..."</span>)</span><br><span class="line">    <span class="comment"># 关闭socket</span></span><br><span class="line">    server_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;TCP服务器功能的创建&lt;/p&gt;
&lt;p&gt;循环为多个客户端服务&lt;/p&gt;
&lt;p&gt;循环为多个客户端服务(升级版)&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://imqinhao.cn/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>Python网络编程-TCP构建流程</title>
    <link href="https://imqinhao.cn/2021/04/25/TCP_client/"/>
    <id>https://imqinhao.cn/2021/04/25/TCP_client/</id>
    <published>2021-04-25T04:40:14.000Z</published>
    <updated>2021-04-25T05:05:14.003Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>TCP构建流程示例</p><a id="more"></a><h2 id="TCP构建流程"><a href="#TCP构建流程" class="headerlink" title="TCP构建流程"></a><center><font color="\#f05b72" size="5px">TCP构建流程</font><center></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建TCP套接字</span></span><br><span class="line">    tcp_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 建立连接</span></span><br><span class="line">    tcp_socket.connect((<span class="string">"127.0.0.1"</span>, <span class="number">8888</span>))</span><br><span class="line">    <span class="comment"># 发送数据/接收数据</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 发送数据</span></span><br><span class="line">        send_content = input(<span class="string">"请输入要发送的消息："</span>)</span><br><span class="line">        <span class="keyword">if</span>(send_content == <span class="string">"exit"</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        tcp_socket.send(send_content.encode(<span class="string">"gbk"</span>))</span><br><span class="line">        <span class="comment"># 接收数据</span></span><br><span class="line">        recv_data = tcp_socket.recv(<span class="number">1024</span>)</span><br><span class="line">        <span class="comment"># 打印接收到的数据</span></span><br><span class="line">        print(recv_data.decode(<span class="string">"gbk"</span>))</span><br><span class="line">    <span class="comment"># 关闭连接</span></span><br><span class="line">    tcp_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;TCP构建流程示例&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://imqinhao.cn/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>Python网络编程-TCP简介</title>
    <link href="https://imqinhao.cn/2021/04/25/TCP/"/>
    <id>https://imqinhao.cn/2021/04/25/TCP/</id>
    <published>2021-04-25T04:02:14.000Z</published>
    <updated>2021-04-25T04:55:42.415Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>TCP介绍</p><p>TCP特点</p><p>UDP/TCP通信模型</p><p>UDP与TCP的不同点</p><a id="more"></a><h2 id="TCP简介"><a href="#TCP简介" class="headerlink" title="TCP简介"></a><center><font color="\#f05b72" size="8px">TCP简介</font></center></h2><h3 id="TCP介绍"><a href="#TCP介绍" class="headerlink" title="TCP介绍"></a><center><font color="green" size="5px">TCP介绍</font></center></h3><p>TCP协议，传输控制协议（英语：Transmission  Control  Protocol，缩写：TCP）是一种面向连接的、可靠的、基于字节流的传输层通信协议。</p><p>TCP通信需要经过<kbd>创建连接</kbd>、<kbd>数据传送</kbd>、<kbd>终止连接</kbd>三个步骤。</p><h3 id="TCP特点"><a href="#TCP特点" class="headerlink" title="TCP特点"></a><center><font color="green" size="5px">TCP特点</font></center></h3><p>通信双方必须先建立连接才能进行数据的传输</p><p>双方都必须为该连接分配必要的系统内核资源,以管理连接的状态和连接上的传输双方间的数据传输都可以通过这一个连接进行</p><p>完成数据交换后双方必须断开此连接,以释放系统资源</p><p>这种连接是一对一的,因此<font color="red">TCP不适用于广播的应用程序，基于广播的应用程序请使用UDP协议</font>。</p><h3 id="UDP通信模型"><a href="#UDP通信模型" class="headerlink" title="UDP通信模型"></a><center><font color="green" size="5px">UDP通信模型</font></center></h3><p>UDP通信模型中，在通信开始之前，不需要建立相关的连接，只需要发送数据即可。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/UDP%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%9E%8B.png" alt=""></p><h3 id="TCP通信模型"><a href="#TCP通信模型" class="headerlink" title="TCP通信模型"></a><center><font color="green" size="5px">TCP通信模型</font></center></h3><p>TCP通信模型中，在通信开始之前，一定要先建立相关的连接，才能发送数据。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/TCP%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%9E%8B.png" alt=""></p><h3 id="TCP与UDP的不同点"><a href="#TCP与UDP的不同点" class="headerlink" title="TCP与UDP的不同点"></a><center><font color="green" size="5px">TCP与UDP的不同点</font></center></h3><ul><li>面向连接(确认有创建三方交握，连接已创建才作传输)</li><li>有序数据传输</li><li>重发丢失的数据包</li><li>舍弃重复的数据包</li><li>无差错的数据传输</li><li>阻塞/流量控制</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;TCP介绍&lt;/p&gt;
&lt;p&gt;TCP特点&lt;/p&gt;
&lt;p&gt;UDP/TCP通信模型&lt;/p&gt;
&lt;p&gt;UDP与TCP的不同点&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://imqinhao.cn/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>Python网络编程-UDP</title>
    <link href="https://imqinhao.cn/2021/04/25/PythonUdp/"/>
    <id>https://imqinhao.cn/2021/04/25/PythonUdp/</id>
    <published>2021-04-25T02:02:14.000Z</published>
    <updated>2021-04-25T02:01:54.746Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>发送数据的流程</p><p>接收数据的流程</p><p>案例：UDP聊天器</p><a id="more"></a><h2 id="发送数据的流程"><a href="#发送数据的流程" class="headerlink" title="发送数据的流程"></a>发送数据的流程</h2><ol><li>创建套接字</li><li>发送数据</li><li>关闭套接字</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建udp套接字</span></span><br><span class="line">    udp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line">    <span class="comment"># 绑定本地信息</span></span><br><span class="line">    local_addr = (<span class="string">""</span>, <span class="number">7890</span>)</span><br><span class="line">    udp_socket.bind(local_addr)</span><br><span class="line">    <span class="comment"># 目的地主机信息</span></span><br><span class="line">    desc_addr = (<span class="string">"10.197.36.81"</span>, <span class="number">8080</span>)</span><br><span class="line">    <span class="comment"># 发送数据</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        sent_content = input(<span class="string">"请输入要发送的消息："</span>)</span><br><span class="line">        <span class="keyword">if</span>(sent_content == <span class="string">"exit"</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        udp_socket.sendto(sent_content.encode(<span class="string">"gbk"</span>), desc_addr)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 关闭套接字</span></span><br><span class="line">    udp_socket.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="接收数据的流程"><a href="#接收数据的流程" class="headerlink" title="接收数据的流程"></a>接收数据的流程</h2><ol><li>创建套接字</li><li>绑定本地自己的信息（ip及port）</li><li>接收数据</li><li>关闭套接字</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建udp套接字</span></span><br><span class="line">    udp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line">    <span class="comment"># 绑定本地地址信息</span></span><br><span class="line">    local_addr = (<span class="string">""</span>, <span class="number">8088</span>)</span><br><span class="line">    udp_socket.bind(local_addr)</span><br><span class="line">    times = datetime.datetime.now().strftime(<span class="string">'%F %T'</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 接收数据</span></span><br><span class="line">        recv = udp_socket.recvfrom(<span class="number">1024</span>)</span><br><span class="line">        recv_data = recv[<span class="number">0</span>].decode(<span class="string">"gbk"</span>)</span><br><span class="line">        recv_addr = recv[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="comment"># 打印接收到的数据</span></span><br><span class="line">        print(<span class="string">"【%s】 接收到来自%s的消息：\n%s"</span> % (times, recv_addr, recv_data))</span><br><span class="line">    <span class="comment"># 关闭udp套接字</span></span><br><span class="line">    udp_socket.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><blockquote><p>同一个端口不允许同一时刻被使用两次</p></blockquote><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><ol><li>recvfrom 在没有数据到来时，会怎样？</li></ol><blockquote><p>会阻塞。</p></blockquote><hr><blockquote><p>套接字是可以同时收发数据的。</p><p>socket套接字是全双工。</p></blockquote><hr><p><kbd>单工</kbd>：单工数据传输只支持数据在一个方向上传输。</p><p><kbd>半双工</kbd>： 半双工数据传输允许数据在两个方向上传输，但是，在某一时刻，只允许数据在一个方向上传输，它实际上是一种切换方向的单工通信。</p><p><kbd>全双工</kbd>：全双工数据通信允许数据同时在两个方向上传输，因此，全双工通信是两个单工通信方式的结合，它要求发送设备和接收设备都有独立的接收和发送能力。</p><h2 id="案例：UDP聊天器"><a href="#案例：UDP聊天器" class="headerlink" title="案例：UDP聊天器"></a>案例：UDP聊天器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_msg</span><span class="params">(udp_socket)</span>:</span></span><br><span class="line">    desc_ip = input(<span class="string">"请输入对方的IP地址："</span>)</span><br><span class="line">    desc_port = int(input(<span class="string">"请输入对方的端口号："</span>))</span><br><span class="line">    desc_addr = (desc_ip, desc_port)</span><br><span class="line">    send_content = input(<span class="string">"请输入需要发送的消息："</span>)</span><br><span class="line">    udp_socket.sendto(send_content.encode(<span class="string">"gbk"</span>), desc_addr)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">recv_msg</span><span class="params">(udp_socket)</span>:</span></span><br><span class="line">    recv_data = udp_socket.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    recv_msg = recv_data[<span class="number">0</span>].decode(<span class="string">"gbk"</span>)</span><br><span class="line">    recv_addr = recv_data[<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">    print(<span class="string">"您收到了来自【%s】的消息：\n%s"</span> % (recv_addr, recv_msg))</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建套接字</span></span><br><span class="line">    udp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line"></span><br><span class="line">    local_addr = (<span class="string">""</span>, <span class="number">8888</span>)</span><br><span class="line">    udp_socket.bind(local_addr)</span><br><span class="line">    <span class="comment"># 发送和接收</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"------------- UDP聊天器 -------------"</span>)</span><br><span class="line">        print(<span class="string">"1. 发送数据"</span>)</span><br><span class="line">        print(<span class="string">"2. 接收数据"</span>)</span><br><span class="line">        print(<span class="string">"0. 退出系统"</span>)</span><br><span class="line">        choice = input(<span class="string">"请输入功能选项："</span>)</span><br><span class="line">        <span class="keyword">if</span> choice == <span class="string">"1"</span>:</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            send_msg(udp_socket)</span><br><span class="line">        <span class="keyword">elif</span> choice == <span class="string">"2"</span>:</span><br><span class="line">            <span class="comment"># 接收数据</span></span><br><span class="line">            recv_msg(udp_socket)</span><br><span class="line">        <span class="keyword">elif</span> choice == <span class="string">"0"</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"输入有误，请重新输入！\n"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;发送数据的流程&lt;/p&gt;
&lt;p&gt;接收数据的流程&lt;/p&gt;
&lt;p&gt;案例：UDP聊天器&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://imqinhao.cn/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>文件操作</title>
    <link href="https://imqinhao.cn/2021/03/17/c-11/"/>
    <id>https://imqinhao.cn/2021/03/17/c-11/</id>
    <published>2021-03-17T09:02:14.000Z</published>
    <updated>2021-03-17T06:11:01.841Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>文件指针</p><p>打开和关闭文件</p><p>文件的读写操作</p><a id="more"></a><h2 id="文件指针"><a href="#文件指针" class="headerlink" title="文件指针"></a>文件指针</h2><p><strong>用一个称为文件指针的指针变量指向文件，通过文件指针就可对它所指向的文件进行各种操作。</strong></p><p>声明文件指针的简单形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FILE *变量名;</span><br></pre></td></tr></table></figure><blockquote><p>FILE是结构体类型struct _iobuf的同义词，结构体类型struct _iobuf在头文件stdio.h中声明，用于描述文件的相关信息。</p></blockquote><h2 id="打开和关闭文件"><a href="#打开和关闭文件" class="headerlink" title="打开和关闭文件"></a>打开和关闭文件</h2><p>文件在进行读写操作之前要先打开，使用完毕要关闭。所谓打开文件，实际上是获取文件的有关信息，并使文件指针指向该文件，以便进行相关操作。关闭文件则断开指针与文件之间的联系。</p><h3 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h3><p>库函数fopen用来打开一个文件，要使用库函数fopen，需包含头文件stdio.h。函数调用的形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文件指针名 = fopen(文件名, 使用文件方式);</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fp1 = (<span class="string">"data.txt"</span>, <span class="string">"r"</span>);</span><br></pre></td></tr></table></figure><blockquote><p>功能：打开当前目录下的文件data.txt，只允许进行“读”操作，并使文件指针fp1指向文件data.txt。</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FILE *fp2 = fopen(<span class="string">"C:\\info.dat"</span>, <span class="string">"rb"</span>);</span><br></pre></td></tr></table></figure><blockquote><p>功能：打开C驱动器磁盘的根目录下的文件info.dat，按二进制方式进行读操作，并使文件指针fp2指向文件info.dat。</p></blockquote><table><thead><tr><th align="center">字符</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">r</td><td align="center">读（read）</td></tr><tr><td align="center">w</td><td align="center">写（write）</td></tr><tr><td align="center">a</td><td align="center">追加（append）</td></tr><tr><td align="center">t</td><td align="center">文本文件（text），可省略不写</td></tr><tr><td align="center">b</td><td align="center">二进制文件（banary）</td></tr><tr><td align="center">+</td><td align="center">读和写</td></tr></tbody></table><table><thead><tr><th>组合</th><th align="left">含义</th></tr></thead><tbody><tr><td>rt 或 r</td><td align="left">只读打开一个文本文件，只允许读数据</td></tr><tr><td>wt 或 w</td><td align="left">打开或创立一个文件文件，只允许写数据</td></tr><tr><td>at 或 a</td><td align="left">追加打开一个文本文件，并在文件末尾写数据</td></tr><tr><td>rb</td><td align="left">只读打开一个二进制文件，只允许读数据</td></tr><tr><td>wb</td><td align="left">打开或建立一个二进制文件，只允许写数据</td></tr><tr><td>ab</td><td align="left">追加打开一个二进制文件，并在文件末尾写数据</td></tr></tbody></table><details ><summary> <p>关于使用文件方式有以下几点说明</p> </summary>              <div class='content'>              <div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>用r打开文件时，该文件必须已经存在。</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>用w打开文件时，如果文件不存在，则以指定的文件名建立文件；否则，将文件删除，重建一个新文件。</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>要向一个已存在的文件追加新的信息，应该用a打开文件。</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>打开文件时，如果出错，库函数fopen 将返回NULL。</p>            </div>              </div>            </details><h3 id="关闭文件"><a href="#关闭文件" class="headerlink" title="关闭文件"></a>关闭文件</h3><p>文件一旦使用完毕，应调用库函数fclose关闭文件，以避免数据丢失等错误。要使用库函数fclose，需包含头文件stdio.h。函数调用的形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fclose (文件指针);</span><br></pre></td></tr></table></figure><h2 id="文件的读写操作"><a href="#文件的读写操作" class="headerlink" title="文件的读写操作"></a>文件的读写操作</h2><h3 id="字符读写库函数"><a href="#字符读写库函数" class="headerlink" title="字符读写库函数"></a>字符读写库函数</h3><ol><li><strong>库函数fputc</strong></li></ol><p>函数调用的形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fputc(字符数据, 文件指针);</span><br></pre></td></tr></table></figure><blockquote><p>功能：将一个字符写入文件指针指向的文件中。例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fputc(<span class="string">'?'</span>, fp);</span><br></pre></td></tr></table></figure><p>将“?”写入fp指向的文件中。</p></blockquote><ol start="2"><li><strong>库函数fgetc</strong></li></ol><p>函数调用的形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fgetc(文件指针);</span><br></pre></td></tr></table></figure><blockquote><p>功能：从文件指针指向的文件中读取一个字符并返回，如果文件已结束，则返回EOF。</p></blockquote><h4 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h4><p>输入一行字符，写入文件 data.txt ，读取并输出文件 data.txt 的内容。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        FILE *fp;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        fp = fopen(<span class="string">"data.txt"</span>, <span class="string">"w"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input a string: "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch);</span><br><span class="line">        <span class="keyword">while</span>(ch != <span class="string">'\n'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                fputc(ch, fp);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch);</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        fp = fopen(<span class="string">"data.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">        ch = fgetc(fp);</span><br><span class="line">        <span class="keyword">while</span>(ch != EOF)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%c"</span>, ch);</span><br><span class="line">                ch = fgetc(fp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input a string: Programming Language C</span><br><span class="line">Programming Language C</span><br></pre></td></tr></table></figure><blockquote><p>写入文件完成，文件的当前位置移到文件尾，关闭文件，读取文件之前再重新打开文件，使文件的当前位置移到文件头，以读取数据。</p></blockquote><h3 id="字符串读写库函数"><a href="#字符串读写库函数" class="headerlink" title="字符串读写库函数"></a>字符串读写库函数</h3><ol><li><strong>库函数fputs</strong></li></ol><p>函数调用的形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fputs</span>(字符串, 文件指针);</span><br></pre></td></tr></table></figure><blockquote><p>功能：将字符串写入文件指针所指向的文件中，不写入’\0’。</p></blockquote><ol start="2"><li><strong>库函数 fgets</strong></li></ol><p>函数调用的形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fgets(数组元素的类型为<span class="keyword">char</span>的数组名, 整数n, 文件指针);</span><br></pre></td></tr></table></figure><blockquote><p>功能：从文件指针指向的文件中读取最多n - 1个字符，并存储到数组中，遇到换行符（读取并存入数组）或文件结束标志，读取结束。在最后一个字符存入数组后，还要向数组中存入一个’\0’，以构成一个字符串。</p></blockquote><h3 id="编程练习1"><a href="#编程练习1" class="headerlink" title="编程练习1"></a>编程练习1</h3><p>输入一行字符，将其中的小写字母转换为大写字母，其他字符保持不变，将转换后的内容写入文件 data1.txt 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 输入一行字符，将其中的小写字母转换为大写字母，其他字符不变</span></span><br><span class="line">        <span class="comment">// 将转换后的内容写入文件 data1.txt</span></span><br><span class="line">        FILE *fp;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        fp = fopen(<span class="string">"data1.txt"</span>, <span class="string">"w"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入一行字符："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch);</span><br><span class="line">        <span class="keyword">while</span>(ch != <span class="string">'\n'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        ch -= <span class="number">32</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                fputc(ch, fp);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch);</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        fp = fopen(<span class="string">"data1.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">        ch = fgetc(fp);</span><br><span class="line">        <span class="keyword">while</span>(ch != EOF)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%c"</span>, ch);</span><br><span class="line">                ch = fgetc(fp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210317101730.png" alt=""></p><h3 id="编程练习2"><a href="#编程练习2" class="headerlink" title="编程练习2"></a>编程练习2</h3><p>读取文件data1.txt 的内容，将其中的大写字母转换为小写字母，其他的字符不变，将转换后的内容输出。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        FILE *fp;</span><br><span class="line">        fp = fopen(<span class="string">"data1.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        ch = fgetc(fp);</span><br><span class="line">        <span class="keyword">while</span>(ch != EOF)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(ch &gt;= <span class="string">'A'</span> &amp;&amp; ch &lt;= <span class="string">'Z'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%c"</span>, ch + <span class="number">32</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%c"</span>, ch);</span><br><span class="line">                &#125;</span><br><span class="line">                ch = fgetc(fp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello123.com</span><br></pre></td></tr></table></figure><h3 id="编程练习3"><a href="#编程练习3" class="headerlink" title="编程练习3"></a>编程练习3</h3><p>描述学生的结构体类型 struct  student 的声明如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>输入这五个学生的信息，并写入文件 data2.txt 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        FILE *fp;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[5];</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">t</span>[5];</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"请输入第%d个学生的信息：\n"</span>, i + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(i != <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        getchar();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"性别(男：M  女：F）："</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;s[i].sex);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"学号："</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>, s[i].sno);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"姓名："</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>, s[i].name);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"年龄："</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;s[i].age);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"分数："</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;s[i].score);</span><br><span class="line">        &#125;</span><br><span class="line">        fp = fopen(<span class="string">"data2.txt"</span>, <span class="string">"w"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">fprintf</span>(fp, <span class="string">"%c %s %s %d %lf\n"</span>, s[i].sex, s[i].sno, s[i].name, s[i].age, s[i].score);</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        fp = fopen(<span class="string">"data2.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"  sno\t\tname\t\tsex\t\tage\t\tscore\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">fscanf</span>(fp, <span class="string">"%c%s%s%d%lf"</span>, &amp;t[i].sex, t[i].sno, t[i].name, &amp;t[i].age, &amp;t[i].score);</span><br><span class="line">                fgetc(fp);      <span class="comment">// 读入并丢弃空格</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n"</span>, t[i].sno, t[i].name, t[i].sex, t[i].age, t[i].score);</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">请输入第1个学生的信息：</span><br><span class="line">性别(男：M  女：F）：M</span><br><span class="line">学号：2018001</span><br><span class="line">姓名：猫七</span><br><span class="line">年龄：24</span><br><span class="line">分数：96</span><br><span class="line">请输入第2个学生的信息：</span><br><span class="line">性别(男：M  女：F）：F</span><br><span class="line">学号：2018002</span><br><span class="line">姓名：老六</span><br><span class="line">年龄：25</span><br><span class="line">分数：99</span><br><span class="line">请输入第3个学生的信息：</span><br><span class="line">性别(男：M  女：F）：M</span><br><span class="line">学号：2018003</span><br><span class="line">姓名：苏晗</span><br><span class="line">年龄：28</span><br><span class="line">分数：94</span><br><span class="line">请输入第4个学生的信息：</span><br><span class="line">性别(男：M  女：F）：M</span><br><span class="line">学号：2018004</span><br><span class="line">姓名：韩星星</span><br><span class="line">年龄：23</span><br><span class="line">分数：92</span><br><span class="line">请输入第5个学生的信息：</span><br><span class="line">性别(男：M  女：F）：F</span><br><span class="line">学号：2018005</span><br><span class="line">姓名：阿么</span><br><span class="line">年龄：25</span><br><span class="line">分数：89</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210317110301.png" alt=""></p><h3 id="编程练习4"><a href="#编程练习4" class="headerlink" title="编程练习4"></a>编程练习4</h3><p>读取文件 data2.txt 的内容，计算平均分并输出。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        FILE *fp;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[5];</span></span><br><span class="line">        fp = fopen(<span class="string">"data2.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>, average = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">fscanf</span>(fp, <span class="string">"%c %s %s %d %lf"</span>, &amp;s[i].sex, s[i].sno, s[i].name, &amp;s[i].age, &amp;s[i].score);</span><br><span class="line">                fgetc(fp);</span><br><span class="line">                sum += s[i].score;</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        average = sum / <span class="number">5</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"average = %.2lf\n"</span>, average);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">average &#x3D; 94.00</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;文件指针&lt;/p&gt;
&lt;p&gt;打开和关闭文件&lt;/p&gt;
&lt;p&gt;文件的读写操作&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>结构体、共同体和枚举类型</title>
    <link href="https://imqinhao.cn/2021/03/16/c_10/"/>
    <id>https://imqinhao.cn/2021/03/16/c_10/</id>
    <published>2021-03-16T09:02:14.000Z</published>
    <updated>2021-03-16T11:08:18.283Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>结构体类型</p><p>结构体类型与数组</p><p>结构体类型与函数</p><p>单链表</p><p>共同体声明</p><p>枚举类型</p><p>typedef声明</p><a id="more"></a><h2 id="结构体类型"><a href="#结构体类型" class="headerlink" title="结构体类型"></a>结构体类型</h2><p>​        在程序设计中，有时需要将不同类型的数据组合成一个有机的整体，以便于引用。例如，学生的信息包括学号、姓名、性别、年龄和成绩。如果用独立的变量：学号（sno）、姓名（name）、性别（sex）、年龄（age）和成绩（score）来表示。如图所示，变量之间是孤立的，很难体现数据之间的内在联系。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210315175506.png" alt="用单个变量表示学生信息"></p><p>使用结构体类型，可以把多个数据项合成一个整体。学生信息可用结构体类型来描述。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210315175613.png" alt="用结构体类型描述学生信息"></p><h3 id="结构体类型声明"><a href="#结构体类型声明" class="headerlink" title="结构体类型声明"></a>结构体类型声明</h3><p>为描述学生信息，可声明一个结构体类型：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];<span class="comment">//学号</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];<span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">char</span> sex;   <span class="comment">//性别</span></span><br><span class="line">    <span class="keyword">int</span> age;   <span class="comment">//年龄</span></span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];<span class="comment">//三门课程的成绩</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结构体类型 struct student ，包括 sno 、name 、 sex 、 age 和 score 共五个成员。struct student 是一个类型说明符，它和 int 、char 、 float 、 double 等一样，都可以用来指定变量的类型，只不过结构体类型 struct student 需要由程序员自行声明一样。</p><hr><p>结构体类型声明的一般形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> [标记名称]</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    成员列表</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>标记名称是一个标识符，也可以省略标记名称，表示匿名结构体类型。</p></blockquote><span class='p green'>结构体类型声明既可以放在函数之外，被其作用范围内的所有函数使用；也可以放在某个函数的函数体内，只能在该函数的函数体内使用。</span><hr><span class='p blue'>如果 sizeof 运算符的运算对象是结构体类型，运算结果是所有成员占内存大小(按字节计算)再加上内部和尾部填充所占内存大小(按字节计算)的总和。</span><hr><h3 id="结构体类型的变量声明"><a href="#结构体类型的变量声明" class="headerlink" title="结构体类型的变量声明"></a>结构体类型的变量声明</h3><ol><li><strong>先声明结构体类型再声明变量</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> 标记名称</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    成员列表</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> 标记名称 变量名1 [, 变量名2, 变量名3, …];</span></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>;</span></span><br></pre></td></tr></table></figure><details ><summary> <p>点击查看更多</p> </summary>              <div class='content'>              <p>struct student 才是类型说明符，以下两种声明变量的方法都是错误的。</p><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>struct s； //错误</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>student s； //错误</p>            </div>              </div>            </details><ol start="2"><li><strong>在声明结构体类型的同时声明变量</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> 标记名称</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    成员列表</span><br><span class="line">&#125; 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, 变量名<span class="number">3</span>, …];</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125; s1, s2;</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>使用匿名结构体类型声明变量</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    成员列表</span><br><span class="line">&#125; 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, 变量名<span class="number">3</span>, …];</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125; s1, s2;</span><br></pre></td></tr></table></figure><p>结构体类型的成员，其类型也可以是结构体类型。例如，结构体类型 struct student 中的成员 age（年龄），由于年龄总是随着时间变化，比较好的方法是用生日代替年龄，生日是一个日期（由年、月、日组成），可以声明一个结构体类型来描述日期：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> day;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>于是，描述学生信息的结构体类型声明可改为：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">birthday</span>;</span><span class="comment">//birthday的类型是struct date</span></span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="初始化结构体类型的变量"><a href="#初始化结构体类型的变量" class="headerlink" title="初始化结构体类型的变量"></a>初始化结构体类型的变量</h3><p>在结构体类型的变量声明时给变量赋值，称为初始化。例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span> = &#123;</span><span class="string">"2015001"</span>, <span class="string">"LiMing"</span>, <span class="string">'M'</span>, <span class="number">18</span>, &#123;<span class="number">85.0</span>, <span class="number">92.5</span>, <span class="number">95.5</span>&#125;&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>在初始化结构体类型的变量时，大括号内的数据顺序必须与结构体类型中成员的声明顺序一致；否则，就会产生混乱。</p></blockquote><p>如果某个成员的类型是结构体类型，其初始化方式如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> day;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">birthday</span>;</span><span class="comment">//birthday的类型是struct date</span></span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">t</span> = &#123;</span><span class="string">"2015001"</span>, <span class="string">"LiMing"</span>, <span class="string">'M'</span>, &#123;<span class="number">1997</span>, <span class="number">11</span>, <span class="number">18</span>&#125;, &#123;<span class="number">85.0</span>, <span class="number">92.5</span>, <span class="number">95.5</span>&#125;&#125;;</span><br></pre></td></tr></table></figure><h3 id="引用结构体类型的变量"><a href="#引用结构体类型的变量" class="headerlink" title="引用结构体类型的变量"></a>引用结构体类型的变量</h3><ol><li><strong>不能将结构体类型的变量作为一个整体进行输入或输出</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span> = &#123;</span><span class="string">"2015001"</span>, <span class="string">"LiMing"</span>, <span class="string">'M'</span>, <span class="number">18</span>, &#123;<span class="number">85.0</span>, <span class="number">92.5</span>, <span class="number">95.5</span>&#125;&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s, %s, %c, %d, %f, %f, %f"</span>, s);<span class="comment">// 错误</span></span><br></pre></td></tr></table></figure><p><strong>引用结构体类型的变量中的成员要使用成员选择运算符 “ . ”，其一般形式：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">结构体类型的变量名.成员名</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s.age = <span class="number">20</span>;<span class="comment">//将20赋值给变量s中的成员age</span></span><br><span class="line">s.age++;<span class="comment">//使变量s中的成员age加1</span></span><br><span class="line">sum = s.score[<span class="number">0</span>] + s.score[<span class="number">1</span>] + s.score[<span class="number">2</span>];</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>如果成员本身又是一个结构体类型的变量，则要用若干成员运算符，一级一级地找到最低一级的成员</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t.sno</span><br><span class="line">t.birthday.year</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>除了初始化，在其他位置只能用同类型的变量为结构体类型的变量赋值，或者为其成员赋值</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125; s1, s2;</span><br><span class="line"><span class="comment">// 对s1的各个成员逐一赋值</span></span><br><span class="line"><span class="built_in">strcpy</span>(s1.sno, <span class="string">"2015001"</span>);</span><br><span class="line"><span class="built_in">strcpy</span>(s1.name, <span class="string">" LiMing"</span>);</span><br><span class="line">s1.sex = <span class="string">'M'</span>;</span><br><span class="line">s1.age = <span class="number">18</span>;</span><br><span class="line">s1.score[<span class="number">0</span>] = <span class="number">85.0</span>;</span><br><span class="line">s1.score[<span class="number">1</span>] = <span class="number">92.5</span>;</span><br><span class="line">s1.score[<span class="number">2</span>] = <span class="number">95.5</span>;</span><br><span class="line">s2 = s1;<span class="comment">// 用同类型的变量 s1 为 s2 赋值</span></span><br></pre></td></tr></table></figure><h4 id="例题1"><a href="#例题1" class="headerlink" title="例题1"></a>例题1</h4><p>初始化结构体类型的变量，然后输出该变量。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">        &#123;</span></span><br><span class="line">                <span class="keyword">char</span> sno[<span class="number">9</span>];</span><br><span class="line">                <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">                <span class="keyword">char</span> sex;</span><br><span class="line">                <span class="keyword">int</span> age;</span><br><span class="line">                <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span> = &#123;</span><span class="string">"2018001"</span>, <span class="string">"QinHao"</span>, <span class="string">'M'</span>, <span class="number">21</span>, &#123;<span class="number">100</span>, <span class="number">95</span>, <span class="number">98</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sno: %s\n"</span>, s.sno);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"name: %s\n"</span>, s.name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sno: %c\n"</span>, s.sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sno: %d\n"</span>, s.age);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"score: "</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%5.lf"</span>, s.score[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sno: 2018001</span><br><span class="line">name: QinHao</span><br><span class="line">sno: M</span><br><span class="line">sno: 21</span><br><span class="line">score:   100   95   98</span><br></pre></td></tr></table></figure><blockquote><p>结构体类型 struct student 的声明放在 main 函数的函数体内，只能在 main 函数的函数体内使用 struct student 。</p></blockquote><h4 id="例题2"><a href="#例题2" class="headerlink" title="例题2"></a>例题2</h4><p>输入结构体类型的变量中各成员的值，为结构体类型的变量赋值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s1</span>, <span class="title">s2</span>;</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input the student's information: "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c%s%s%d"</span>, &amp;s1.sex,s1.sno, s1.name, &amp;s1.age);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;s1.score[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        s2 = s1;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sno: %s\n"</span>, s2.sno);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"name: %s\n"</span>, s2.name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sex: %c\n"</span>, s2.sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"age: %d\n"</span>, s2.age);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"score: "</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%6.1lf"</span>, s2.score[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input the student&#39;s information: M 2018001 QinHao 21 85.0 92.5 95.5</span><br><span class="line">sno: 2018001</span><br><span class="line">name: QinHao</span><br><span class="line">sex: M</span><br><span class="line">age: 21</span><br><span class="line">score:   85.0  92.5  95.5</span><br></pre></td></tr></table></figure><blockquote><p>结构体函数 struct student 的声明放在 main 函数之前，struct student 可以被其作用范围内的所有函数使用。通常，将结构体、共同体或枚举类型的声明放在 main 函数之前。</p></blockquote><h3 id="指向结构体类型的指针变量"><a href="#指向结构体类型的指针变量" class="headerlink" title="指向结构体类型的指针变量"></a>指向结构体类型的指针变量</h3><p>使用成员间接选择运算符“-&gt;”，可以直观、方便地通过指向结构体类型的指针变量访问该结构体类型变量的成员，其一般形式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">指向结构体类型的指针变量名-&gt;成员名</span><br></pre></td></tr></table></figure><h4 id="例题3"><a href="#例题3" class="headerlink" title="例题3"></a>例题3</h4><p>使用指向结构体类型的指针变量访问该结构体类型变量的成员。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>;</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">p</span>;</span>      <span class="comment">// 声明指向结构体类型的指针变量</span></span><br><span class="line">        <span class="built_in">strcpy</span>(s.sno, <span class="string">"2018001"</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(s.name, <span class="string">"QinHao"</span>);</span><br><span class="line">        s.sex = <span class="string">'M'</span>;</span><br><span class="line">        s.age = <span class="number">21</span>;</span><br><span class="line">        s.score = <span class="number">92.5</span>;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"s.sno\t\ts.name\t\ts.sex\t\ts.age\t\ts.score"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n\n"</span>, s.sno, s.name, s.sex, s.age, s.score);</span><br><span class="line">        p = &amp;s;         <span class="comment">// 使指针变量 p 指向变量s</span></span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"(*p).sno\t(*p).name\t(*p).sex\t(*p).age\t(*p).score"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n\n"</span>, (*p).sno, (*p).name, (*p).sex, (*p).age, (*p).score);</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"p-&gt;sno\t\tp-&gt;name\t\tp-&gt;sex\t\tp-&gt;age\t\tp-&gt;score"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n"</span>, p-&gt;sno, p-&gt;name, p-&gt;sex, p-&gt;age, p-&gt;score);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s.sno           s.name          s.sex           s.age           s.score</span><br><span class="line">2018001         QinHao          M               21              92.5</span><br><span class="line"></span><br><span class="line">(*p).sno        (*p).name       (*p).sex        (*p).age        (*p).score</span><br><span class="line">2018001         QinHao          M               21              92.5</span><br><span class="line"></span><br><span class="line">p-&gt;sno          p-&gt;name         p-&gt;sex          p-&gt;age          p-&gt;score</span><br><span class="line">2018001         QinHao          M               21              92.5</span><br></pre></td></tr></table></figure><h3 id="编程练习1"><a href="#编程练习1" class="headerlink" title="编程练习1"></a>编程练习1</h3><p>声明结构体类型 struct book，描述图书信息：书名（title）、作者（author）、出版社（press）、价格（price）、数量（amount）。输入一本图书的信息，采用例题3的三种方式输出图书的信息。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">book</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> title[<span class="number">30</span>];</span><br><span class="line">        <span class="keyword">char</span> author[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> <span class="built_in">press</span>[<span class="number">30</span>];</span><br><span class="line">        <span class="keyword">double</span> price;</span><br><span class="line">        <span class="keyword">int</span> amount;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">book</span> <span class="title">b</span>;</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">book</span> *<span class="title">p</span>;</span></span><br><span class="line">        <span class="built_in">strcpy</span>(b.title, <span class="string">"疯狂Java讲义"</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(b.author, <span class="string">"李刚"</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(b.<span class="built_in">press</span>, <span class="string">"电子工业出版社"</span>);</span><br><span class="line">        b.price = <span class="number">79.0</span>;</span><br><span class="line">        b.amount = <span class="number">100</span>;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"b.title\t\t\tb.author\t\tb.press\t\t\tb.price\t\t\tb.amount"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t\t%s\t\t%.1lf%\t\t\t%d\n\n"</span>, b.title, b.author, b.<span class="built_in">press</span>, b.price, b.amount);</span><br><span class="line">        p = &amp;b;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"(*p).title\t\t(*p).author\t\t(*p).press\t\t(*p).price\t\t(*p).amount"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t\t%s\t\t%.1lf\t\t\t%d\n\n"</span>, (*p).title, (*p).author, (*p).<span class="built_in">press</span>, (*p).price, (*p).amount);</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"(*p-&gt;title\t\t(*p-&gt;author\t\t(*p-&gt;press\t\t(*p-&gt;price\t\t(*p-&gt;amount"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t\t%s\t\t%.1lf\t\t\t%d\n"</span>, p-&gt;title, p-&gt;author, p-&gt;<span class="built_in">press</span>, p-&gt;price, p-&gt;amount);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210315192454.png" alt=""></p><h3 id="编程练习2"><a href="#编程练习2" class="headerlink" title="编程练习2"></a>编程练习2</h3><p>声明结构体类型 struct date ，描述日期信息：年（year）、月（month）、日（day）。输入一个日期，计算并输出是这一年的第几天，注意判断是不是闰年。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">int</span> year;</span><br><span class="line">        <span class="keyword">int</span> month;</span><br><span class="line">        <span class="keyword">int</span> day;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">d</span>;</span></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>, i;</span><br><span class="line">        <span class="keyword">int</span> leapyear[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> commonyear[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入年："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;d.year);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入月："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;d.month);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入日："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;d.day);</span><br><span class="line">        <span class="keyword">if</span>(d.year % <span class="number">400</span> == <span class="number">0</span> || (d.year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; d.year % <span class="number">100</span> != <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; d.month;i ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        sum += leapyear[i];</span><br><span class="line">                &#125;</span><br><span class="line">                sum += d.day;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; d.month;i ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        sum += commonyear[i];</span><br><span class="line">                &#125;</span><br><span class="line">                sum += d.day;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d年%d月%d日是%d年的第%d天\n"</span>, d.year, d.month, d.day, d.year, sum);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请输入年：2020</span><br><span class="line">请输入月：12</span><br><span class="line">请输入日：31</span><br><span class="line">2020年12月31日是2020年的第366天</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请输入年：2021</span><br><span class="line">请输入月：12</span><br><span class="line">请输入日：31</span><br><span class="line">2021年12月31日是2021年的第365天</span><br></pre></td></tr></table></figure><h2 id="结构体类型与数组"><a href="#结构体类型与数组" class="headerlink" title="结构体类型与数组"></a>结构体类型与数组</h2><h3 id="数组声明"><a href="#数组声明" class="headerlink" title="数组声明"></a>数组声明</h3><ol><li><strong>先声明结构体类型再声明数组</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[10];</span></span><br></pre></td></tr></table></figure><ol start="2"><li><strong>在声明结构体类型的同时声明数组</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score;</span><br><span class="line">&#125; s[<span class="number">10</span>];</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>使用匿名结构体类型声明数组</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score;</span><br><span class="line">&#125; s[<span class="number">10</span>];</span><br></pre></td></tr></table></figure><h3 id="引用数组元素的成员"><a href="#引用数组元素的成员" class="headerlink" title="引用数组元素的成员"></a>引用数组元素的成员</h3><p>数组元素的类型是结构体类型，可使用成员选择运算符引用数组元素的成员。</p><h3 id="初始化数组"><a href="#初始化数组" class="headerlink" title="初始化数组"></a>初始化数组</h3><h4 id="例题1-1"><a href="#例题1-1" class="headerlink" title="例题1"></a>例题1</h4><p>初始化数组，输出数组中的每一个数组元素。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[3] = &#123;</span></span><br><span class="line">                &#123;<span class="string">"2018001"</span>, <span class="string">"Zhangsan"</span>, <span class="string">'M'</span>, <span class="number">18</span>, <span class="number">92.5</span>&#125;,</span><br><span class="line">                &#123;<span class="string">"2018002"</span>, <span class="string">"Lisi"</span>, <span class="string">'F'</span>, <span class="number">18</span>, <span class="number">95.5</span>&#125;,</span><br><span class="line">                &#123;<span class="string">"2018003"</span>, <span class="string">"Wangwu"</span>, <span class="string">'M'</span>, <span class="number">19</span>, <span class="number">85.0</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"  sno                  name     sex     age       score"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s%20s%5c%8d%12.1lf\n"</span>, s[i].sno, s[i].name, s[i].sex, s[i].age, s[i].score);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210315205559.png" alt=""></p><h4 id="例题2-1"><a href="#例题2-1" class="headerlink" title="例题2"></a>例题2</h4><p>输入三个学生的信息，输出成绩（score）高于平均成绩的学生信息。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[3];</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0</span>, avg = <span class="number">0.0</span>;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"Input three students' information (sex, sno, name, age, score):"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="comment">// 先输入字符数据</span></span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c%s%s%d%lf"</span>, &amp;s[i].sex, &amp;s[i].sno, &amp;s[i].name, &amp;s[i].age, &amp;s[i].score);</span><br><span class="line">                getchar();</span><br><span class="line">                sum += s[i].score;</span><br><span class="line">        &#125;</span><br><span class="line">        avg = sum / <span class="number">3.0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"The average score is %4.1lf\n"</span>, avg);</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"  sno                 name    sex  age   score"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i].score &gt; avg)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%s%20s%5c%5d%8.1lf\n"</span>, s[i].sno, s[i].name, s[i].sex, s[i].age, s[i].score);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210315212109.png" alt=""></p><h3 id="编程练习"><a href="#编程练习" class="headerlink" title="编程练习"></a>编程练习</h3><p>声明结构体类型 struct book，描述图书信息：书名（title）、作者（author）、出版社（press）、价格（price）、数量（amount）。输入五本图书的信息，按价格升序的方式对五本图书排序，输出排序后的图书信息。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">book</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> title[<span class="number">40</span>];</span><br><span class="line">        <span class="keyword">char</span> author[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> <span class="built_in">press</span>[<span class="number">40</span>];</span><br><span class="line">        <span class="keyword">double</span> price;</span><br><span class="line">        <span class="keyword">int</span> amount;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">book</span> <span class="title">b</span>[5], <span class="title">temp</span>;</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入5本书的资料（书名，作者，出版社，价格，数量）:\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s%s%s%lf%d"</span>, &amp;b[i].title, &amp;b[i].author, &amp;b[i].<span class="built_in">press</span>, &amp;b[i].price, &amp;b[i].amount);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">4</span> - i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(b[j].price &gt;  b[j + <span class="number">1</span>].price)</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = b[j];</span><br><span class="line">                                b[j] = b[j + <span class="number">1</span>];</span><br><span class="line">                                b[j + <span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t%s\t\t%.1lf\t\t%d\n"</span>, b[i].title, b[i].author, b[i].<span class="built_in">press</span>, b[i].price, b[i].amount);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210316091354.png" alt=""></p><h2 id="结构体类型与函数"><a href="#结构体类型与函数" class="headerlink" title="结构体类型与函数"></a>结构体类型与函数</h2><h3 id="形参是结构体类型的变量"><a href="#形参是结构体类型的变量" class="headerlink" title="形参是结构体类型的变量"></a>形参是结构体类型的变量</h3><h4 id="例题1-2"><a href="#例题1-2" class="headerlink" title="例题1"></a>例题1</h4><p>输入两个学生中成绩（score）较高的学生信息。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">struct student <span class="title">max</span><span class="params">(struct student t1, struct student t2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s1</span> = &#123;</span><span class="string">"2018001"</span>, <span class="string">"Liming"</span>, <span class="string">'M'</span>, <span class="number">18</span>, <span class="number">92.5</span>&#125;;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s2</span> = &#123;</span><span class="string">"2018002"</span>, <span class="string">"Wangfang"</span>, <span class="string">'F'</span>, <span class="number">18</span>, <span class="number">95.5</span>&#125;;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>;</span></span><br><span class="line">        s = <span class="built_in">max</span>(s1, s2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sno: %s\n"</span>, s.sno);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"name: %s\n"</span>, s.name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sex: %c\n"</span>, s.sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"age: %d\n"</span>, s.age);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"score: %.1lf\n"</span>, s.score);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">struct student <span class="title">max</span><span class="params">(struct student t1, struct student t2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(t1.score &gt; t2.score)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">return</span> t1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">return</span> t2;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sno: 2018002</span><br><span class="line">name: Wangfang</span><br><span class="line">sex: F</span><br><span class="line">age: 18</span><br><span class="line">score: 95.5</span><br></pre></td></tr></table></figure><h4 id="例题2-2"><a href="#例题2-2" class="headerlink" title="例题2"></a>例题2</h4><p>修改学生的年龄。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(struct student t)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span> = &#123;</span><span class="string">"2015001"</span>, <span class="string">"Liming"</span>, <span class="string">'M'</span>, <span class="number">18</span>, <span class="number">92.5</span>&#125;;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"\t\t\tsno\t\tname\t\tsex\t\tage\t\tscore"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Before modifying\t%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n"</span>, s.sno, s.name, s.sex, s.age, s.score);</span><br><span class="line">        change(s);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"After modifying\t\t%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n"</span>, s.sno, s.name, s.sex, s.age, s.score);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(struct student t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        t.age ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210316093022.png" alt=""></p><blockquote><p>实参向形参的传递是单向的，在被调函数 change 中改变形参 t 的值并不影响实参 s 的值。因此，调用函数 change 后，学生的年龄依旧是 18 岁。</p></blockquote><h3 id="形参是指向结构体类型的指针变量"><a href="#形参是指向结构体类型的指针变量" class="headerlink" title="形参是指向结构体类型的指针变量"></a>形参是指向结构体类型的指针变量</h3><h4 id="例题1-3"><a href="#例题1-3" class="headerlink" title="例题1"></a>例题1</h4><p>输出两个学生中成绩（score）较高的学生信息。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">struct student *<span class="title">max</span><span class="params">(struct student *p1, struct student *p2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s1</span> = &#123;</span><span class="string">"2015001"</span>, <span class="string">"LiMing"</span>, <span class="string">'M'</span>, <span class="number">18</span>, <span class="number">92.5</span>&#125;;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s2</span> = &#123;</span><span class="string">"2015002"</span>, <span class="string">"WangFang"</span>, <span class="string">'F'</span>, <span class="number">18</span>, <span class="number">95.5</span>&#125;;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">q</span>;</span></span><br><span class="line">        q = <span class="built_in">max</span>(&amp;s1, &amp;s2);      <span class="comment">//实参是结构体类型变量的地址</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sno: %s\n"</span>, q-&gt;sno);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"name: %s\n"</span>, q-&gt;name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sex: %c\n"</span>, q-&gt;sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"age: %d\n"</span>, q-&gt;age);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"score: %.1lf\n"</span>, q-&gt;score);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 形参是指向结构体类型的指针变量</span></span><br><span class="line"><span class="function">struct student *<span class="title">max</span><span class="params">(struct student *p1, struct student *p2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;score &gt; p2-&gt;score)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">return</span> p1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">return</span> p2;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sno: 2015002</span><br><span class="line">name: WangFang</span><br><span class="line">sex: F</span><br><span class="line">age: 18</span><br><span class="line">score: 95.5</span><br></pre></td></tr></table></figure><h4 id="例题2-3"><a href="#例题2-3" class="headerlink" title="例题2"></a>例题2</h4><p>修改学生的年龄。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(struct student *p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span> = &#123;</span><span class="string">"2015001"</span>, <span class="string">"LiMing"</span>, <span class="string">'M'</span>, <span class="number">18</span>, <span class="number">92.5</span>&#125;;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">q</span> = &amp;<span class="title">s</span>;</span></span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"\t\t\tsno\t\tname\t\tsex\t\tage\t\tscore"</span>);       </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Before modifying\t%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n"</span>, s.sno, s.name, s.sex, s.age, s.score);</span><br><span class="line">        change(q);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"After modifying\t\t%s\t\t%s\t\t%c\t\t%d\t\t%.1lf\n"</span>, s.sno, s.name, s.sex, s.age, s.score);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(struct student *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        p-&gt;age ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210316094850.png" alt=""></p><h3 id="形参是数组元素为结构体类型的数组"><a href="#形参是数组元素为结构体类型的数组" class="headerlink" title="形参是数组元素为结构体类型的数组"></a>形参是数组元素为结构体类型的数组</h3><h4 id="例题1-4"><a href="#例题1-4" class="headerlink" title="例题1"></a>例题1</h4><p>输入三个学生的信息并输出。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n, struct student t[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n, struct student *t)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[3];</span></span><br><span class="line">        input(<span class="number">3</span>, s);</span><br><span class="line">        output(<span class="number">3</span>, s);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n, struct student t[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入%d位同学的信息（性别，学号，姓名，年龄，成绩）\n"</span>, n);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c%s%s%d%lf"</span>, &amp;t[i].sex, t[i].sno, t[i].name, &amp;t[i].age, &amp;t[i].score);</span><br><span class="line">                getchar();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n, struct student *t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"  sno                  name     sex  age   score"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s%20s%5c%5d%8.1lf\n"</span>, t[i].sno, t[i].name, t[i].sex, t[i].age, t[i].score);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210316100449.png" alt=""></p><h3 id="编程练习1-1"><a href="#编程练习1-1" class="headerlink" title="编程练习1"></a>编程练习1</h3><p>声明结构体类型 struct book，描述图书信息：书名（title）、作者（author）、出版社（press）、价格（price）、数量（amount）。已知函数头及功能如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span>;<span class="comment">// 输入n本图书的信息到一维数组t中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span>;<span class="comment">// 对长度为n的一维数组t中的数组元素按价格升序排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n, struct book t[[ ])</span></span>;<span class="comment">// 输出长度为n的一维数组t中的数组元素</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">book</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> title[<span class="number">30</span>];</span><br><span class="line">        <span class="keyword">char</span> author[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> <span class="built_in">press</span>[<span class="number">30</span>];</span><br><span class="line">        <span class="keyword">double</span> price;</span><br><span class="line">        <span class="keyword">int</span> amount;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">book</span> <span class="title">b</span>[5];</span></span><br><span class="line">        input(<span class="number">5</span>, b);</span><br><span class="line">        sort(<span class="number">5</span>, b);</span><br><span class="line">        output(<span class="number">5</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入%d本图书的资料（书名，作者，出版社，价格，数量）\n"</span>, n);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s%s%s%lf%d"</span>, t[i].title, t[i].author, t[i].<span class="built_in">press</span>, &amp;t[i].price, &amp;t[i].amount);</span><br><span class="line">                getchar();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 按照价格升序顺序排列</span></span><br><span class="line">        <span class="keyword">int</span> i,j;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">book</span> <span class="title">temp</span>;</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; (n - <span class="number">1</span>) - i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(t[j].price &gt; t[j + <span class="number">1</span>].price)</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = t[j];</span><br><span class="line">                                t[j] = t[j + <span class="number">1</span>];</span><br><span class="line">                                t[j + <span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n, struct book t[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"title\t\tauthor\t\tpress\t\tprice\t\tamount"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s\t\t%s\t\t%s\t\t%.1lf\t\t%d\n"</span>, t[i].title, t[i].author, t[i].<span class="built_in">press</span>, t[i].price, t[i].amount);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210316102737.png" alt=""></p><h3 id="编程练习2-1"><a href="#编程练习2-1" class="headerlink" title="编程练习2"></a>编程练习2</h3><p>struct mycomplex 是表示复数的结构体类型，成员 real 表示实部，成员 image 表示虚部。已知函数头及功能如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mycomplex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> real;</span><br><span class="line">    <span class="keyword">double</span> <span class="built_in">image</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">struct mycomplex <span class="title">input</span><span class="params">(<span class="keyword">void</span>)</span></span>;<span class="comment">// 输入并返回一个复数</span></span><br><span class="line"><span class="function">struct mycomplex <span class="title">add</span><span class="params">(struct mycomplex c1, struct mycomplex c2)</span></span>;<span class="comment">// 计算并返回两个复数的和</span></span><br><span class="line"><span class="function">struct mycomplex <span class="title">mul</span><span class="params">(struct mycomplex c1, struct mycomplex c2)</span></span>;<span class="comment">// 计算并返回两个复数的乘积</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct mycomplex c)</span></span>;<span class="comment">// 输出一个复数</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mycomplex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> real;</span><br><span class="line">    <span class="keyword">double</span> <span class="built_in">image</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">struct mycomplex <span class="title">input</span><span class="params">(<span class="keyword">void</span>)</span></span>;                   <span class="comment">// 输入并返回一个复数</span></span><br><span class="line"><span class="function">struct mycomplex <span class="title">add</span><span class="params">(struct mycomplex c1, struct mycomplex c2)</span></span>;         <span class="comment">// 计算并返回两个复数的和</span></span><br><span class="line"><span class="function">struct mycomplex <span class="title">mul</span><span class="params">(struct mycomplex c1, struct mycomplex c2)</span></span>;         <span class="comment">// 计算并返回两个复数的乘积</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct mycomplex c)</span></span>;        <span class="comment">// 输出一个复数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">mycomplex</span> <span class="title">c1</span>, <span class="title">c2</span>, <span class="title">c3</span>, <span class="title">c4</span>;</span></span><br><span class="line">        c1 = input();</span><br><span class="line">        c2 = input();</span><br><span class="line">        c3 = add(c1, c2);</span><br><span class="line">        c4 = mul(c1, c2);</span><br><span class="line">        output(c3);</span><br><span class="line">        output(c4);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">struct mycomplex <span class="title">input</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">mycomplex</span> <span class="title">c</span>;</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入复数的实部和虚部："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>, &amp;c.real, &amp;c.<span class="built_in">image</span>);</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">struct mycomplex <span class="title">add</span><span class="params">(struct mycomplex c1, struct mycomplex c2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">mycomplex</span> <span class="title">c</span>;</span></span><br><span class="line">        i = c1.real + c2.real;</span><br><span class="line">        j = c1.<span class="built_in">image</span> + c2.<span class="built_in">image</span>;</span><br><span class="line">        c.real = i;</span><br><span class="line">        c.<span class="built_in">image</span> = j;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">struct mycomplex <span class="title">mul</span><span class="params">(struct mycomplex c1, struct mycomplex c2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">mycomplex</span> <span class="title">c</span>;</span></span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        i = c1.real * c2.real - c1.<span class="built_in">image</span> * c2.<span class="built_in">image</span>;</span><br><span class="line">        j = c1.<span class="built_in">image</span> * c2.real + c1.real * c2.<span class="built_in">image</span>;</span><br><span class="line">        c.real = i;</span><br><span class="line">        c.<span class="built_in">image</span> = j;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct mycomplex c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.lf + %.lfi\n"</span>, c.real, c.<span class="built_in">image</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请输入复数的实部和虚部：1 2</span><br><span class="line">请输入复数的实部和虚部：3 4</span><br><span class="line">4 + 6i</span><br><span class="line">-5 + 10i</span><br></pre></td></tr></table></figure><h2 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h2><p><strong>单链表的元素称为结点，每个结点包括两个域：存储实际数据的域称为数据域；存储下一个结点地址的域称为指针域。</strong></p><p><strong>为了在编程时方便处理，往往在单链表的第一个结点之前附设一个结点，称为头结点</strong></p><p><strong>头结点的数据域不存储任何信息，头结点的指针域存储第一个结点的地址</strong></p><h3 id="动态存储库函数"><a href="#动态存储库函数" class="headerlink" title="动态存储库函数"></a>动态存储库函数</h3><ol><li>库函数 malloc</li></ol><p>所需包含的头文件：<kbd>stdlib.h</kbd>。</p><p>函数原型：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">malloc</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="built_in">size</span>)</span></span>;</span><br></pre></td></tr></table></figure><blockquote><p>功能：分配长度为size个字节的存储单元，当执行成功时，返回一个指向所分配存储单元起始地址的指针；否则，返回NULL</p></blockquote><ol start="2"><li>库函数 free</li></ol><p>所需包含的头文件：<kbd>stdlib.h</kbd>。</p><p>函数原型：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(<span class="keyword">void</span> *ptr)</span></span>;</span><br></pre></td></tr></table></figure><blockquote><p>功能：释放指针变量 ptr 指向的存储单元</p></blockquote><h4 id="例题1-5"><a href="#例题1-5" class="headerlink" title="例题1"></a>例题1</h4><p>调用库函数 malloc 和 free ，分配 、释放存储单元。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">p</span>;</span></span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"Input the students' information(sex, sno, name, age, score)"</span>);</span><br><span class="line">        p = (struct student *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct student));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c%s%s%d%lf"</span>, &amp;p-&gt;sex, p-&gt;sno, p-&gt;name, &amp;p-&gt;age, &amp;p-&gt;score);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sno: %s\n"</span>, p-&gt;sno);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"name: %s\n"</span>, p-&gt;name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sex: %c\n"</span>, p-&gt;sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"age: %d\n"</span>, p-&gt;age);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"score: %.1lf\n"</span>, p-&gt;score);</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        p = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input the students&#39; information(sex, sno, name, age, score)</span><br><span class="line">M 2015001 LiMing 18 92.5</span><br><span class="line">sno: 2015001</span><br><span class="line">name: LiMing</span><br><span class="line">sex: M</span><br><span class="line">age: 18</span><br><span class="line">score: 92.5</span><br></pre></td></tr></table></figure><h3 id="单链表的基本操作"><a href="#单链表的基本操作" class="headerlink" title="单链表的基本操作"></a>单链表的基本操作</h3><p><strong>通常用结构体类型的变量来表示单链表中的结点，一个结构体类型的变量包含若干成员，用指针类型的成员存储下一个结点的地址</strong>。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">double</span> score;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中，成员 <kbd>sno</kbd>、<kbd>name</kbd>、<kbd>sex</kbd>、<kbd>age</kbd> 和 <kbd>score</kbd> 一起作为数据域，存储实际数据；成员<kbd>next</kbd> 是指向结构体类型 <kbd>struct student</kbd> 的指针变量，将成员<kbd>next</kbd> 作为指针域，存储下一个节点的地址。</p><hr><h4 id="实例1"><a href="#实例1" class="headerlink" title="实例1"></a>实例1</h4><p>建立一个学生信息的单链表，输出单链表中的学生信息，然后销毁单链表。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 将p 指向的节点作为第一个节点插入到以head为头指针的单链表中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_node</span><span class="params">(struct student *head, struct student *p)</span></span>;</span><br><span class="line"><span class="comment">// 输出以 head 为头指针的单链表中所有学生的信息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">traverse</span><span class="params">(struct student *head)</span></span>;</span><br><span class="line"><span class="comment">// 删除以head为头指针的单链表的第一个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_node</span><span class="params">(struct student *head)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">h</span>, *<span class="title">q</span>;</span></span><br><span class="line">        <span class="keyword">int</span> i, n;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input the number of students:"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">        getchar();      <span class="comment">// 读入并丢弃“回车符”</span></span><br><span class="line">        <span class="comment">// 创建头节点，并设置头结点的指针域为空</span></span><br><span class="line">        h = (struct student *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct student));</span><br><span class="line">        h -&gt; next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input %d students' information(sex, sno, name, age, score):\n"</span>, n);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="comment">// 创建新节点</span></span><br><span class="line">                q = (struct student *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct student));</span><br><span class="line">                <span class="comment">// 读入学生信息</span></span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c%s%s%d%lf"</span>, &amp;q-&gt;sex, q-&gt;sno, q-&gt;name, &amp;q-&gt;age, &amp;q-&gt;score);</span><br><span class="line">                getchar();      <span class="comment">// 读入并丢弃“回车符”</span></span><br><span class="line">                <span class="comment">// 将新节点作为第一个节点插入到单链表中</span></span><br><span class="line">                insert_node(h, q);</span><br><span class="line">        &#125;</span><br><span class="line">        traverse(h);</span><br><span class="line">        <span class="keyword">while</span>(h-&gt;next)</span><br><span class="line">        &#123;</span><br><span class="line">                delete_node(h);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">free</span>(h);</span><br><span class="line">        h = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_node</span><span class="params">(struct student *head, struct student *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        p -&gt; next = head -&gt; next;</span><br><span class="line">        head -&gt; next = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">traverse</span><span class="params">(struct student *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">p</span>;</span></span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"  sno              name       sex  age   score"</span>);</span><br><span class="line">        p = head -&gt; next;       <span class="comment">// 将p指向单链表的第一个结点</span></span><br><span class="line">        <span class="comment">// 当p等于NULL时，整个链表输出完成，while语句结束</span></span><br><span class="line">        <span class="keyword">while</span>(p)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="comment">// 输出p所指结点的数据域，即学生信息</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s%20s%5c%5d%8.1lf\n"</span>, p-&gt;sno, p-&gt;name, p-&gt;sex, p-&gt;age, p-&gt;score);</span><br><span class="line">                p = p -&gt; next;  <span class="comment">// 使p指向下一个结点</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_node</span><span class="params">(struct student *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">p</span>;</span></span><br><span class="line">        p = head -&gt; next;</span><br><span class="line">        head -&gt; next = p -&gt; next;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Deleting the student %s ...\n"</span>, p-&gt;sno);</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        p = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210316141108.png" alt=""></p><h2 id="共同体声明"><a href="#共同体声明" class="headerlink" title="共同体声明"></a>共同体声明</h2><h3 id="共同体类型声明"><a href="#共同体类型声明" class="headerlink" title="共同体类型声明"></a>共同体类型声明</h3><p>共同体声明的一般形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> [标记名称]</span><br><span class="line">&#123;</span><br><span class="line">    成员列表</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="共同体类型的变量声明"><a href="#共同体类型的变量声明" class="headerlink" title="共同体类型的变量声明"></a>共同体类型的变量声明</h3><ol><li>先声明共同体类型再声明变量</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> 标记名称</span><br><span class="line">&#123;</span><br><span class="line">    成员列表</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">union</span> 标记名称 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, 变量名<span class="number">3</span>, ...];</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> data</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">double</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">union</span> data x;</span><br></pre></td></tr></table></figure><ol start="2"><li>在声明共同体类型的同时声明变量</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> 标记名称</span><br><span class="line">&#123;</span><br><span class="line">    成员列表</span><br><span class="line">&#125; 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, 变量名<span class="number">3</span>, ...];</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> data</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">double</span> d;</span><br><span class="line">&#125; x1, x2;</span><br></pre></td></tr></table></figure><ol start="3"><li>使用匿名共同体类型声明变量</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span></span><br><span class="line">&#123;</span><br><span class="line">    成员变量</span><br><span class="line">&#125; 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, 变量名<span class="number">3</span>, ...];</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">double</span> d;</span><br><span class="line">&#125; x1, x2;</span><br></pre></td></tr></table></figure><h3 id="初始化共同体类型的变量"><a href="#初始化共同体类型的变量" class="headerlink" title="初始化共同体类型的变量"></a>初始化共同体类型的变量</h3><p>在共同体类型的变量声明时给变量赋值，称为初始化。只能对共同体类型变量的第一个成员赋值，不能像结构体类型的变量那样对所有的成员赋值。例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> data</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">   <span class="keyword">double</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">union</span> data x1, x2;</span><br><span class="line"><span class="keyword">union</span> data x1 = &#123;<span class="string">'s'</span>&#125;;<span class="comment">//正确，为第一个成员ch赋值's'</span></span><br><span class="line"><span class="keyword">union</span> data x2 = &#123;<span class="string">'s'</span>, <span class="number">100</span>, <span class="number">95.5</span>&#125;;<span class="comment">//错误</span></span><br></pre></td></tr></table></figure><h3 id="引用共同体类型的变量"><a href="#引用共同体类型的变量" class="headerlink" title="引用共同体类型的变量"></a>引用共同体类型的变量</h3><p><strong>引用共同体类型的变量应遵守以下规则：</strong></p><ol><li>不能将共同体类型的变量作为一个整体进行输入和输出。</li><li>除了初始化，在其他位置只能用同类型的变量为共同体类型的变量赋值，或者为其他成员赋值。</li><li>共同体类型的变量中起作用的成员是最后一次赋值的成员，在给一个成员赋值后原有的成员就会失去作用。</li></ol><h3 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h3><p>建立如表所示的成绩单，输入各科成绩，然后再输出。</p><table><thead><tr><th align="center">课程名</th><th align="center">评分方式</th><th align="center">分数</th><th align="center">等级</th></tr></thead><tbody><tr><td align="center">C  Language  Programming</td><td align="center">百分制</td><td align="center">90</td><td align="center"></td></tr><tr><td align="center">College  Chinese</td><td align="center">五级分制</td><td align="center"></td><td align="center">excellent</td></tr><tr><td align="center">Advanced  Mathematics</td><td align="center">百分制</td><td align="center">88</td><td align="center"></td></tr><tr><td align="center">Introduction  to  Computers</td><td align="center">五级分制</td><td align="center"></td><td align="center">good</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">union</span> method</span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">int</span> hundred;    <span class="comment">// 百分制成绩</span></span><br><span class="line">        <span class="keyword">char</span> five[<span class="number">10</span>];  <span class="comment">// 五级分制成绩</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">course</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">30</span>];  <span class="comment">// 课程名称</span></span><br><span class="line">        <span class="keyword">char</span> mode;      <span class="comment">// 评分方式（h：百分制，f：五级制）</span></span><br><span class="line">        <span class="keyword">union</span> method grade;     <span class="comment">// 共同体类型的成员表示不同类型的成绩</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">course</span> <span class="title">report</span>[4];</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="comment">// 将课程名称存入结构体类型</span></span><br><span class="line">        <span class="built_in">strcpy</span>(report[<span class="number">0</span>].name, <span class="string">"C  Language  Programming"</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(report[<span class="number">1</span>].name, <span class="string">"College  Chinese"</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(report[<span class="number">2</span>].name, <span class="string">"Advanced  Mathematics"</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(report[<span class="number">3</span>].name, <span class="string">"Introduction  to  Computers"</span>);</span><br><span class="line">        <span class="comment">// 输入各门课程的评分方式、考试成绩</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Input the mode(h/f) of course \"%s\": "</span>, report[i].name);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;report[i].mode);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Examination  Result: "</span>);</span><br><span class="line">                <span class="comment">// 根据评分方式输入不同类型的考试成绩</span></span><br><span class="line">                <span class="keyword">if</span>(<span class="string">'h'</span> == report[i].mode)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;report[i].grade.hundred);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, report[i].grade.five);</span><br><span class="line">                &#125;</span><br><span class="line">                getchar();      <span class="comment">// 读入并丢弃回车符</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"\nname                          mode             grade"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%-30s%-16c"</span>, report[i].name, report[i].mode);</span><br><span class="line">                <span class="comment">// 根据评分方式输出不同类型的考试成绩</span></span><br><span class="line">                <span class="keyword">if</span>(<span class="string">'h'</span> == report[i].mode)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, report[i].grade.hundred);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, report[i].grade.five);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210316164129.png" alt=""></p><h2 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h2><p>所谓”枚举”，就是将变量的可取值一一列举出来，变量只能存、取其中的某个值，存、取其他值是错误的</p><h3 id="枚举类型声明"><a href="#枚举类型声明" class="headerlink" title="枚举类型声明"></a>枚举类型声明</h3><p>枚举类型声明的一般形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> [标记名称] &#123;枚举常量<span class="number">1</span>[, 枚举常量<span class="number">2</span>, 枚举常量<span class="number">3</span>, ...]&#125;;</span><br></pre></td></tr></table></figure><blockquote><p><strong>标记名称是一个标识符，也可以省略标记名称，表示匿名枚举类型</strong></p><p><strong>枚举常量是类型为 int 的标识符</strong></p></blockquote><span class='p red'>枚举类型声明既可以放在函数之外，被其作用范围内的所有函数使用；也可以放在某个函数的函数体内，只能在该函数的函数体内使用</span><h3 id="枚举常量的值"><a href="#枚举常量的值" class="headerlink" title="枚举常量的值"></a>枚举常量的值</h3><p>*<em>在枚举类型声明中，枚举常量的值从 0 开始，依次加 1 *</em></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> weekday &#123;sun, mon, tue, wed, thu, fri, sat&#125;;</span><br></pre></td></tr></table></figure><table><thead><tr><th>枚举常量</th><th>sun</th><th>mon</th><th>tue</th><th>wed</th><th>thu</th><th>fri</th><th>sat</th></tr></thead><tbody><tr><td>枚举常量的值</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr></tbody></table><h4 id="例题-1"><a href="#例题-1" class="headerlink" title="例题"></a>例题</h4><p>输出枚举常量的值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">enum</span> weekday &#123;sun, mon, tue, wed, thu = <span class="number">10</span>, fri, sat&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sun: %d\n"</span>, sun);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"mon: %d\n"</span>, mon);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"tue: %d\n"</span>, tue);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"wed: %d\n"</span>, wed);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"thu: %d\n"</span>, thu);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"fri: %d\n"</span>, fri);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sat: %d\n"</span>, sat);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sun: 0</span><br><span class="line">mon: 1</span><br><span class="line">tue: 2</span><br><span class="line">wed: 3</span><br><span class="line">thu: 10</span><br><span class="line">fri: 11</span><br><span class="line">sat: 12</span><br></pre></td></tr></table></figure><h3 id="枚举类型的变量声明"><a href="#枚举类型的变量声明" class="headerlink" title="枚举类型的变量声明"></a>枚举类型的变量声明</h3><ol><li>先声明枚举类型再声明变量</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> 标记名称 &#123;枚举常量<span class="number">1</span>[, 枚举常量<span class="number">2</span>, 枚举常量<span class="number">3</span>, ...]&#125;;</span><br><span class="line"><span class="keyword">enum</span> 标记名称 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, 变量名<span class="number">3</span>, ...];</span><br></pre></td></tr></table></figure><ol start="2"><li>在声明枚举类型的同时声明变量</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> 标记名称 &#123;枚举常量<span class="number">1</span>[, 枚举常量<span class="number">2</span>, ...]&#125; 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, ...];</span><br></pre></td></tr></table></figure><ol start="3"><li>使用匿名枚举类型声明变量</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> &#123;枚举变量<span class="number">1</span>[, 枚举变量<span class="number">2</span>, ...]&#125; 变量名<span class="number">1</span> [, 变量名<span class="number">2</span>, ...];</span><br></pre></td></tr></table></figure><h4 id="例题1-6"><a href="#例题1-6" class="headerlink" title="例题1"></a>例题1</h4><p>枚举类型的变量。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">enum</span> weekday &#123;sun, mon, tue, wed, thu, fri, sat&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">enum</span> weekday today, tomorrow;</span><br><span class="line">        today = mon;</span><br><span class="line">        tomorrow = (<span class="keyword">enum</span> weekday)(today + <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"today: %d\n"</span>, today);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"tomorrow: %d\n"</span>, tomorrow);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">today: 1</span><br><span class="line">tomorrow: 2</span><br></pre></td></tr></table></figure><h4 id="例题2-4"><a href="#例题2-4" class="headerlink" title="例题2"></a>例题2</h4><p>间接输入、输出枚举类型的变量。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">enum</span> weekday &#123;sun, mon, tue, wed, thu, fri, sat&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">enum</span> weekday today, tomorrow;</span><br><span class="line">        <span class="keyword">char</span> *s[ ] = &#123;<span class="string">"sun"</span>, <span class="string">"mon"</span>, <span class="string">"tue"</span>, <span class="string">"wed"</span>, <span class="string">"thu"</span>, <span class="string">"fri"</span>, <span class="string">"sat"</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> day;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"What day is today:\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0--sun,1--mon,2--tue,3--wed,4--thu,5--fri,6--sat： "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;day);      <span class="comment">// 通过输入一个整数获知今天是星期几</span></span><br><span class="line">        today = (<span class="keyword">enum</span> weekday)day;</span><br><span class="line">        <span class="comment">// 根据today计算tomorrow</span></span><br><span class="line">        <span class="keyword">if</span>(sat == today)</span><br><span class="line">        &#123;</span><br><span class="line">                tomorrow = sun;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                tomorrow = (<span class="keyword">enum</span> weekday)(today + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Tomorrow is %s.\n"</span>, s[tomorrow]);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">What day is today:</span><br><span class="line">0--sun,1--mon,2--tue,3--wed,4--thu,5--fri,6--sat: 5</span><br><span class="line">Tomorrow is sat.</span><br></pre></td></tr></table></figure><h3 id="编程练习-1"><a href="#编程练习-1" class="headerlink" title="编程练习"></a>编程练习</h3><p>输入五个学生的信息到数组 s 中，查找并输出平均成绩最高的学生的信息。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">char</span> sno[<span class="number">8</span>];    <span class="comment">//学号</span></span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];  <span class="comment">//姓名</span></span><br><span class="line">        <span class="keyword">enum</span> &#123;male, female&#125; sex;        <span class="comment">// 性别</span></span><br><span class="line">        <span class="keyword">int</span> age;        <span class="comment">// 年龄</span></span><br><span class="line">        <span class="keyword">double</span> score[<span class="number">3</span>];        <span class="comment">//成绩</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[5];</span></span><br></pre></td></tr></table></figure><h2 id="typedef-声明"><a href="#typedef-声明" class="headerlink" title="typedef 声明"></a>typedef 声明</h2><blockquote><p>typedef声明(typedef declaration)并没有引入新类型，只是为已有类型引入一个同义词</p></blockquote><p><strong>为已有类型引入一个同义词的方法：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">①声明变量</span><br><span class="line">②将变量名换成新类型名</span><br><span class="line">③在最前面加上typedef</span><br><span class="line">④使用新类型名声明变量</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;结构体类型&lt;/p&gt;
&lt;p&gt;结构体类型与数组&lt;/p&gt;
&lt;p&gt;结构体类型与函数&lt;/p&gt;
&lt;p&gt;单链表&lt;/p&gt;
&lt;p&gt;共同体声明&lt;/p&gt;
&lt;p&gt;枚举类型&lt;/p&gt;
&lt;p&gt;typedef声明&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>变量的属性和编译预处理</title>
    <link href="https://imqinhao.cn/2021/03/15/c_9/"/>
    <id>https://imqinhao.cn/2021/03/15/c_9/</id>
    <published>2021-03-15T09:02:14.000Z</published>
    <updated>2021-03-15T09:05:07.735Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>变量的作用域</p><p>变量的存储类别</p><p>宏定义</p><p>文件包含</p><p>条件编译</p><a id="more"></a><h2 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h2><blockquote><p>变量都有自己的作用域，按照作用域的范围可分为两种：<kbd>局部变量</kbd>和<kbd>全局变量</kbd>。</p></blockquote><h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>在<wavy>函数内声明</wavy>的变量是<wavy>局部变量</wavy>，它<wavy>只在本函数内有效</wavy>。</p><details ><summary> <p>关于局部变量的说明如下</p> </summary>              <div class='content'>              <div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>main 函数内申明的变量也只在 main 函数内有效，main 函数不能使用其他函数中声明的局部变量。</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>不同函数内可以声明同名的局部变量，他们代表不同的对象，互不干扰。</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>形参也是局部变量。</p>            </div>              </div>            </details><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>在<wavy>函数之外声明</wavy>的变量称为<wavy>全局变量</wavy>。全局变量的作用范围是<wavy>从声明变量的位置到本源文件的末尾</wavy>。</p><details ><summary> <p>关于全局变量的说明如下</p> </summary>              <div class='content'>              <div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>全局变量增加了函数间数据联系的渠道。</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>如果全局变量与局部变量同名，则在局部变量的作用范围内，全局变量被屏蔽，不起作用。</p>            </div>              </div>            </details><h3 id="编程练习1"><a href="#编程练习1" class="headerlink" title="编程练习1"></a>编程练习1</h3><p>编写并调用函数 exchange ，用于交换 int 类型全局变量 x 、 y 的值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入x的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入y的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;y);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"x = %d , y = %d\n"</span>, x, y);</span><br><span class="line">        exchange();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"now x = %d , y = %d\n"</span>, x, y);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        temp = x;</span><br><span class="line">        x = y;</span><br><span class="line">        y = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="变量的存储类别"><a href="#变量的存储类别" class="headerlink" title="变量的存储类别"></a>变量的存储类别</h2><p>变量的存储类别分为六种：<kbd>自动的（auto）</kbd>、<kbd>静态的（static）</kbd>、<kbd>寄存器的（register）</kbd>、<kbd>外部的（extern）</kbd>、<kbd>typedef</kbd>、<kbd>_Thread_local</kbd>。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/%E5%8F%98%E9%87%8F%E7%9A%84%E5%AD%98%E5%82%A8%E7%B1%BB%E5%88%AB.png" alt=""></p><span class='p red'>静态存储变量：是指在程序运行期间分配固定的存储空间的方式。</span><span class='p red'>动态存储变量：是指在程序运行期间根据需要进行动态的分配空间的方式。</span><p>内存中供用户使用的存储空间的情况分为三部分：<strong>程序区；静态存储区；动态存储区</strong>。</p><blockquote><p>全局变量存放在静态存储区中，在程序开始执行时给全局变量分配存储区，程序执行完毕就释放。在程序执行过程中它们占据固定的存储单元，而不是动态地分配和释放的。</p></blockquote><h3 id="局部变量的存储类别"><a href="#局部变量的存储类别" class="headerlink" title="局部变量的存储类别"></a>局部变量的存储类别</h3><ul><li>函数中的局部变量，如不做专门的说明，都是动态的分配存储空间的，存储在动态存储区中。对它们分配和释放存储空间的工作是由编译系统自动处理的，因此这类局部变量称为<strong>自动变量</strong>。</li><li>自动变量用关键字<kbd><strong>auto</strong></kbd>作存储类型的说明。</li><li>如果声明局部变量时没有指定存储类别，默认为auto，通常称为<strong>自动变量</strong>。例如：int n;     // 等价于 auto int n;</li><li>有时希望函数中的局部变量的值在函数调用结束后不消失而保留原值，即其占用的存储单元不释放，在下一次该函数调用时，该变量的值是上一次函数调用结束时的值。这时就可以指定该局部变量为“<strong>静态局部变量</strong>”，用static指定存储类别。</li><li>静态局部变量的说明：<ol><li>静态局部变量占用的存储单元在程序整个运行期间都不释放；而自动变量在函数调用时分配存储单元，函数调用结束，存储单元被释放。</li><li>静态局部变量在编译时赋初值，即只赋初值一次；而对自动变量赋初值是在函数调用时进行，每调用一次函数重新赋一次初值。</li><li>声明静态局部变量时没有初始化，静态局部变量的值是0（对数值型变量）或空字符（对char类型变量）；声明自动变量时没有初始化，自动变量的值是不确定的。</li></ol></li></ul><h4 id="例题1"><a href="#例题1" class="headerlink" title="例题1"></a>例题1</h4><p>静态局部变量实例。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;       </span><br><span class="line">        <span class="keyword">int</span> i, a = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%6d"</span>, f(a));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">int</span> c = <span class="number">3</span>;</span><br><span class="line">        b = b + <span class="number">1</span>;</span><br><span class="line">        c = c + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">789</span><br></pre></td></tr></table></figure><p>先后三次调用函数 f 时，变量 b 、 c 的值如图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210315110302.png" alt=""></p><h4 id="例题2"><a href="#例题2" class="headerlink" title="例题2"></a>例题2</h4><p>输出1 ~ 5 的阶乘值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d! = %.0lf\n"</span>, i, factorial(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">double</span> f = <span class="number">1.0</span>;</span><br><span class="line">        f *= n;</span><br><span class="line">        <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1! &#x3D; 1</span><br><span class="line">2! &#x3D; 2</span><br><span class="line">3! &#x3D; 6</span><br><span class="line">4! &#x3D; 24</span><br><span class="line">5! &#x3D; 120</span><br></pre></td></tr></table></figure><p>如果有一些变量使用频繁，为提高执行效率，C 语言允许将局部变量的值存储在寄存器中，以提高执行效率。这种变量叫<kbd>寄存器变量</kbd>，用<kbd>register</kbd>指定存储类别。</p><h3 id="全局变量的存储类别"><a href="#全局变量的存储类别" class="headerlink" title="全局变量的存储类别"></a>全局变量的存储类别</h3><ul><li>全局变量有 <strong>extern</strong> 和 <strong>static</strong> 两种存储类别。如果声明全局变量时没有指定存储类别，默认为 <strong>extern</strong> 。</li><li>如果全局变量不在文件的开头声明，其作用域只限于声明点到源文件末尾。如果在声明点之前的函数想使用该全局变量，则应该在使用之前用关键字extern对该变量声明，表示该变量是一个已经声明的全局变量，以扩展全局变量的作用域。</li></ul><h4 id="例题1-1"><a href="#例题1-1" class="headerlink" title="例题1"></a>例题1</h4><p>用 extern 声明全局变量，扩展全局变量的作用域。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">extern</span> <span class="keyword">int</span> a, b;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"max = %d\n"</span>, <span class="built_in">max</span>(a, b));</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> z;</span><br><span class="line">        z = x &gt; y ? x : y;</span><br><span class="line">        <span class="keyword">return</span> z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">15</span>, b = <span class="number">8</span>;</span><br></pre></td></tr></table></figure><p>该程序的运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max &#x3D; 15</span><br></pre></td></tr></table></figure><p>原本 main 函数不在全局变量 a 、 b 的作用范围内，用 extern 对使用全局变量 a 、 b 进行声明，就可以在 main 函数内使用全局变量 a 、 b 。</p><h2 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h2><p>编译预处理是在编译前对源程序进行的一些预加工。它是 C 语言与其他高级语言的一个重要区别，有助于编写易移植、易调试的程序。</p><h3 id="不带参数的宏定义"><a href="#不带参数的宏定义" class="headerlink" title="不带参数的宏定义"></a>不带参数的宏定义</h3><p>一般形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> 宏名 宏体</span></span><br></pre></td></tr></table></figure><h4 id="例题1-2"><a href="#例题1-2" class="headerlink" title="例题1"></a>例题1</h4><p>计算圆的面积。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.1415926</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> r, s;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input the radius: "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;r);</span><br><span class="line">        s = PI * r * r;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"s = %.2lf\n"</span>, s);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><details ><summary> <p>点击查看说明</p> </summary>              <div class='content'>              <div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>宏名的替换过程其实是一种简单的复制工作，它不做任何计算，也不做任何错误检查，错误的检查工作要等到编译过程中才会进行。</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>宏名通常用大写字母表示。</p>            </div>              </div>            </details><h4 id="例题2-1"><a href="#例题2-1" class="headerlink" title="例题2"></a>例题2</h4><p>计算圆的周长。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> R 3.0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.1415926</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> L 2 * PI * R</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"L = %.2lf\n"</span>, L);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L &#x3D; 18.85</span><br></pre></td></tr></table></figure><h3 id="带参数的宏定义"><a href="#带参数的宏定义" class="headerlink" title="带参数的宏定义"></a>带参数的宏定义</h3><p>一般形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> 宏名(参数表) 宏体</span></span><br></pre></td></tr></table></figure><details ><summary> <p>点击查看注意</p> </summary>              <div class='content'>              <div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>宏名与参数表的括号之间不可有空格符；否则，系统将把程序中的宏名替换成空格后的字符串，变成不带参数的宏定义。</p>            </div>              </div>            </details><h4 id="例题1-3"><a href="#例题1-3" class="headerlink" title="例题1"></a>例题1</h4><p>计算长方形的面积。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S(a, b) a * b</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> x, y;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input the length and the width: "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>, &amp;x, &amp;y);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"S = %.2lf\n"</span>, S(x, y));</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input the length and the width: 3 4</span><br><span class="line">S &#x3D; 12.00</span><br></pre></td></tr></table></figure><p>带参数的宏定义与带形参的函数，他们从形式上与特征上都很相似，但他们在本质上是不同的：</p><ol><li>函数调用时是在程序的执行过程中进行的，而宏调用是在预处理中进行的，宏名被替换后，宏体将是程序的一部分。</li><li>在函数调用时，要先求实参的值，然后将这个值赋给形参，而宏调用时，只是简单地用实参替换宏体中的形参。</li></ol><h4 id="例题2-2"><a href="#例题2-2" class="headerlink" title="例题2"></a>例题2</h4><p>宏调用是简单的替换。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SUM(a, b) a * b</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"SUM = %d\n"</span>, SUM(<span class="number">1</span> + <span class="number">2</span>, <span class="number">3</span> + <span class="number">4</span>));</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUM &#x3D; 11</span><br></pre></td></tr></table></figure><span class='p red'>宏调用 SUM(1 + 2</span><h4 id="编程练习"><a href="#编程练习" class="headerlink" title="编程练习"></a>编程练习</h4><p>定义并调用带参数的宏，交换两个参数的值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXCHANGE(a, b) b,a</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">5</span>, y = <span class="number">3</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"x = %d , y = %d\n"</span>, x, y);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"now, x = %d , y = %d\n"</span>, EXCHANGE(x, y));</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x &#x3D; 5 , y &#x3D; 3</span><br><span class="line">now, x &#x3D; 3 , y &#x3D; 5</span><br></pre></td></tr></table></figure><h2 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h2><p>文件包含也叫宏包含，是编译预处理的一个重要功能，通过预处理命令<kbd>#include</kbd>把另一个文件的整个内容嵌入进来。文件包含有以下两种方式：</p><ol><li><p><strong>第一种形式</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"文件名"</span></span></span><br></pre></td></tr></table></figure><p>首先在源文件所在目录中检索指定的文件；如果没有找到，则按系统规定的标准方式检索文件目录，直至找到文件为止。</p></li><li><p><strong>第二种形式</strong></p></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;文件名&gt;</span></span></span><br></pre></td></tr></table></figure><p>只按系统规定的标准方式检索文件目录，直至找到文件为止。</p><h2 id="条件编译"><a href="#条件编译" class="headerlink" title="条件编译"></a>条件编译</h2><p>编译预处理提供了条件编译的功能，可以根据条件编译程序的不同部分，从而产生不同的目标代码文件。</p><p><strong>第一种形式</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> 标识符</span></span><br><span class="line">        程序段<span class="number">1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">       程序段<span class="number">2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><blockquote><p>功能：如果标识符已被 #define命令定义过，则对程序段1进行编译；否则，对程序段2进行编译。</p></blockquote><hr><p><strong>第二种形式</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> 标识符</span></span><br><span class="line">程序段<span class="number">1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">程序段<span class="number">2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><blockquote><p>功能：如果标识符没有被 #define命令定义过，则对程序段1进行编译；否则，对程序段2进行编译。这与第一种形式的功能正好相反。</p></blockquote><p><strong>第三种形式</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 常量表达式</span></span><br><span class="line">程序段<span class="number">1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">程序段<span class="number">2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><blockquote><p>功能：如果常量表达式的值不等于0，则对程序段1进行编译；否则，对程序段2进行编译。</p></blockquote><h3 id="例题1-4"><a href="#例题1-4" class="headerlink" title="例题1"></a>例题1</h3><p>条件编译示例。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.1415926</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> R 1</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> r, c, s;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input the radius: "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;r);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> R</span></span><br><span class="line">        s = PI * r * r;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"s = %.2lf\n"</span>, s);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        c = <span class="number">2</span> * PI * r;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"c = %.2lf\n"</span>, c);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input the radius: 5</span><br><span class="line">s &#x3D; 78.54</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;变量的作用域&lt;/p&gt;
&lt;p&gt;变量的存储类别&lt;/p&gt;
&lt;p&gt;宏定义&lt;/p&gt;
&lt;p&gt;文件包含&lt;/p&gt;
&lt;p&gt;条件编译&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>函数</title>
    <link href="https://imqinhao.cn/2021/03/08/c_8/"/>
    <id>https://imqinhao.cn/2021/03/08/c_8/</id>
    <published>2021-03-08T09:02:14.000Z</published>
    <updated>2021-03-17T07:24:42.015Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>函数编程练习题</p><a id="more"></a><h2 id="编程练习1"><a href="#编程练习1" class="headerlink" title="编程练习1"></a>编程练习1</h2><p>已知函数头为 void  avg(void) ，写出函数定义。函数 avg 的功能：输入10个分数，去掉最高分和最低分后求平均分，保留一位小数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">avg</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************** 编程练习8.1 ********************************\n"</span>);</span><br><span class="line">        avg( );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">avg</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> score[<span class="number">10</span>], <span class="built_in">max</span>, <span class="built_in">min</span>, average, sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"请输入第%d个分数："</span>, i + <span class="number">1</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;score[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">max</span> = score[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">min</span> = score[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                sum += score[i];</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">max</span> &lt; score[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">max</span> = score[i];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">min</span> &gt; score[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">min</span> = score[i];</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        average = (sum - <span class="built_in">max</span> - <span class="built_in">min</span>) / <span class="number">8</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"平均分：%.1lf\n"</span>, average);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">******************************** 编程练习8.1 ********************************</span><br><span class="line">请输入第1个分数：95</span><br><span class="line">请输入第2个分数：88</span><br><span class="line">请输入第3个分数：77</span><br><span class="line">请输入第4个分数：86</span><br><span class="line">请输入第5个分数：93</span><br><span class="line">请输入第6个分数：86</span><br><span class="line">请输入第7个分数：79</span><br><span class="line">请输入第8个分数：83</span><br><span class="line">请输入第9个分数：92</span><br><span class="line">请输入第10个分数：99</span><br><span class="line">平均分：87.8</span><br></pre></td></tr></table></figure><h2 id="编程练习2"><a href="#编程练习2" class="headerlink" title="编程练习2"></a>编程练习2</h2><p>$$<br>已知函数头为 void  calroot(double a, double b, double c) ，写出函数定义。函数calroot的功能：求一元二次方程ax^2+bx+c=0的根。形参a、b、c是一元二次方程的系数。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calroot</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> a1,b1,c1;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"********************************* 编程练习8.2 *********************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入a的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;a1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入b的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;b1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入c的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;c1);</span><br><span class="line">        </span><br><span class="line">        calroot(a1, b1, c1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calroot</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> x1, x2, d, e, real, imaginarys;</span><br><span class="line">        d = b * b - <span class="number">4</span> * a * c;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> ( <span class="number">0</span> == a)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>( <span class="number">0</span> == b)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"error!\n"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"x = %f\n"</span>, -c / b);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">0</span> == d)</span><br><span class="line">        &#123;</span><br><span class="line">                x1 = x2 = -b / (<span class="number">2</span> * a);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x1 = x2 = %f\n"</span>, x1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(d &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                e = <span class="built_in">sqrt</span>(d);</span><br><span class="line">                x1 = (-b + e) / (<span class="number">2</span> * a);</span><br><span class="line">                x2 = (-b - e) / (<span class="number">2</span> * a);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x1 = %f\n"</span>, x1);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x2 = %f\n"</span>, x2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                e = <span class="built_in">sqrt</span>(-d);</span><br><span class="line">                real = -b / (<span class="number">2</span> * a);</span><br><span class="line">                imaginarys = e / (<span class="number">2</span> * a);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x1 = %f + %fi\n"</span>, real, imaginarys);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x2 = %f - %fi\n"</span>, real, imaginarys);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">********************************* 编程练习8.2 *********************************</span><br><span class="line">请输入a的值：0</span><br><span class="line">请输入b的值：1.5</span><br><span class="line">请输入c的值：-5.4</span><br><span class="line">x &#x3D; 3.600000</span><br></pre></td></tr></table></figure><h2 id="编程练习3"><a href="#编程练习3" class="headerlink" title="编程练习3"></a>编程练习3</h2><p>$$<br>已知函数头为 double sum(int n) ，写出函数定义。函数sum的功能：返回1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+…+\frac{(-1)^{n+1}}{n}的值，其中n即为形参n。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">        <span class="keyword">double</span> result = sum(n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"********************************* 编程练习8.3 *********************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"result = %.2lf\n"</span>, result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        sum -= <span class="number">1.0</span> / i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        sum += <span class="number">1.0</span> / i;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请输入n的值：4</span><br><span class="line">********************************* 编程练习8.3 *********************************</span><br><span class="line">result &#x3D; 0.58</span><br></pre></td></tr></table></figure><h2 id="编程练习4"><a href="#编程练习4" class="headerlink" title="编程练习4"></a>编程练习4</h2><p>已知函数头为 int getgcd(int m, int n) ，写出函数定义。函数 getgcd 的功能：返回形参m 、 n 的最大公约数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getgcd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a, b;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"********************************* 编程练习8.4 *********************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入m的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;b);</span><br><span class="line">        <span class="keyword">int</span> result = getgcd(a, b);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最大公约数为：%d\n"</span>, result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getgcd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> gcd;</span><br><span class="line">        <span class="keyword">if</span>(m &gt; n)</span><br><span class="line">        &#123;</span><br><span class="line">                gcd = n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                gcd = m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(m % gcd || n % gcd)</span><br><span class="line">        &#123;</span><br><span class="line">                gcd --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> gcd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">********************************* 编程练习8.4 *********************************</span><br><span class="line">请输入m的值：9</span><br><span class="line">请输入n的值：3</span><br><span class="line">最大公约数为：3</span><br></pre></td></tr></table></figure><h2 id="编程练习5"><a href="#编程练习5" class="headerlink" title="编程练习5"></a>编程练习5</h2><p>已知函数头为 int prime(int n) ， 写出函数定义。函数 prime 的功能，如果 n 是质数，返回1；否则，返回0 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line">        <span class="keyword">int</span> result = prime(a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(n &gt; <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(i = <span class="number">2</span>;i &lt; <span class="built_in">sqrt</span>(n) + <span class="number">1</span>;i ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(n % i == <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"error\n"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请输入n的值：5</span><br><span class="line">1</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请输入n的值：4</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h2 id="函数练习6"><a href="#函数练习6" class="headerlink" title="函数练习6"></a>函数练习6</h2><p>已知函数头为 void avg(void) ，函数 avg 的功能：输入10个分数，去掉最高分和最低分，求平均分，保留一位小数。编写并调用函数avg。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">avg</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        avg( );</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">avg</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> <span class="built_in">max</span>, <span class="built_in">min</span>, sum = <span class="number">0.0</span>, average, score[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"请输入第%d个成绩："</span>, i + <span class="number">1</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;score[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">max</span> = score[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">min</span> = score[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                sum += score[i];</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">max</span> &lt; score[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">max</span> = score[i];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">min</span> &gt; score[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">min</span> = score[i];</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        average = (sum - <span class="built_in">max</span> - <span class="built_in">min</span>) / <span class="number">8</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"去掉最高分：%.1lf 分\n"</span>, <span class="built_in">max</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"去掉最低分：%.1lf 分\n"</span>, <span class="built_in">min</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"平均分为：%.1lf\n"</span>, average);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">请输入第1个成绩：95</span><br><span class="line">请输入第2个成绩：99</span><br><span class="line">请输入第3个成绩：78</span><br><span class="line">请输入第4个成绩：85</span><br><span class="line">请输入第5个成绩：93</span><br><span class="line">请输入第6个成绩：85</span><br><span class="line">请输入第7个成绩：86</span><br><span class="line">请输入第8个成绩：91</span><br><span class="line">请输入第9个成绩：87</span><br><span class="line">请输入第10个成绩：91</span><br><span class="line">去掉最高分：99.0 分</span><br><span class="line">去掉最低分：78.0 分</span><br><span class="line">平均分为：89.1</span><br></pre></td></tr></table></figure><h2 id="编程练习7"><a href="#编程练习7" class="headerlink" title="编程练习7"></a>编程练习7</h2><p>$$<br>已知函数头为 void calroot(double a, double b, double c) ，函数 calroot 的功能：求一元二次方程ax^2+bx+c=0的根。形参a、b、c是一元二次方程的系数，编写并调用函数 calroot。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calroot</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> a1, b1, c1;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入a的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;a1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入b的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;b1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入c的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;c1);</span><br><span class="line">        calroot(a1, b1, c1);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calroot</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> d, e, x1, x2, real, imaginarys;</span><br><span class="line">        d = b * b - <span class="number">4</span> * a * c;</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == a)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == b)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"error\n"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"x = %lf\n"</span>, -c / b);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( <span class="number">0</span> == d)</span><br><span class="line">        &#123;</span><br><span class="line">                x1 = x2 = -b / (<span class="number">2</span> * a);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x1 = x2 = %lf\n"</span>, x1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(d &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                e = <span class="built_in">sqrt</span>(d);</span><br><span class="line">                x1 = (-b + e) / (<span class="number">2</span> * a);</span><br><span class="line">                x2 = (-b - e) / (<span class="number">2</span> * a);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x1 = %lf\n"</span>, x1);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x2 = %lf\n"</span>, x2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                e = <span class="built_in">sqrt</span>(-d);</span><br><span class="line">                real = -b / (<span class="number">2</span> * a);</span><br><span class="line">                imaginarys = e / (<span class="number">2</span> * a);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x1 = %lf + %lfi\n"</span>, real, imaginarys);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"x2 = %lf - %lfi\n"</span>, real, imaginarys);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请输入a的值：0</span><br><span class="line">请输入b的值：1.5</span><br><span class="line">请输入c的值：-5.4</span><br><span class="line">x &#x3D; 3.600000</span><br></pre></td></tr></table></figure><h2 id="编程练习8"><a href="#编程练习8" class="headerlink" title="编程练习8"></a>编程练习8</h2><p>$$<br>已知函数头为 double sum(int n) ，写出函数定义。函数sum的功能：返回1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+…+\frac{(-1)^{n+1}}{n}的值，其中n即为形参n。编写并调用函数sum。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        <span class="keyword">double</span> result;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Please input value of n: "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line">        result = sum(a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"result = %.2lf\n"</span>, result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> s;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        s -= <span class="number">1.0</span> / i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        s += <span class="number">1.0</span> / i;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please input value of n: 4</span><br><span class="line">result &#x3D; 0.58</span><br></pre></td></tr></table></figure><h2 id="编程练习9"><a href="#编程练习9" class="headerlink" title="编程练习9"></a>编程练习9</h2><p>已知函数头为 int getgcd(int m, int n) ，写出函数定义。函数 getgcd 的功能：返回形参m 、 n 的最大公约数。编写并调用函数 getgcd 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getgcd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a, b, result;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入m的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;b);</span><br><span class="line">        result = getgcd(a, b);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d 和 %d 的最大公约数为：%d\n"</span>, a, b, result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getgcd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> gcd;</span><br><span class="line">        <span class="keyword">if</span>(m &gt; n)</span><br><span class="line">        &#123;</span><br><span class="line">                gcd = m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                gcd = n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(gcd % m || gcd % n)</span><br><span class="line">        &#123;</span><br><span class="line">                gcd ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> gcd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请输入m的值：9</span><br><span class="line">请输入n的值：6</span><br><span class="line">9 和 6 的最大公约数为：18</span><br></pre></td></tr></table></figure><h2 id="编程练习10"><a href="#编程练习10" class="headerlink" title="编程练习10"></a>编程练习10</h2><p>已知函数头为 int prime(int n) ， 写出函数定义。函数 prime 的功能，如果 n 是质数，返回1；否则，返回0 。编写并调用函数 prime 输出 100 以内所有的质数，每行输出5个 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, res, times = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">2</span>;i &lt; <span class="number">100</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                res = prime(i);</span><br><span class="line">                <span class="keyword">if</span>(res == <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        times ++;</span><br><span class="line">                        <span class="keyword">if</span>(times % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, i);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>, i);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> j, flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">2</span>;j &lt; <span class="built_in">sqrt</span>(n) + <span class="number">1</span>;j ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(n % j == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        flag = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2       3       5       7       11</span><br><span class="line">13      17      19      23      29</span><br><span class="line">31      37      41      43      47</span><br><span class="line">53      59      61      67      71</span><br><span class="line">73      79      83      89      97</span><br></pre></td></tr></table></figure><h2 id="编程练习11"><a href="#编程练习11" class="headerlink" title="编程练习11"></a>编程练习11</h2><p>定义两个函数分别计算球体的表面积和体积，在main函数中输入球体的半径，调用这两个函数，在 main 函数中输出球体的表面积和体积。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">get_ball_s</span><span class="params">(<span class="keyword">double</span> r)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">get_ball_v</span><span class="params">(<span class="keyword">double</span> r)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> a, s, v;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入球体的半径："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;a);</span><br><span class="line">        s = get_ball_s(a);</span><br><span class="line">        v = get_ball_v(a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"球体的表面积为：%.2lf\n"</span>, s);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"球体的体积为：%.2lf\n"</span>, v);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">get_ball_s</span><span class="params">(<span class="keyword">double</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span> * <span class="number">3.14</span> * r * r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">get_ball_v</span><span class="params">(<span class="keyword">double</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">4</span> / <span class="number">3.0</span>) * <span class="number">3.14</span> * r * r * r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请输入球体的半径：5</span><br><span class="line">球体的表面积为：314.00</span><br><span class="line">球体的体积为：523.33</span><br></pre></td></tr></table></figure><h2 id="编程练习12"><a href="#编程练习12" class="headerlink" title="编程练习12"></a>编程练习12</h2><p>已知函数头为 int avg(int n, int t[ ]) ，函数avg的功能：去掉长度为 n 的一维数组 t 中的最大值和最小值，计算并返回平均值。编写并调用函数avg。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">avg</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> t[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> s[<span class="number">9</span>] = &#123;<span class="number">52</span>, <span class="number">99</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">20</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">9</span>, <span class="number">101</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> average;</span><br><span class="line">        average = avg(<span class="number">9</span>, s);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"average = %d\n"</span>, average);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">avg</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> t[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">max</span>, <span class="built_in">min</span>, i, sum;</span><br><span class="line">        <span class="built_in">max</span> = t[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">min</span> = t[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                sum += t[i];</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">max</span> &lt; t[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">max</span> = t[i];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">min</span> &gt; t[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">min</span> = t[i];</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (sum - <span class="built_in">max</span> - <span class="built_in">min</span>) / (n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">average &#x3D; 39</span><br></pre></td></tr></table></figure><h2 id="编程练习13"><a href="#编程练习13" class="headerlink" title="编程练习13"></a>编程练习13</h2><p>已知函数头为 int str_cmp(char s1[ ], char s2[ ]) ，函数 str_cmp 的功能：比较数组 s1 和 s2 中字符串的大小，如果 s1 中的字符串大于 s2 中的字符串，返回一个正整数；如果 s1 中的字符串等于 s2 中的字符串，返回0；如果 s1 中的字符串小于 s2 中的字符串，返回一个负整数。输入两个字符串，编写并调用函数 str_cmp，比较两个字符串的大小（要求不调用库函数 strcmp)。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">str_cmp</span><span class="params">(<span class="keyword">char</span> s1[ ], <span class="keyword">char</span> s2[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">char</span> ch1[<span class="number">100</span>], ch2[<span class="number">100</span>];</span><br><span class="line">        <span class="keyword">int</span> result;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入第一段字符："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, ch1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入第二段字符："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, ch2);</span><br><span class="line">        result = str_cmp(ch1, ch2);</span><br><span class="line">        <span class="keyword">if</span>(result &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s &gt; %s\n"</span>, ch1, ch2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(result == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s == %s\n"</span>, ch1, ch2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s &lt; %s\n"</span>, ch1, ch2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;       </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">str_cmp</span><span class="params">(<span class="keyword">char</span> s1[ ], <span class="keyword">char</span> s2[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, length1 = <span class="number">0</span>, length2 = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 计算s1数组长度</span></span><br><span class="line">        <span class="keyword">while</span>(s1[length1] != <span class="string">'\0'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                length1 ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(s2[length2] != <span class="string">'\0'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                length2 ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(s1[i] != <span class="string">'\0'</span> || s2[i] != <span class="string">'\0'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(s1[i] &gt; s2[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(s1[i] &lt; s2[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(length1 &gt; length2)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span>(length1 == length2)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                i ++;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请输入第一段字符：com</span><br><span class="line">请输入第二段字符：computer</span><br><span class="line">com &lt; computer</span><br></pre></td></tr></table></figure><h2 id="编程练习14"><a href="#编程练习14" class="headerlink" title="编程练习14"></a>编程练习14</h2><p>已知函数头为 void output(int row, int t[ ][5])，函数output 的功能：输出行数为row，列数为5的二维数组 t 中所有的数组元素。编写并调用函数 output，输出 3 行 5 列的二位数组，再次调用 output，输出 4 行 5 列的二维数组。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> t[ ][<span class="number">5</span>])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j, r = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">int</span> t1[][<span class="number">5</span>] = &#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;, &#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;, &#123;<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span> t2[][<span class="number">5</span>] = &#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;, &#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;, &#123;<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>&#125;, &#123;<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>&#125;&#125;;</span><br><span class="line">        output(<span class="number">3</span>, t1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        output(<span class="number">4</span>, t2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> t[ ][<span class="number">5</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; row;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">5</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%6d"</span>, t[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1     2     3     4     5</span><br><span class="line">6     7     8     9    10</span><br><span class="line">11    12    13    14    15</span><br><span class="line"></span><br><span class="line">1     2     3     4     5</span><br><span class="line">6     7     8     9    10</span><br><span class="line">11    12    13    14    15</span><br><span class="line">16    17    18    19    20</span><br></pre></td></tr></table></figure><h2 id="编程练习15"><a href="#编程练习15" class="headerlink" title="编程练习15"></a>编程练习15</h2><p>已知函数头为 int getmin(int n, int r[ ][3])，函数 getmin 的功能：计算并返回行数为 n 列数为 3 的二维数组 t 中的最小值。编写并调用函数 getmin 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getmin</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> r[ ][<span class="number">3</span>])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">copyright</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">4</span>][<span class="number">3</span>] = &#123;&#123;<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>&#125;, &#123;<span class="number">7</span>, <span class="number">8</span>,<span class="number">9</span>&#125; ,&#123; <span class="number">10</span>, <span class="number">12</span>, <span class="number">11</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">min</span>;</span><br><span class="line">        copyright( );</span><br><span class="line">        <span class="built_in">min</span> = getmin(<span class="number">4</span>, a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最小值为：%d\n"</span>, <span class="built_in">min</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getmin</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> r[ ][<span class="number">3</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i,j, <span class="built_in">min</span>, b[n];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">3</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        b[i] = r[i][<span class="number">2</span>];</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">min</span> = b[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt; n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">min</span> &gt; b[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">min</span> = b[i];</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>;     </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">copyright</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习8.15 *******************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"2\t1\t3\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"4\t6\t5\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"7\t8\t9\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"10\t12\t11\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">******************************* 编程练习8.15 *******************************</span><br><span class="line">2       1       3</span><br><span class="line">4       6       5</span><br><span class="line">7       8       9</span><br><span class="line">10      12      11</span><br><span class="line">最小值为：3</span><br></pre></td></tr></table></figure><h2 id="编程练习16"><a href="#编程练习16" class="headerlink" title="编程练习16"></a>编程练习16</h2><p>在 main 函数中输入两个整数 m 和 n ，调用函数 change，要求函数 change 调用完成后，整数 m 的值加 5，整数 n 的值减 3，在主函数中输出改变后的 m 和 n。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m, n;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入m的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Before function call:\tm = %d , n = %d\n"</span>, m , n);</span><br><span class="line">        change(&amp;m, &amp;n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"After function call:\tm = %d , n = %d\n"</span>, m, n);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        *x += <span class="number">5</span>;</span><br><span class="line">        *y -= <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Before function call:   m &#x3D; 5 , n &#x3D; 3</span><br><span class="line">After function call:    m &#x3D; 10 , n &#x3D; 0</span><br></pre></td></tr></table></figure><h2 id="编程练习17"><a href="#编程练习17" class="headerlink" title="编程练习17"></a>编程练习17</h2><p>已知函数头及功能如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> t1[ ])</span></span>;<span class="comment">// 输入n1个整数到一维数组t1中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> n2, <span class="keyword">int</span> t2[ ])</span></span>;<span class="comment">// 对长度为n2的一维数组t2中的数组元素按升序排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n3, <span class="keyword">int</span> t3[ ])</span></span>;<span class="comment">// 输出长度为n3的一维数组t3中的数组元素</span></span><br></pre></td></tr></table></figure><p>编写并调用函数输入10个整数，对这10个整数按升序排序，输出排序后的10个整数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> t1[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> n2, <span class="keyword">int</span> t2[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n3, <span class="keyword">int</span> t3[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i,s1[<span class="number">10</span>];</span><br><span class="line">        input(<span class="number">10</span>, s1);</span><br><span class="line">        sort(<span class="number">10</span>, s1);</span><br><span class="line">        output(<span class="number">10</span>, s1);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> t1[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入10个整数：\n"</span>, i);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n1;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t1[i]);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> n2, <span class="keyword">int</span> t2[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j, temp;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n2;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">9</span> - i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(t2[j] &gt; t2[j + <span class="number">1</span>])</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = t2[j];</span><br><span class="line">                                t2[j] = t2[j + <span class="number">1</span>];</span><br><span class="line">                                t2[j + <span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n3, <span class="keyword">int</span> t3[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n3;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>, t3[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">请输入10个整数：</span><br><span class="line">95</span><br><span class="line">77</span><br><span class="line">99</span><br><span class="line">36</span><br><span class="line">56</span><br><span class="line">85</span><br><span class="line">19</span><br><span class="line">74</span><br><span class="line">69</span><br><span class="line">88</span><br><span class="line">19      36      56      69      74      77      85      88      95      99</span><br></pre></td></tr></table></figure><h2 id="编程练习18"><a href="#编程练习18" class="headerlink" title="编程练习18"></a>编程练习18</h2><p>已知函数头及功能如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> t1[ ])</span></span>;<span class="comment">// 输入n1个整数到一维数组t1中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapmin</span><span class="params">(<span class="keyword">int</span> n2, <span class="keyword">int</span> t2[ ])</span></span>;<span class="comment">// 将数组t2中最小数组元素与t2[0]交换</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapmax</span><span class="params">(<span class="keyword">int</span> n3, <span class="keyword">int</span> t3[ ])</span></span>;<span class="comment">// 将数组t3中最大数组元素与t3[n3 - 1]交换</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n4, <span class="keyword">int</span> t4[ ])</span></span>;<span class="comment">// 输出长度为n4的一维数组t4中的数组元素</span></span><br></pre></td></tr></table></figure><p>编写并调用函数输入10个整数，完成数据交换，输出交换后的10个整数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> t1[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapmin</span><span class="params">(<span class="keyword">int</span> n2, <span class="keyword">int</span> t2[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapmax</span><span class="params">(<span class="keyword">int</span> n3, <span class="keyword">int</span> t3[ ])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n4, <span class="keyword">int</span> t4[ ])</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, s[<span class="number">10</span>];</span><br><span class="line">        input(<span class="number">10</span>, s);</span><br><span class="line">        swapmin(<span class="number">10</span>, s);</span><br><span class="line">        swapmax(<span class="number">10</span>, s);</span><br><span class="line">        output(<span class="number">10</span>, s);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> t1[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n1; i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"请输入第%d个整数："</span>, i + <span class="number">1</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t1[i]);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapmin</span><span class="params">(<span class="keyword">int</span> n2, <span class="keyword">int</span> t2[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">min</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i, temp;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n2;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(t2[<span class="built_in">min</span>] &gt; t2[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">min</span> = i;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">min</span> != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                temp = t2[<span class="number">0</span>];</span><br><span class="line">                t2[<span class="number">0</span>] = t2[<span class="built_in">min</span>];</span><br><span class="line">                t2[<span class="built_in">min</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapmax</span><span class="params">(<span class="keyword">int</span> n3, <span class="keyword">int</span> t3[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">max</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i, temp;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n3;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(t3[<span class="built_in">max</span>] &lt; t3[i])</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">max</span> = i;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">max</span> != n3 - <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                temp = t3[n3 - <span class="number">1</span>];</span><br><span class="line">                t3[n3 - <span class="number">1</span>] = t3[<span class="built_in">max</span>];</span><br><span class="line">                t3[<span class="built_in">max</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> n4, <span class="keyword">int</span> t4[ ])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n4;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>, t4[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">请输入第1个整数：74</span><br><span class="line">请输入第2个整数：20</span><br><span class="line">请输入第3个整数：99</span><br><span class="line">请输入第4个整数：13</span><br><span class="line">请输入第5个整数：14</span><br><span class="line">请输入第6个整数：52</span><br><span class="line">请输入第7个整数：33</span><br><span class="line">请输入第8个整数：44</span><br><span class="line">请输入第9个整数：66</span><br><span class="line">请输入第10个整数：99</span><br><span class="line">13      20      99      74      14      52      33      44      66      99</span><br></pre></td></tr></table></figure><h2 id="编程练习19"><a href="#编程练习19" class="headerlink" title="编程练习19"></a>编程练习19</h2><p>已知函数头及功能如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> t1[ ][<span class="number">3</span>])</span></span>;<span class="comment">// 输入row1 * 3个整数到二维数组t1中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> row2, <span class="keyword">int</span> t2[ ][<span class="number">3</span>])</span></span>;<span class="comment">// 使数组t2中每个元素的值增1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> row3, <span class="keyword">int</span> t3[ ][<span class="number">3</span>])</span></span>;<span class="comment">// 输出二维数组t3中的数组元素</span></span><br></pre></td></tr></table></figure><p>编写并调用函数输入6个整数，完成数据处理，输出处理后的6个整数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> t1[ ][<span class="number">3</span>])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> row2, <span class="keyword">int</span> t2[ ][<span class="number">3</span>])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> row3, <span class="keyword">int</span> t3[ ][<span class="number">3</span>])</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> t[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line">        input(<span class="number">2</span>, t);</span><br><span class="line">        change(<span class="number">2</span>, t);</span><br><span class="line">        output(<span class="number">2</span>, t);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> t1[ ][<span class="number">3</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; row1;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">3</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t1[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> row2, <span class="keyword">int</span> t2[ ][<span class="number">3</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; row2;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">3</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        t2[i][j] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> row3, <span class="keyword">int</span> t3[ ][<span class="number">3</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; row3;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">3</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d\t"</span>, t3[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4 5 6</span><br><span class="line">2       3       4       </span><br><span class="line">5       6       7</span><br></pre></td></tr></table></figure><h2 id="编程练习20"><a href="#编程练习20" class="headerlink" title="编程练习20"></a>编程练习20</h2><psw>此题略</psw><h2 id="编程练习21"><a href="#编程练习21" class="headerlink" title="编程练习21"></a>编程练习21</h2><p>输入长方形的长和宽，调用同一个函数，第一次调用求长方形的面积，第二次调用求长方形的周长。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_s</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_l</span><span class="params">(<span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x3, <span class="keyword">int</span> y3, <span class="keyword">int</span> (*p)(<span class="keyword">int</span> m, <span class="keyword">int</span> n))</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a, b, s, l;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入长方形的长："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入长方形的宽："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;b);</span><br><span class="line">        s = <span class="built_in">get</span>(a, b, get_s);</span><br><span class="line">        l = <span class="built_in">get</span>(a, b, get_l);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"长方形的面积为：%d\n"</span>, s);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"长方形的周长为：%d\n"</span>, l);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_s</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x1 * y1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_l</span><span class="params">(<span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * (x2 + y2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x3, <span class="keyword">int</span> y3, <span class="keyword">int</span> (*p)(<span class="keyword">int</span> m, <span class="keyword">int</span> n))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (*p)(x3, y3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请输入长方形的长：5</span><br><span class="line">请输入长方形的宽：6</span><br><span class="line">长方形的面积为：30</span><br><span class="line">长方形的周长为：22</span><br></pre></td></tr></table></figure><h2 id="编程练习22"><a href="#编程练习22" class="headerlink" title="编程练习22"></a>编程练习22</h2><p>采用递归的函数调用求 1 + 2 + 3 + … + n 的值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        <span class="keyword">double</span> sum;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line">        sum = factorial(a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sum = %.0lf\n"</span>, sum);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sum;</span><br><span class="line">        <span class="keyword">if</span>(n &gt; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                sum = n + factorial(n - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                sum = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请输入n的值：20</span><br><span class="line">sum &#x3D; 210</span><br></pre></td></tr></table></figure><h2 id="编程练习23"><a href="#编程练习23" class="headerlink" title="编程练习23"></a>编程练习23</h2><p>$$<br>采用递归的函数调用求x^n的值，x的类型是double，n的类型是int，且n≥0 。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">power</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        <span class="keyword">double</span> b, result;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入x的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;b);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line">        result = power(b, a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"result = %.2lf\n"</span>, result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">power</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> s;</span><br><span class="line">        <span class="keyword">if</span>(n &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                s = x * power(x, n - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                s = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请输入x的值：2</span><br><span class="line">请输入n的值：10</span><br><span class="line">result &#x3D; 1024.00</span><br></pre></td></tr></table></figure><h2 id="编程练习24"><a href="#编程练习24" class="headerlink" title="编程练习24"></a>编程练习24</h2><p>已知函数头为 int hanoi(int n, char first, char second, char third) ， 函数 hanoi 的功能：输出汉诺塔问题中圆盘的移动步骤，计算并返回圆盘移动的总次数。编写并调用函数 hanoi 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hanoi</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">char</span> first, <span class="keyword">char</span> second, <span class="keyword">char</span> third)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m, times;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入圆盘的个数："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line">        times = hanoi(m, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"共移动了%d次\n"</span>, times);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hanoi</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">char</span> first, <span class="keyword">char</span> second, <span class="keyword">char</span> third)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &gt; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                hanoi(n - <span class="number">1</span>, first, third, second);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"将第%d个圆盘从%c移动到%c\n"</span>, n, first, third);</span><br><span class="line">                hanoi(n - <span class="number">1</span>, second, first, third);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"将第%d个圆盘从%c移动到%c\n"</span>, n, first, third);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="number">2</span>, n) - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">请输入圆盘的个数：4</span><br><span class="line">将第1个圆盘从A移动到B</span><br><span class="line">将第2个圆盘从A移动到C</span><br><span class="line">将第1个圆盘从B移动到C</span><br><span class="line">将第3个圆盘从A移动到B</span><br><span class="line">将第1个圆盘从C移动到A</span><br><span class="line">将第2个圆盘从C移动到B</span><br><span class="line">将第1个圆盘从A移动到B</span><br><span class="line">将第4个圆盘从A移动到C</span><br><span class="line">将第1个圆盘从B移动到C</span><br><span class="line">将第2个圆盘从B移动到A</span><br><span class="line">将第1个圆盘从C移动到A</span><br><span class="line">将第3个圆盘从B移动到C</span><br><span class="line">将第1个圆盘从A移动到B</span><br><span class="line">将第2个圆盘从A移动到C</span><br><span class="line">将第1个圆盘从B移动到C</span><br><span class="line">共移动了15次</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;函数编程练习题&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>指针类型</title>
    <link href="https://imqinhao.cn/2021/03/07/c_7/"/>
    <id>https://imqinhao.cn/2021/03/07/c_7/</id>
    <published>2021-03-07T09:02:14.000Z</published>
    <updated>2021-03-15T09:48:59.100Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>指针类型编程练习题</p><a id="more"></a><h2 id=""><a href="#" class="headerlink" title=""></a><span class='p red'>指针与指针变量</span></h2><h3 id="-1"><a href="#-1" class="headerlink" title=""></a><span class='p green'>编程练习7.1</span></h3><p>输入三个整数，按从小到大的顺序输出，要求用指针实现。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num1,num2,num3,*p1,*p2,*p3,tmp;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入三个数：\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;num1,&amp;num2,&amp;num3);</span><br><span class="line">        p1 = &amp;num1;</span><br><span class="line">        p2 = &amp;num2;</span><br><span class="line">        p3 = &amp;num3;</span><br><span class="line">        <span class="keyword">if</span>(*p1 &lt; *p2)</span><br><span class="line">        &#123;</span><br><span class="line">                tmp = *p1;</span><br><span class="line">                *p1 = *p2;</span><br><span class="line">                *p2 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(*p2 &lt; *p3)</span><br><span class="line">        &#123;</span><br><span class="line">                tmp = *p2;</span><br><span class="line">                *p2 = *p3;</span><br><span class="line">                *p3 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(*p1 &lt; *p2)</span><br><span class="line">        &#123;</span><br><span class="line">                tmp = *p1;</span><br><span class="line">                *p1 = *p2;</span><br><span class="line">                *p2 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\t%d\t%d\n"</span>,num1,num2,num3);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="-2"><a href="#-2" class="headerlink" title=""></a><span class='p red'>指针与一维数组</span></h2><h3 id="-3"><a href="#-3" class="headerlink" title=""></a><span class='p green'>编程练习7.2</span></h3><p>输入 10 个数，将其中最小的数与第一个数对换，最大的数与最后一个数对换。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"****************************** 编程练习7.2 ******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> num[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">int</span> *p, i, <span class="built_in">max</span>, <span class="built_in">min</span>, tip1, tip2, temp;</span><br><span class="line">        p = num;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, p + i);</span><br><span class="line">        &#125;</span><br><span class="line">        p = num;</span><br><span class="line">        <span class="built_in">max</span> = p[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">min</span> = p[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(*(p + i) &lt; <span class="built_in">min</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        tip1 = i;</span><br><span class="line">                        <span class="built_in">min</span> = *(p + i);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(*(p + i) &gt; <span class="built_in">max</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        tip2 = i;</span><br><span class="line">                        <span class="built_in">max</span> = *(p + i);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        p = num;</span><br><span class="line">        <span class="comment">// 交换</span></span><br><span class="line">        temp = p[tip1];</span><br><span class="line">        p[tip1] = p[<span class="number">0</span>];</span><br><span class="line">        p[<span class="number">0</span>] = <span class="built_in">min</span>;</span><br><span class="line">        temp = p[tip2];</span><br><span class="line">        p[tip2] = p[<span class="number">9</span>];</span><br><span class="line">        p[<span class="number">9</span>] = temp;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%6d"</span>, *p++);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-4"><a href="#-4" class="headerlink" title=""></a><span class='p green'>编程练习7.3</span></h3><p>编写四个程序，分别用四种方法引用数组元素，输入 10 个整数，按升序排列，输出排序结果。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习7.3 *******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">10</span>], *p, i, j, temp;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 第一种</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入10个整数：\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">10</span> - i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(a[j] &gt; a[j + <span class="number">1</span>])</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = a[j];</span><br><span class="line">                                a[j] = a[j + <span class="number">1</span>];</span><br><span class="line">                                a[j + <span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%6d"</span>, a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习7.3 *******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">10</span>], *p, i, j, temp;</span><br><span class="line">        <span class="comment">// 第二种</span></span><br><span class="line">        p = a;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, p ++);</span><br><span class="line">        &#125;</span><br><span class="line">        p = a;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">10</span> - i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(p[j] &gt; p[j + <span class="number">1</span>])</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = p[j];</span><br><span class="line">                                p[j] = p[j + <span class="number">1</span>];</span><br><span class="line">                                p[j + <span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%6d"</span>, p[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习7.3 *******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">10</span>], *p, i, j, temp;</span><br><span class="line">        <span class="comment">// 第三种</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, a + i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">10</span> - i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(*(a + j) &gt; *(a + j + <span class="number">1</span>))</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = *(a + j);</span><br><span class="line">                                *(a + j) = *(a + j + <span class="number">1</span>);</span><br><span class="line">                                *(a + j + <span class="number">1</span>) = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%6d"</span>, *(a+i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习7.3 *******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">10</span>], *p, i, j, temp;</span><br><span class="line">        <span class="comment">// 第四种</span></span><br><span class="line">        p = a;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, p++);</span><br><span class="line">        &#125;</span><br><span class="line">        p = a;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">10</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(*(p + j) &gt; *(p + j + <span class="number">1</span>))</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = *(p + j);</span><br><span class="line">                                *(p + j) = *(p + j + <span class="number">1</span>);</span><br><span class="line">                                *(p + j + <span class="number">1</span>) = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%6d"</span>, *(p + i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="-5"><a href="#-5" class="headerlink" title=""></a><span class='p red'>指针与二维数组</span></h2><h3 id="-6"><a href="#-6" class="headerlink" title=""></a><span class='p green'>编程练习7.4</span></h3><p>输入 3 行 4 列二位数组，求最小值及其下标。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"********************** 编程练习7.4 **********************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line">        <span class="keyword">int</span> i, j, <span class="built_in">min</span>, t, k, (*p)[<span class="number">4</span>];</span><br><span class="line">        p = <span class="built_in">array</span>;</span><br><span class="line">        k = t = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入12个数字：\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">4</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, *(p+i)+j);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">min</span> = <span class="built_in">array</span>[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">4</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%6d"</span>, *(*(p + i) + j));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">4</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">min</span> &gt; *(*(p + i) + j))</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">min</span> = *(*(p + i) + j);</span><br><span class="line">                                k = i;</span><br><span class="line">                                t = j;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最小值：%d , 行下标：%d , 列下标：%d\n"</span>, <span class="built_in">min</span>, k, t);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;指针类型编程练习题&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>数组类型</title>
    <link href="https://imqinhao.cn/2021/03/06/c_6/"/>
    <id>https://imqinhao.cn/2021/03/06/c_6/</id>
    <published>2021-03-06T09:02:14.000Z</published>
    <updated>2021-03-15T09:42:38.966Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>数组类型编程练习题</p><a id="more"></a><h2 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h2><h3 id="编程练习6-1"><a href="#编程练习6-1" class="headerlink" title="编程练习6.1"></a>编程练习6.1</h3><p>输入 10 个数到数组 t 中，求最小值及最小值在数组 t 中的下标。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"****************************** 编程练习6.1 ******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">min</span>;</span><br><span class="line">        <span class="keyword">int</span> t[<span class="number">10</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入10个数：\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">min</span> = t[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(t[i] &lt; <span class="built_in">min</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">min</span> = t[i];</span><br><span class="line">                        j = i;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最小值：%d\t下标：%d\n"</span>,<span class="built_in">min</span>,j);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-2"><a href="#编程练习6-2" class="headerlink" title="编程练习6.2"></a>编程练习6.2</h3><p>输入 10 个数到数组 t 中，再输入 x ，如果有与 x 相等的数组元素，输出该数组元素的下标；否则，输出 -1。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"****************************** 编程练习6.2 ******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> n;  <span class="comment">// 下标</span></span><br><span class="line">        <span class="keyword">int</span> x;</span><br><span class="line">        <span class="keyword">int</span> flag;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">int</span> t[<span class="number">10</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入10个数：\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入x的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;x);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(t[i] == x)</span><br><span class="line">                &#123;</span><br><span class="line">                        flag = <span class="number">0</span>;</span><br><span class="line">                        temp = i;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        flag = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-3"><a href="#编程练习6-3" class="headerlink" title="编程练习6.3"></a>编程练习6.3</h3><p>输入 10 个数到数组 t 中，按降序排序，输出排序结果。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"********************************* 编程练习6.3 *********************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">int</span> t[<span class="number">10</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入10个数：\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">10</span>-i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(t[j] &lt; t[j + <span class="number">1</span>])</span><br><span class="line">                        &#123;</span><br><span class="line">                                temp = t[j];</span><br><span class="line">                                t[j] = t[j+<span class="number">1</span>];</span><br><span class="line">                                t[j+<span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>,t[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-4"><a href="#编程练习6-4" class="headerlink" title="编程练习6.4"></a>编程练习6.4</h3><p>输入 10 个整数到数组 t 中（数组长度为偶数），将数组 t 中的数组元素倒置，输出倒置以后的数组 t 。例如，数组 t 中 10 个数组元素依次为 1 、3 、5、 7、 9 、 8、 6、 4 、 2 、 0，倒置以后 10 个数组元素依次为 0、 2、 4、 6、 8、 9、 7、 5、 3、 1。已知声明变量和数组声明为“ int i , tmp, t[10]; “，要求不再声明其他的变量或数组。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"*********************************** 编程练习6.4 ***********************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="keyword">int</span> t[<span class="number">10</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入10个数：\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                tmp = t[<span class="number">9</span>-i];</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>,tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-5"><a href="#编程练习6-5" class="headerlink" title="编程练习6.5"></a>编程练习6.5</h3><p>输入 9 个整数到数组 t 中（数组长度为奇数），将数组 t 中的数组元素倒置，输出倒置以后的数组 t 。例如，数组 t 中 10 个数组元素依次为 2、 4、 6、 8、 9、 7、 5、 3、 1 ，倒置以后 9 个数组元素依次为 1、 3、 5、 7、 9、 8、 6、 4、 2 。已知声明变量和数组声明为“ int i , tmp, t[9]; “，要求不再声明其他的变量或数组。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i,tmp,t[<span class="number">9</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入9个数:\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">9</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">9</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                tmp = t[<span class="number">8</span>-i];</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>,tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-6"><a href="#编程练习6-6" class="headerlink" title="编程练习6.6"></a>编程练习6.6</h3><p>已知数组声明为“ int a[10] = {0,10,20,30,40,50,60,70,80,90}; “ ，10个数组元素是按升序排列的。输入一个整数 n ，如果没有与 n 相等的数组元素，输出 -1 ；否则，删除与 n 相等的数组元素，要求剩余的九个数组元素是按升序排列的，输出数组。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">0</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>,<span class="number">80</span>,<span class="number">90</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> n,i,j,tip,flag;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入整数n："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i] == n)</span><br><span class="line">                &#123;</span><br><span class="line">                        flag = <span class="number">1</span>;</span><br><span class="line">                        tip = i;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag != <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">10</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(tip != j)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">printf</span>(<span class="string">"%5d"</span>,a[j]);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><h3 id="编程练习6-7"><a href="#编程练习6-7" class="headerlink" title="编程练习6.7"></a>编程练习6.7</h3><p>求 3 行 5 列二维数组中的最小值，及最小值在数组中的行号和列号，并输出。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"****************************** 编程练习6.7 ******************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"85\t73\t66\t98\t100\n99\t78\t56\t68\t69\n73\t58\t66\t52\t83\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i,j,<span class="built_in">min</span>,<span class="built_in">line</span>,row;</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>] = &#123; &#123;<span class="number">85</span>,<span class="number">73</span>,<span class="number">66</span>,<span class="number">98</span>,<span class="number">100</span>&#125;,</span><br><span class="line">                        &#123;<span class="number">99</span>,<span class="number">78</span>,<span class="number">56</span>,<span class="number">68</span>,<span class="number">69</span>&#125;,</span><br><span class="line">                        &#123;<span class="number">73</span>,<span class="number">58</span>,<span class="number">66</span>,<span class="number">52</span>,<span class="number">83</span>&#125;&#125;;</span><br><span class="line">        <span class="built_in">min</span> = a[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">5</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">min</span> &gt; a[i][j])</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">min</span> = a[i][j];</span><br><span class="line">                                <span class="built_in">line</span> = i + <span class="number">1</span>;</span><br><span class="line">                                row = j + <span class="number">1</span>;</span><br><span class="line">                        &#125;               </span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最小值：%d\t行号：%d\t\t列号：%d\n"</span>,<span class="built_in">min</span>,<span class="built_in">line</span>,row);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-8"><a href="#编程练习6-8" class="headerlink" title="编程练习6.8"></a>编程练习6.8</h3><p>求 3 行 5 列二维数组中每列数组元素的最小值，并输出。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"********************************* 编程练习6.8 *********************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"82\t77\t93\t86\t99\n72\t66\t45\t53\t30\n100\t97\t88\t67\t98\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i,j,<span class="built_in">min</span>;</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>] = &#123;&#123;<span class="number">82</span>,<span class="number">77</span>,<span class="number">93</span>,<span class="number">86</span>,<span class="number">99</span>&#125;,&#123;<span class="number">72</span>,<span class="number">66</span>,<span class="number">45</span>,<span class="number">53</span>,<span class="number">30</span>&#125;,&#123;<span class="number">100</span>,<span class="number">97</span>,<span class="number">88</span>,<span class="number">67</span>,<span class="number">98</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">min</span> = a[i][<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">5</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">min</span> &gt; a[i][j])</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">min</span> = a[i][j];</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"第%d行的最小值：%d\n"</span>,i,<span class="built_in">min</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-9"><a href="#编程练习6-9" class="headerlink" title="编程练习6.9"></a>编程练习6.9</h3><p>求 3 行 3 列二维数组主对角线（从左上角到右下角）上元素之和。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"***************************** 编程练习6.9 *****************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1\t2\t3\n4\t5\t6\n7\t8\t9\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i,j,sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">3</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;,&#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">3</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(i == j)</span><br><span class="line">                        &#123;</span><br><span class="line">                                sum += a[i][j];</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sum = %d\n"</span>,sum);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-10"><a href="#编程练习6-10" class="headerlink" title="编程练习6.10"></a>编程练习6.10</h3><p>二维数组 a （3 行 4 列）表示矩阵 A ，二维数组 b （4 行 5 列）表示矩阵 B ，计算矩阵 A 与 矩阵 B 的成绩。</p><psw>博主正在研究题目中。。。</psw><h2 id="数组与字符串"><a href="#数组与字符串" class="headerlink" title="数组与字符串"></a>数组与字符串</h2><h3 id="编程练习6-11"><a href="#编程练习6-11" class="headerlink" title="编程练习6.11"></a>编程练习6.11</h3><p>不调用库函数 strcpy，将以下数组 s1 中的字符串复制到数组 s2 中，并输出数组 s2 中的字符串。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>  s1[<span class="number">80</span>], s2[<span class="number">80</span>];</span><br><span class="line"></span><br><span class="line">gets(s1);</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> s1[<span class="number">80</span>],s2[<span class="number">80</span>];</span><br><span class="line">        gets(s1);</span><br><span class="line">        <span class="keyword">while</span>(s1[i] != <span class="string">'\0'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                s2[i] = s1[i];</span><br><span class="line">                i ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,s2);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-12"><a href="#编程练习6-12" class="headerlink" title="编程练习6.12"></a>编程练习6.12</h3><p>输入 10 个字符串，输出最大的字符串。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************** 编程练习6.12 ********************************\n"</span>);</span><br><span class="line">        <span class="keyword">char</span> ch[<span class="number">10</span>][<span class="number">100</span>];</span><br><span class="line">        <span class="keyword">char</span> <span class="built_in">max</span>[<span class="number">100</span>];</span><br><span class="line">        <span class="keyword">int</span> i,j,n;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入10个字符串：\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>,ch[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcpy</span>(<span class="built_in">max</span>,ch[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt; <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;       </span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">strcmp</span>(ch[i],<span class="built_in">max</span>) &gt; <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">strcpy</span>(<span class="built_in">max</span>,ch[i]);</span><br><span class="line">                &#125;       </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"max:%s\n"</span>,<span class="built_in">max</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-13"><a href="#编程练习6-13" class="headerlink" title="编程练习6.13"></a>编程练习6.13</h3><p>判断数组 s 中的字符串是不是回文。一个字符串从左向右读和从右向左读是一样的，该字符串是回文。例如，字符串 “abcdedcba” 是回文。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i,j,flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> s[<span class="number">80</span>];</span><br><span class="line">        gets(s);</span><br><span class="line">        j = <span class="built_in">strlen</span>(s) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="built_in">strlen</span>(s);i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] != s[j])</span><br><span class="line">                &#123;</span><br><span class="line">                        flag = <span class="number">1</span>;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%s 不是回文\n"</span>,s);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                j --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag != <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s 是回文\n"</span>,s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习6-14"><a href="#编程练习6-14" class="headerlink" title="编程练习6.14"></a>编程练习6.14</h3><p>输出数组 s 中字符串的子串，子串从 s[begin] 开始，长度为 len 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> s[<span class="number">80</span>];</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">begin</span>, len;</span><br><span class="line">gets(s);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;<span class="built_in">begin</span>, &amp;len);</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"****************************** 编程练习6.14 ******************************\n"</span>);</span><br><span class="line">        <span class="keyword">char</span> s[<span class="number">80</span>];</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">begin</span>, len;</span><br><span class="line">        gets(s);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;<span class="built_in">begin</span>, &amp;len);</span><br><span class="line">        <span class="keyword">for</span>(;len &gt; <span class="number">0</span>;len --,<span class="built_in">begin</span> ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%c"</span>,s[<span class="built_in">begin</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;数组类型编程练习题&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>循环结构</title>
    <link href="https://imqinhao.cn/2021/03/05/c_5/"/>
    <id>https://imqinhao.cn/2021/03/05/c_5/</id>
    <published>2021-03-05T09:02:14.000Z</published>
    <updated>2021-03-15T09:40:18.501Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>循环结构编程练习题</p><a id="more"></a><h2 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a>for语句</h2><h3 id="编程练习5-1"><a href="#编程练习5-1" class="headerlink" title="编程练习5.1"></a>编程练习5.1</h3><p>降序输出 1 ~ 30 中所有的偶数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 降序输出1~30中的所有偶数</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">30</span>;i &gt;= <span class="number">1</span>;i --)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d\t"</span>,i);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-2"><a href="#编程练习5-2" class="headerlink" title="编程练习5.2"></a>编程练习5.2</h3><p>输入10个分数，去掉最高分和最低分后求平均分，保留一位小数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">//输入10个分数，去掉最高分和最低分后求平均分，保留一位小数</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> score;</span><br><span class="line">        <span class="keyword">double</span> MaxScore;</span><br><span class="line">        <span class="keyword">double</span> MinScore;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">double</span> average; </span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"请第%d位裁判评分："</span>,i);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;score);</span><br><span class="line">                MinScore = score;</span><br><span class="line">                <span class="keyword">if</span>(score &gt; MaxScore)</span><br><span class="line">                &#123;</span><br><span class="line">                        MaxScore = score;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(score &lt; MinScore)</span><br><span class="line">                &#123;</span><br><span class="line">                        MinScore = score;</span><br><span class="line">                &#125;</span><br><span class="line">                sum += score;</span><br><span class="line">        &#125;</span><br><span class="line">        sum = sum - MaxScore - MinScore;</span><br><span class="line">        average = sum / <span class="number">8.0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"去掉一个最高分：%.1lf分\n"</span>,MaxScore);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"去掉一个最低分：%.1lf分\n"</span>,MinScore);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"总分是：%.1lf分\n"</span>,sum);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"平均分是%.1lf分\n"</span>,average);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-3"><a href="#编程练习5-3" class="headerlink" title="编程练习5.3"></a>编程练习5.3</h3><p>求 1×2×3×…×10的值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                result *= i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-4"><a href="#编程练习5-4" class="headerlink" title="编程练习5.4"></a>编程练习5.4</h3><p>求 1！+  2！+  3！+ … + 10!  的值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">int</span> res;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">10</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                res = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">1</span>;j &lt;= i;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        res *= j;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d的阶乘是：%d\n"</span>,i,res);</span><br><span class="line">                sum += res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-5"><a href="#编程练习5-5" class="headerlink" title="编程练习5.5"></a>编程练习5.5</h3><p>根据用户输入的正整数 a（1~9）和正整数 n ，求 a + aa + … + aa…a（n 个 a ）的值。例如，当用户输入 a 为 6 ，n 为 5 时，6 + 66 + 666 + 6666 + 66666 = 74070 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"*********************** 编程练习5.5 ***********************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> g = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> sum;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入a的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        &#123;       </span><br><span class="line">                g += a;</span><br><span class="line">                <span class="keyword">if</span>(i != n)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d + "</span>,g);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d"</span>,g);</span><br><span class="line">                &#125;</span><br><span class="line">                s += g;</span><br><span class="line">                g *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" = %d\n"</span>,s);</span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-6"><a href="#编程练习5-6" class="headerlink" title="编程练习5.6"></a>编程练习5.6</h3><p>$$<br>根据用户输入的正整数n，求 1 + \frac{1}{3}+ \frac{1}{5}+ \frac{1}{7}+… 的前n项之和。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> result = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>( i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                result = (<span class="number">1</span> / (<span class="number">2.0</span> * i - <span class="number">1</span>));</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"1 / ( 2.0 * %d - 1) = %.2lf\n"</span>,i,result);</span><br><span class="line">                sum += result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"结果为：%.2lf\n"</span>,sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-7"><a href="#编程练习5-7" class="headerlink" title="编程练习5.7"></a>编程练习5.7</h3><p>$$<br>根据用户输入的正整数n，求 1 - \frac{1}{2}+\frac{1}{3}-\frac{1}{4}+…+\frac{(-1)^{n+1}}{n}的值。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> n;  <span class="comment">//用户输入n的值</span></span><br><span class="line">        <span class="keyword">double</span> result;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入n的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        result -= <span class="number">1.0</span>/i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        result += <span class="number">1.0</span>/i;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"结果为：%.2lf\n"</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-8"><a href="#编程练习5-8" class="headerlink" title="编程练习5.8"></a>编程练习5.8</h3><p>$$<br>求\frac{2}{1}+\frac{3}{2}+\frac{5}{3}+\frac{8}{5}+\frac{13}{8}+…的前20项之和。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"************************* 编程练习5.8 *************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> x = <span class="number">1.0</span>;</span><br><span class="line">        <span class="keyword">double</span> y = <span class="number">2.0</span>;</span><br><span class="line">        <span class="keyword">double</span> z;</span><br><span class="line">        <span class="keyword">double</span> result;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">20</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                z = (y / x);</span><br><span class="line">                result += z;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%.lf / %.lf = %lf\n"</span>,y,x,z);</span><br><span class="line">                z = y;</span><br><span class="line">                y += x;</span><br><span class="line">                x = z;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"**************************************************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最终的结果为：%lf\n"</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-9"><a href="#编程练习5-9" class="headerlink" title="编程练习5.9"></a>编程练习5.9</h3><p>$$<br>求 1-\frac{2}{3}+\frac{3}{5}-\frac{4}{7}+\frac{5}{9}-\frac{6}{11}+…的前20项之和。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"*********************** 编程练习5.9 ***********************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">double</span> a = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">double</span> result;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">20</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        result -= (i / a);</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"第%d项：- %d / %.lf\n"</span>,i,i,a);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        result += (i / a);</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"第%d项：+  %d / %.lf\n"</span>,i,i,a);</span><br><span class="line">                &#125;</span><br><span class="line">                a += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"**********************************************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"结果为：%lf\n"</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-10"><a href="#编程练习5-10" class="headerlink" title="编程练习5.10"></a>编程练习5.10</h3><p>求数列 1,2,3,5,8,13,21,34，… 的第25项的值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 求数列1,2,3,5,8,13,21,34, ...中第25项的值。</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************** 编程练习5.10 ********************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"需求：求数列1,2,3,5,8,13,21,34, ...中第25项的值。\n"</span>);  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">25</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                sum = a + b;</span><br><span class="line">                a = b;</span><br><span class="line">                b = sum;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"第%d项：%d\n"</span>,i,sum);</span><br><span class="line">        &#125;       </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************************************\n"</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-11"><a href="#编程练习5-11" class="headerlink" title="编程练习5.11"></a>编程练习5.11</h3><p>输出数列0,1,2,3,6,11,20,37,68, …的前20项，每行输出5项</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"************************** 编程练习5.11 **************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"     输出数列0,1,2,3,6,11,20,37,68, ...的前20项，每行输出5项\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> sum;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\t%d\t%d\t"</span>,a,b,c);</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">4</span>;i &lt;= <span class="number">20</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                sum = a + b + c;</span><br><span class="line">                a = b;</span><br><span class="line">                b = c;</span><br><span class="line">                c = sum;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>,sum);</span><br><span class="line">                <span class="keyword">if</span>(i % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-12"><a href="#编程练习5-12" class="headerlink" title="编程练习5.12"></a>编程练习5.12</h3><p>输入15个字符，统计其中英文字母、数字字符、空格和其他字符的个数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"**************************** 编程练习5.12 ****************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        <span class="keyword">int</span> letter_times = <span class="number">0</span>;   <span class="comment">//英文字母次数</span></span><br><span class="line">        <span class="keyword">int</span> number_times = <span class="number">0</span>;   <span class="comment">//数字字符次数</span></span><br><span class="line">        <span class="keyword">int</span> space_times = <span class="number">0</span>;    <span class="comment">//空格次数</span></span><br><span class="line">        <span class="keyword">int</span> others_times = <span class="number">0</span>;   <span class="comment">//其它次数</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">15</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"请输入第%d个字符："</span>,i);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;ch);</span><br><span class="line">                getchar();</span><br><span class="line">                <span class="keyword">if</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        number_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        letter_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ch &gt;= <span class="string">'A'</span> &amp;&amp; ch &lt;= <span class="string">'Z'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        letter_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">' '</span> || ch == <span class="string">"\n"</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        space_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        others_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"*********************** 统计结果 ***********************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"英文字母个数：%d\n"</span>,letter_times);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数字字符个数：%d\n"</span>,number_times);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"空格字符个数：%d\n"</span>,space_times);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"其它字符个数：%d\n"</span>,others_times);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-13"><a href="#编程练习5-13" class="headerlink" title="编程练习5.13"></a>编程练习5.13</h3><p>输出 2000~2100 年之间所有的闰年。符合以下二者之一的年份是闰年：</p><p>（1）能被4整除，但不能被100整除，如2016。</p><p>（2）能被400整除，如2000。</p><p>要求：每行输出5项。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"************************** 编程练习5.13 **************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> year;</span><br><span class="line">        <span class="keyword">int</span> times;</span><br><span class="line">        <span class="keyword">for</span>(year = <span class="number">2000</span>;year &lt;= <span class="number">2100</span>;year ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span> || year % <span class="number">400</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        times ++;</span><br><span class="line">                        <span class="keyword">if</span>(times % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,year);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">printf</span>(<span class="string">"%d\t"</span>,year);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-14"><a href="#编程练习5-14" class="headerlink" title="编程练习5.14"></a>编程练习5.14</h3><p>$$<br>输出所有的水仙花数。水仙花数是一个三位正整数，每位数字的三次方之和等于该数本身。例如1^3+5^3+3^3=153，153是水仙花数。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"************************* 编程练习5.14 *************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;  <span class="comment">//循环记数</span></span><br><span class="line">        <span class="keyword">int</span> a;  <span class="comment">//百位</span></span><br><span class="line">        <span class="keyword">int</span> b;  <span class="comment">//十位</span></span><br><span class="line">        <span class="keyword">int</span> c;  <span class="comment">//个位</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">100</span>;i &lt;= <span class="number">999</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                a = i / <span class="number">100</span>;</span><br><span class="line">                b = i % <span class="number">100</span> / <span class="number">10</span>;</span><br><span class="line">                c = i % <span class="number">100</span> % <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">if</span>(a*a*a + b*b*b + c*c*c == i)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d\t%d\t%d\t%d\n"</span>,a,b,c,i);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a>while语句</h2><h3 id="编程练习5-15"><a href="#编程练习5-15" class="headerlink" title="编程练习5.15"></a>编程练习5.15</h3><p>输入若干整数，以 -1 结束，去掉最大值和最小值，求平均值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> number;</span><br><span class="line">        <span class="keyword">int</span> times = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> average;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入整数（输入-1结束）：\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;number);</span><br><span class="line">        <span class="keyword">while</span>(number != <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                sum += number;</span><br><span class="line">                times ++;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;number);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(times &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                average = sum / times;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"平均值为：%d\n"</span>,average);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"错误输入！\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-16"><a href="#编程练习5-16" class="headerlink" title="编程练习5.16"></a>编程练习5.16</h3><p>输入一行字符，统计英文字母、数字字符、空格和其他字符的个数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"**************************** 编程练习5.16 ****************************\n"</span>);</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        <span class="keyword">int</span> letter_times = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> number_times = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> space_times = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> others_times = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入一行字符："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;ch);</span><br><span class="line">        <span class="keyword">while</span>(ch != <span class="string">'\n'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        number_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span> || ch &gt;= <span class="string">'A'</span> &amp;&amp; ch &lt;= <span class="string">'Z'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        letter_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">' '</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        space_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        others_times ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;ch);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"**************************** 数据统计结果 ****************************\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"英文字符个数：%d\n"</span>, letter_times);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数字字符个数：%d\n"</span>, number_times);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"空格字符个数：%d\n"</span>, space_times);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"其他字符个数：%d\n"</span>, others_times);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-17"><a href="#编程练习5-17" class="headerlink" title="编程练习5.17"></a>编程练习5.17</h3><p>$$<br>求1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+…+\frac{(-1)^{n+1}}{n}的值，绝对值小于10^{-5}的项不计算。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="编程练习5-18"><a href="#编程练习5-18" class="headerlink" title="编程练习5.18"></a>编程练习5.18</h3><p>$$<br>根据公式\frac{π}{4}≈1-\frac{1}{3}+\frac{1}{5}-\frac{1}{7}+…求π的近似值，绝对值小于10^{-5}的项不计算。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"***************************** 编程练习5.18 *****************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> times = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">double</span> item;</span><br><span class="line">        <span class="keyword">while</span>( (item = <span class="number">1.0</span>/i) &gt;= <span class="number">1.0e-5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(times % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        sum -= item;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        sum += item;</span><br><span class="line">                &#125;</span><br><span class="line">                times ++;</span><br><span class="line">                i += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sum = %lf\n"</span>,<span class="number">4</span>*sum);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-19"><a href="#编程练习5-19" class="headerlink" title="编程练习5.19"></a>编程练习5.19</h3><p>$$<br>求1-\frac{1}{4}+\frac{1}{7}-\frac{1}{10}+\frac{1}{13}-\frac{1}{16}+…的值，绝对值小于10^{-5}的项不计算。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************** 编程练习5.19 ********************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> times = <span class="number">1</span>;  <span class="comment">//循环计次</span></span><br><span class="line">        <span class="keyword">double</span> item;</span><br><span class="line">        <span class="keyword">double</span> sum;</span><br><span class="line">        <span class="keyword">while</span>( (item = <span class="number">1.0</span>/i) &gt;= <span class="number">1.0e-5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>(times % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                        sum -= item;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                        sum += item;</span><br><span class="line">                &#125;</span><br><span class="line">                i += <span class="number">3</span>;</span><br><span class="line">                times ++;       </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sum = %lf\n"</span>,sum);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-20"><a href="#编程练习5-20" class="headerlink" title="编程练习5.20"></a>编程练习5.20</h3><p>输入两个正整数，求最小公倍数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"**************************** 编程练习5.20 ****************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> number1;</span><br><span class="line">        <span class="keyword">int</span> number2;</span><br><span class="line">        <span class="keyword">int</span> gcd;        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入两个正整数：\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;number1,&amp;number2);</span><br><span class="line">        <span class="keyword">if</span>(number1 &gt; number2)</span><br><span class="line">        &#123;</span><br><span class="line">                gcd = number1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                gcd = number2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(gcd % number1 || gcd % number2)</span><br><span class="line">        &#123;</span><br><span class="line">                gcd ++;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d 和 %d 的最小公倍数为：%d\n"</span>,number1,number2,gcd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-21"><a href="#编程练习5-21" class="headerlink" title="编程练习5.21"></a>编程练习5.21</h3><p>输入一个正整数 n ，求 n 是几位数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> number;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">size</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入一个正整数："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;number);</span><br><span class="line">        <span class="keyword">while</span>(number)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">size</span> ++;</span><br><span class="line">                number /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数字的位数为：%d 位\n"</span>,<span class="built_in">size</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-22"><a href="#编程练习5-22" class="headerlink" title="编程练习5.22"></a>编程练习5.22</h3><p>输入一个正整数 n ，判断 n 是否为回文数。所谓回文数，是从左到右读这个数和从右到左读这个数是一样的。例如，98789是回文数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"*************************** 编程练习5.22 ***************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> number;</span><br><span class="line">        <span class="keyword">int</span> x;</span><br><span class="line">        <span class="keyword">int</span> y = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入一个正整数："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;number);</span><br><span class="line">        x = number;</span><br><span class="line">        <span class="keyword">while</span>(x &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                y = y * <span class="number">10</span> + x % <span class="number">10</span>;</span><br><span class="line">                x = x / <span class="number">10</span>;</span><br><span class="line">        &#125;       </span><br><span class="line">        <span class="keyword">if</span>(y == number)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d 是一个回文数\n"</span>,number);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d 不是一个回文数\n"</span>,number);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="嵌套的循环语句"><a href="#嵌套的循环语句" class="headerlink" title="嵌套的循环语句"></a>嵌套的循环语句</h2><h3 id="编程练习5-25"><a href="#编程练习5-25" class="headerlink" title="编程练习5.25"></a>编程练习5.25</h3><p>输入如下所示的五五乘法表。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210312153345.png" alt=""></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习5.25 *******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">int</span> k;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">5</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = i;j &lt;= <span class="number">5</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d * %d = %d\t"</span>,i,j,i*j);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">                <span class="keyword">for</span>(k = <span class="number">0</span>;k &lt;= i<span class="number">-1</span>;k ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"\t\t"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-26"><a href="#编程练习5-26" class="headerlink" title="编程练习5.26"></a>编程练习5.26</h3><p>输出如图所示的图案</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210312153441.png" alt=""></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习5.26 *******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">int</span> k;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= <span class="number">7</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="comment">// 1 : 6</span></span><br><span class="line">                <span class="comment">// 2 : 5</span></span><br><span class="line">                <span class="comment">// 3 : 4</span></span><br><span class="line">                <span class="keyword">for</span>(k = <span class="number">1</span>;k &lt;= <span class="number">7</span>-i;k ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">1</span>;j &lt;= i*<span class="number">2</span><span class="number">-1</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-27"><a href="#编程练习5-27" class="headerlink" title="编程练习5.27"></a>编程练习5.27</h3><p>根据输入的行数输出图案。例如，输入的行数为 7 ，则输出的图案如图所示。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210312153614.png" alt=""></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"***************************** 编程练习5.27 *****************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">int</span> k;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入行数："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(i = -n / <span class="number">2</span>;i &lt;= n / <span class="number">2</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="built_in">abs</span>(i);j &gt;= <span class="number">0</span>;j --)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(k = <span class="number">1</span>;k &lt;= n - <span class="number">2</span> * <span class="built_in">abs</span>(i);k ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-28"><a href="#编程练习5-28" class="headerlink" title="编程练习5.28"></a>编程练习5.28</h3><p>输出 100 以内所有的质数，每行输出5个质数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"******************************* 编程练习5.28 *******************************\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">int</span> m;</span><br><span class="line">        <span class="keyword">int</span> times = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">2</span>;i &lt; <span class="number">100</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                m = (<span class="keyword">int</span>)(<span class="built_in">sqrt</span>(i) + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">2</span>;j &lt; m;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">if</span>(i % j == <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j == m)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d\t"</span>,i);</span><br><span class="line">                        times ++;</span><br><span class="line">                        <span class="keyword">if</span>(times % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习5-29"><a href="#编程练习5-29" class="headerlink" title="编程练习5.29"></a>编程练习5.29</h3><p>百钱买百鸡问题。一百个铜钱买了一百只鸡，其中公鸡一只5钱，母鸡一只3钱，小鸡一钱3只。问：一百只鸡中公鸡、母鸡、小鸡各有多少只？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;  <span class="comment">//公鸡</span></span><br><span class="line">        <span class="keyword">int</span> j;  <span class="comment">//母鸡</span></span><br><span class="line">        <span class="keyword">int</span> k;  <span class="comment">//小鸡</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt;= <span class="number">20</span>;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt;= <span class="number">33</span>;j ++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="keyword">for</span>(k = <span class="number">3</span>;k &lt;= <span class="number">99</span>;k ++)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="keyword">if</span>(i * <span class="number">5</span> + j * <span class="number">3</span> + k/<span class="number">3</span> == <span class="number">100</span>)</span><br><span class="line">                                &#123;</span><br><span class="line">                                        <span class="keyword">if</span>(i + j + k == <span class="number">100</span>)</span><br><span class="line">                                        &#123;</span><br><span class="line">                                                <span class="keyword">if</span>(k % <span class="number">3</span> == <span class="number">0</span>)</span><br><span class="line">                                                &#123;</span><br><span class="line">                                                        <span class="built_in">printf</span>(<span class="string">"公鸡：%d 只\t母鸡：%d 只\t小鸡：%d 只\n"</span>,i,j,k);</span><br><span class="line">                                                &#125;</span><br><span class="line">                                        &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;循环结构编程练习题&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>选择结构</title>
    <link href="https://imqinhao.cn/2021/03/04/c_4/"/>
    <id>https://imqinhao.cn/2021/03/04/c_4/</id>
    <published>2021-03-04T09:02:14.000Z</published>
    <updated>2021-03-17T06:15:41.793Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>选择结构编程练习题</p><a id="more"></a><h2 id="关系运算符和相等类运算符"><a href="#关系运算符和相等类运算符" class="headerlink" title="关系运算符和相等类运算符"></a>关系运算符和相等类运算符</h2><h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><table><thead><tr><th align="center">关系运算符</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">&lt;</td><td align="center">小于</td></tr><tr><td align="center">&gt;</td><td align="center">大于</td></tr><tr><td align="center">&lt;=</td><td align="center">小于或等于</td></tr><tr><td align="center">&gt;=</td><td align="center">大于或等于</td></tr></tbody></table><div class="note success"><p>表达关系式的类型是<kbd>int</kbd>。如果指定的关系为<kbd>真</kbd>，关系表达式的值是<kbd>1</kbd>；如果指定的关系为<kbd>假</kbd>，关系表达式的值是<kbd>0</kbd>。</p></div><h3 id="相等类运算符"><a href="#相等类运算符" class="headerlink" title="相等类运算符"></a>相等类运算符</h3><table><thead><tr><th align="center">相等类运算符</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">==</td><td align="center">等于</td></tr><tr><td align="center">!=</td><td align="center">不等于</td></tr></tbody></table><div class="note success"><p>相等类表达式的类型是<kbd>int</kbd>。如果指定的关系为<kbd>真</kbd>，相等类表达式的值是<kbd>1</kbd>；如果指定的关系为<kbd>假</kbd>，相等类表达式的值是<kbd>0</kbd>。</p></div><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><h3 id="逻辑非运算符"><a href="#逻辑非运算符" class="headerlink" title="逻辑非运算符"></a>逻辑非运算符</h3><p>逻辑非运算符是<kbd> ! </kbd>，属于单目运算符。</p><div class="note success"><p>逻辑非运算符和运算对象构成的表达式的类型是<kbd>int</kbd>。如果运算对象的值不等于<kbd>0</kbd>，表达式的值是<kbd>0</kbd>；如果运算对象的值等于<kbd>假</kbd>，相等类表达式的值是<kbd>1</kbd>。</p></div><h3 id="逻辑与运算符"><a href="#逻辑与运算符" class="headerlink" title="逻辑与运算符"></a>逻辑与运算符</h3><p>逻辑与运算符是<kbd>&&</kbd>，属于双目运算符。</p><div class="note success"><p>逻辑与运算符和运算对象构成的表达式的类型是<kbd>int</kbd>。如果两个运算对象的值都不等于<kbd>0</kbd>，表达式的值是<kbd>1</kbd>；否则，表达式的值是0。即任何一个运算对象的值等于0，表达式的值是0</p></div><h3 id="逻辑非运算符-1"><a href="#逻辑非运算符-1" class="headerlink" title="逻辑非运算符"></a>逻辑非运算符</h3><p>逻辑非运算符是<kbd>||</kbd>，属于双目运算符。</p><div class="note success"><p>逻辑或运算符和运算对象构成的表达式的类型是<kbd>int</kbd>。如果任何一个运算对象的值不等于<kbd>0</kbd>，表达式的值是<kbd>1</kbd>；否则，表达式的值是0。即只有两个运算对象的值都等于0，表达式的值才是0</p></div><h2 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h2><h3 id="第一种形式"><a href="#第一种形式" class="headerlink" title="第一种形式"></a>第一种形式</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (表达式)</span><br><span class="line">语句</span><br></pre></td></tr></table></figure><blockquote><p>其功能是：如果表达式的值不等于0，则执行其后的语句；否则，不执行该语句。</p></blockquote><h3 id="第二种形式"><a href="#第二种形式" class="headerlink" title="第二种形式"></a>第二种形式</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (表达式)</span><br><span class="line">语句<span class="number">1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">语句<span class="number">2</span></span><br></pre></td></tr></table></figure><blockquote><p>其功能是：如果表达式的值不等于0，则执行语句1；否则，执行语句2。</p></blockquote><h3 id="嵌套的if语句"><a href="#嵌套的if语句" class="headerlink" title="嵌套的if语句"></a>嵌套的if语句</h3><p>if 语句的两种形式中，如果“语句”、“语句1”或“语句2”也是if语句，称为嵌套的if语句。</p><h2 id="编程练习"><a href="#编程练习" class="headerlink" title="编程练习"></a>编程练习</h2><h3 id="编程练习4-1"><a href="#编程练习4-1" class="headerlink" title="编程练习4.1"></a>编程练习4.1</h3><p>$$<br>输入整数a和b，如果a^2+b^2大于100，则输出a+b的值；否则，输出a-b的值。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 输入整数a和b，如果a²+b²大于100，则输出a+b的值，否则，输出a-b的值</span></span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        <span class="keyword">int</span> b;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入a的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入b的值："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;b);</span><br><span class="line">        <span class="keyword">if</span>(a * a + b * b &gt; <span class="number">100</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"a + b = %d\n"</span>,a + b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"a - b = %d\n"</span>,a - b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习4-2"><a href="#编程练习4-2" class="headerlink" title="编程练习4.2"></a>编程练习4.2</h3><p>输入整数 n ，如果 n 既是 5 的整倍数又是 7 的整倍数，则输出 yes，否则输出 no 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 输入整数n，如果n既是5的整倍数又是7的整倍数，则输出yes，否则输出no</span></span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入一个整数："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">5</span> == <span class="number">0</span> &amp;&amp; n % <span class="number">7</span> == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"yes\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"no\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习4-3"><a href="#编程练习4-3" class="headerlink" title="编程练习4.3"></a>编程练习4.3</h3><p>商场为促销实行打折销售商品，折扣规则如表所示。</p><table><thead><tr><th align="center">商品数量</th><th align="center">折扣</th></tr></thead><tbody><tr><td align="center">x  &lt;  5</td><td align="center">0</td></tr><tr><td align="center">5  ≤  x  &lt; 10</td><td align="center">1%</td></tr><tr><td align="center">10  ≤  x  &lt;  21</td><td align="center">2%</td></tr><tr><td align="center">21  ≤  x  &lt;  30</td><td align="center">4%</td></tr><tr><td align="center">30  ≤  x</td><td align="center">6%</td></tr></tbody></table><p>假定商品的价格为 p 元，编程计算某顾客购买 x 件商品的应付金额。计算公式为：<br>$$<br>sum = p * x * (1-d)<br>$$<br>其中，sum 为应付金额，d 为折扣数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">        <span class="keyword">double</span> p;       <span class="comment">//商品价格</span></span><br><span class="line">        <span class="keyword">int</span> x;          <span class="comment">//商品数量</span></span><br><span class="line">        <span class="keyword">double</span> sum;     <span class="comment">//应付金额</span></span><br><span class="line">        <span class="keyword">double</span> d;       <span class="comment">//折扣数</span></span><br><span class="line">        <span class="keyword">int</span> b;          <span class="comment">//折扣率</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入商品的数量："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;x);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入商品的单价："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;p);</span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                d = <span class="number">0</span>;</span><br><span class="line">                b = d * <span class="number">100</span>;</span><br><span class="line">                sum = p * x * (<span class="number">1</span>-d);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; <span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                d = <span class="number">0.01</span>;</span><br><span class="line">                b = d * <span class="number">100</span>;</span><br><span class="line">                sum = p * x * (<span class="number">1</span>-d);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x &lt; <span class="number">21</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                d = <span class="number">0.02</span>;</span><br><span class="line">                b = d * <span class="number">100</span>;</span><br><span class="line">                sum = p * x * (<span class="number">1</span>-d);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x &lt; <span class="number">30</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                d = <span class="number">0.04</span>;</span><br><span class="line">                b = d * <span class="number">100</span>;</span><br><span class="line">                sum = p * x * (<span class="number">1</span>-d);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                d = <span class="number">0.06</span>;</span><br><span class="line">                b = d * <span class="number">100</span>;</span><br><span class="line">                sum =  p * x * (<span class="number">1</span>-d);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"你购买了%d件商品\n单价为%.2lf元\n折扣数为：%d%\n结算价格为%.2lf元\n"</span>,x,p,b,sum);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习4-4"><a href="#编程练习4-4" class="headerlink" title="编程练习4.4"></a>编程练习4.4</h3><p>输入’0’<del>‘9’或’a’</del>‘f’或’A’~’F’中的一个字符，代表一个十六进制数，将其转换为十进制数，求该数与15的和并输出。例如，输入a，输出25。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        <span class="keyword">int</span> result;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入字符："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;ch);</span><br><span class="line">        <span class="keyword">if</span>(ch == <span class="string">'a'</span> || ch == <span class="string">'A'</span>)&#123;</span><br><span class="line">                result = <span class="number">10</span> + <span class="number">15</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">'b'</span> || ch == <span class="string">'B'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                result = <span class="number">11</span> + <span class="number">15</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">'c'</span> || ch == <span class="string">'C'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                result = <span class="number">12</span> + <span class="number">15</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">'d'</span> || ch == <span class="string">'D'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                result = <span class="number">13</span> + <span class="number">15</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">'e'</span> || ch == <span class="string">'E'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                result = <span class="number">14</span> + <span class="number">15</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">'f'</span> || ch == <span class="string">'F'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                result = <span class="number">15</span> + <span class="number">15</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                result = ch - <span class="number">48</span>  + <span class="number">15</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"请检查输入！\n"</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编程练习4-5"><a href="#编程练习4-5" class="headerlink" title="编程练习4.5"></a>编程练习4.5</h3><p>输出一张如下所示的时间表：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20210310141539.png" alt=""></p><p>根据输入的序号显示相应的问候信息：输入 1 时，输出 Good  morning ；输入 2 时，输出 Good  Afternoon ；输入 3 时，输出 Good  night； 对于其他的输入，则输出 error 。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;选择结构编程练习题&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>顺序结构</title>
    <link href="https://imqinhao.cn/2021/03/03/c_3/"/>
    <id>https://imqinhao.cn/2021/03/03/c_3/</id>
    <published>2021-03-03T09:02:14.000Z</published>
    <updated>2021-03-15T09:36:14.403Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>顺序结构编程练习题</p><a id="more"></a><h2 id="编程练习"><a href="#编程练习" class="headerlink" title="编程练习"></a>编程练习</h2><h3 id=""><a href="#" class="headerlink" title=""></a><span class='p green'>编程练习3.4</span></h3><p>使用转换说明%c输出以下图案（注：星号之间没有空格）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"    %c    \n"</span>,<span class="string">'*'</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"   %c%c%c   \n"</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"  %c%c%c%c%c  \n"</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" %c%c%c%c%c%c%c \n"</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c%c%c%c%c%c%c%c%c\n"</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>,<span class="string">'*'</span>);     </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-1"><a href="#-1" class="headerlink" title=""></a><span class='p green'>编程练习3.5</span></h3><p>输入三个整数，求其平均值。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 输入三个整数，求其平均值</span></span><br><span class="line">        <span class="keyword">int</span> num1;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num1);</span><br><span class="line">        <span class="keyword">int</span> num2;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num2);</span><br><span class="line">        <span class="keyword">int</span> num3;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num3);</span><br><span class="line">        <span class="keyword">int</span> average = (num1 + num2 + num3)/<span class="number">3</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"( %d + %d + %d) ÷ 3 = %d\n"</span>,num1,num2,num3,average);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-2"><a href="#-2" class="headerlink" title=""></a><span class='p green'>编程练习3.6</span></h3><p>$$<br>根据公式c=\frac{5}{9}(f-32)，输入华氏温度f，求摄氏温度c，结果精确到小数点后两位。<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> f ;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;f);</span><br><span class="line">        <span class="keyword">double</span> c;</span><br><span class="line">        c = <span class="number">5</span>/<span class="number">9.0</span>*(f<span class="number">-32.0</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.2lf℉ = %.2lf℃\n"</span>,f,c);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-3"><a href="#-3" class="headerlink" title=""></a><span class='p green'>编程练习3.7</span></h3><p>输入圆的半径，求圆的周长和面积。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> r;</span><br><span class="line">        <span class="keyword">double</span> PI = <span class="number">3.14</span>;</span><br><span class="line">        <span class="keyword">double</span> c;</span><br><span class="line">        <span class="keyword">double</span> s;</span><br><span class="line">        <span class="comment">//用户输入半径</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;r);</span><br><span class="line">        <span class="comment">//圆的周长</span></span><br><span class="line">        c = PI * (<span class="number">2</span> * r);</span><br><span class="line">        <span class="comment">//圆的面积</span></span><br><span class="line">        s = PI * (r * r);</span><br><span class="line">        <span class="comment">//输出</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"圆的周长为：%.2lf，圆的面积为：%.2lf。\n"</span>,c,s);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-4"><a href="#-4" class="headerlink" title=""></a><span class='p green'>编程练习3.8</span></h3><p>输入学生的相关信息：学号（int类型）、年龄（int类型）、性别（char 类型，’M’代表男生，’F’代表女生）和五门课程的成绩（double 类型）；输出该学生的相关信息：学号、年龄、性别、各科成绩和平均成绩。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 输入学生的相关信息</span></span><br><span class="line">        <span class="comment">// 学号：int类型</span></span><br><span class="line">        <span class="comment">// 年龄：int类型</span></span><br><span class="line">        <span class="comment">// 性别：char类型（M：男生，N：女生）</span></span><br><span class="line">        <span class="comment">// 五门课程的成绩：double类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 学号</span></span><br><span class="line">        <span class="keyword">int</span> id;</span><br><span class="line">        <span class="comment">// 年龄</span></span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="comment">// 性别</span></span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="comment">// 成绩1</span></span><br><span class="line">        <span class="keyword">double</span> score1;</span><br><span class="line">        <span class="comment">// 成绩2</span></span><br><span class="line">        <span class="keyword">double</span> score2;</span><br><span class="line">        <span class="comment">// 成绩3</span></span><br><span class="line">        <span class="keyword">double</span> score3;</span><br><span class="line">        <span class="comment">// 成绩4</span></span><br><span class="line">        <span class="keyword">double</span> score4;</span><br><span class="line">        <span class="comment">// 成绩5</span></span><br><span class="line">        <span class="keyword">double</span> score5;</span><br><span class="line">        <span class="comment">// 获取输入信息</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入学号："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;id);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入年龄："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;age);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入性别(男生：M  女生：F）："</span>);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入语文成绩："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;score1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入数学成绩："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;score2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入英语成绩："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;score3);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入物理成绩："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;score4);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请输入化学成绩："</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;score5);</span><br><span class="line">        <span class="comment">// 计算平均分</span></span><br><span class="line">        <span class="keyword">double</span> average = (score1 + score2 + score3 + score4 + score5) / <span class="number">5</span>;</span><br><span class="line">        <span class="comment">// 输出成绩信息</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"学号\t\t年龄\t\t性别\t\t语文\t\t数学\t\t英语\t\t物理\t\t化学\t\t平均分\t\t\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\t\t%d\t\t%c\t\t%.1lf\t\t%.1lf\t\t%.1lf\t\t%.1lf\t\t%.1lf\t\t%.1lf\t\t\n"</span>,id,age,sex,score1,score2,score3,score4,score5,average);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-5"><a href="#-5" class="headerlink" title=""></a><span class='p green'>编程练习3.9</span></h3><p>输入一个四位正整数，求其各位数字之和。例如：1357的各位数字之和为1 + 3 + 5 + 7 = 16 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="comment">// 输入一个四位正整数，求其各位数字之和。</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> number;</span><br><span class="line">        <span class="comment">// 获取用户输入</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;number);</span><br><span class="line">        <span class="comment">// 计算第一位数</span></span><br><span class="line">        <span class="keyword">int</span> num1 = number / <span class="number">1000</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"第一位数是：%d\n"</span>,num1);</span><br><span class="line">        <span class="comment">// 计算第二位数</span></span><br><span class="line">        <span class="keyword">int</span> num2 = number % <span class="number">1000</span> / <span class="number">100</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"第二位数是：%d\n"</span>,num2);</span><br><span class="line">        <span class="comment">// 计算第三位数</span></span><br><span class="line">        <span class="keyword">int</span> num3 = number % (num1 * <span class="number">1000</span> + num2 * <span class="number">100</span>) /<span class="number">10</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"第三位数是：%d\n"</span>,num3);</span><br><span class="line">        <span class="comment">// 计算第四位数</span></span><br><span class="line">        <span class="keyword">int</span> num4 = number % (num1 * <span class="number">1000</span> + num2 * <span class="number">100</span> + num3 * <span class="number">10</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"第四位数是：%d\n"</span>,num4);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 计算各个数字之和</span></span><br><span class="line">        <span class="keyword">int</span> result = num1 + num2 + num3 + num4;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d + %d + %d + %d = %d\n"</span>,num1,num2,num3,num4,result);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;顺序结构编程练习题&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>标记、类型与表达式</title>
    <link href="https://imqinhao.cn/2021/03/02/c_2/"/>
    <id>https://imqinhao.cn/2021/03/02/c_2/</id>
    <published>2021-03-02T09:02:14.000Z</published>
    <updated>2021-03-15T09:22:06.518Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>标记</p><p>类型</p><p>变量与常用类型说明符</p><p>运算符与表达式</p><a id="more"></a><h2 id="标记"><a href="#标记" class="headerlink" title="标记"></a>标记</h2><blockquote><p>标记（token）是具有唯一含义的语言的最小单位，分为五种：<kbd>关键字（keyword）</kbd>、<kbd>标识符（identifier）</kbd>、<kbd>常量（constant）</kbd>、<kbd>串字面量（string  literal）</kbd>以及<kbd>标点符号（punctuator）</kbd>。</p></blockquote><h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><p>关键字也称为保留字，C语言共有44个关键字：</p><table><thead><tr><th align="left">auto</th><th align="left">break</th><th align="left">case</th><th align="left">char</th><th align="left">const</th></tr></thead><tbody><tr><td align="left"><strong>continue</strong></td><td align="left"><strong>default</strong></td><td align="left"><strong>do</strong></td><td align="left"><strong>double</strong></td><td align="left"><strong>else</strong></td></tr><tr><td align="left"><strong>enum</strong></td><td align="left"><strong>extern</strong></td><td align="left"><strong>float</strong></td><td align="left"><strong>for</strong></td><td align="left"><strong>goto</strong></td></tr><tr><td align="left"><strong>if</strong></td><td align="left"><strong>inline</strong></td><td align="left"><strong>int</strong></td><td align="left"><strong>long</strong></td><td align="left"><strong>register</strong></td></tr><tr><td align="left"><strong>restrict</strong></td><td align="left"><strong>return</strong></td><td align="left"><strong>short</strong></td><td align="left"><strong>signed</strong></td><td align="left"><strong>sizeof</strong></td></tr><tr><td align="left"><strong>static</strong></td><td align="left"><strong>struct</strong></td><td align="left"><strong>switch</strong></td><td align="left"><strong>typedef</strong></td><td align="left"><strong>union</strong></td></tr><tr><td align="left"><strong>unsigned</strong></td><td align="left"><strong>void</strong></td><td align="left"><strong>volatile</strong></td><td align="left"><strong>while</strong></td><td align="left"><strong>_Alignas</strong></td></tr><tr><td align="left"><strong>_Alignof</strong></td><td align="left"><strong>_Atomic</strong></td><td align="left"><strong>_Bool</strong></td><td align="left"><strong>_Complex</strong></td><td align="left"><strong>_Generic</strong></td></tr><tr><td align="left"><strong>_Imaginary</strong></td><td align="left"><strong>_Noreturn</strong></td><td align="left"><strong>_Static_assert</strong></td><td align="left"><strong>_Thread_local</strong></td><td align="left"></td></tr></tbody></table><h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>标识符由<kbd>小写字母</kbd>、<kbd>大写字母</kbd>、<kbd>数字</kbd>、<kbd>下划线</kbd>、<kbd>通用字符名</kbd>或<kbd>实现定义的字符</kbd>构成，且<kbd>数字不能作为标识符的第一个字符</kbd>，<kbd>关键字不能作为标识符</kbd>。</p><p>C语言<kbd>大小写敏感</kbd>。</p><p>C语言对标识符的最大长度没有具体的限制，VC允许标识符的最大长度为<kbd>247</kbd>个字符。</p><p>通常，应该选择相应的英文单词或其缩写作为标识符，做到<kbd>见名知义</kbd>。</p><h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><blockquote><p><font color="red">在程序运行过程中，其值不变的量称为常量。常量分为四种类型。</font></p></blockquote><hr><h4 id="整数常量"><a href="#整数常量" class="headerlink" title="整数常量"></a>整数常量</h4><p>整数常量<font color="red">只包括正整数和零，不包括负整数</font>。</p><p>整数常量分为<kbd>十进制整数常量</kbd>、<kbd>八进制整数常量</kbd>和<kbd>十六进制整数常量</kbd>。</p><p>十进制整数常量由 0~9 组成，且以非零数字开头，如 123 、 1000 。</p><p>八进制整数常量由 0~7 组成，且以 0 开头，或者只有一个0，如 017 、 0 。</p><p>十六进制整数常量由 0<del>9 、A</del>F（或 a~f ）组成，且以 0x 或 0X 开头，如0x1a 、 0XD5 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sum = %d \n"</span>,<span class="number">123</span> + <span class="number">012</span> + <span class="number">0x12</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="浮点常量"><a href="#浮点常量" class="headerlink" title="浮点常量"></a>浮点常量</h4><p>计算机中的浮点数只能<font color="red">近似地表示值在某个范围之内的有理数和一些特殊值</font>，如NAN（非数值）、+INF（正无穷大）、-INF（负无穷大）等。</p><p>浮点常量是<font color="red">非负</font>的浮点数，其十进制书写形式有以下两种：</p><ol><li>小数点表示法</li></ol><blockquote><p>由数字 0 ~9 和小数点组成，必须有小数点。如果小数点左边为0，则 0 可省略；如果小数点右边为 0 ，则 0 可省略。</p><p>例如： <kbd>5.20</kbd>    <kbd>520.0</kbd>    <kbd>520.</kbd>    <kbd>0.520</kbd>    <kbd>.520</kbd>    <kbd>0.0</kbd>    <kbd>0.</kbd>    <kbd>.0</kbd></p></blockquote><ol start="2"><li>指数表示法</li></ol><blockquote><p>第一种形式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">十进制整数常量E符号位十进制整数常量</span><br></pre></td></tr></table></figure><p>第二种形式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">浮点常量的小数表示法E符号位十进制整数常量</span><br></pre></td></tr></table></figure></blockquote><p><font color="red">其中，E 也可以写成 e ， “符号位” 即正负号是可选的。</font></p><hr><h4 id="枚举常量"><a href="#枚举常量" class="headerlink" title="枚举常量"></a>枚举常量</h4><blockquote><p>枚举常量是类型为 int 的标识符。</p></blockquote><hr><h4 id="字符常量"><a href="#字符常量" class="headerlink" title="字符常量"></a>字符常量</h4><p>字符常量分为整数字符常量和宽字符常量。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d %d %d\n"</span>, <span class="string">'A'</span> , <span class="string">'b'</span> + <span class="number">2</span> , <span class="string">'0'</span> , <span class="string">'1'</span> + <span class="number">3</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>分析 ASCII 码表，可以得出四条规则：</p><p>（1）数字字符 0~9 的 ASCII 码值是连续递增的。</p><p>（2）大写字母 A~Z 的ASCII 码值是连续递增的。</p><p>（3）小写字母 a~z 的 ASCII 码值是连续递增的。</p><p>（4）大写字母的 ASCII 码比相应小写字母的 ASCII 码值小 32 。</p></blockquote><table><thead><tr><th align="center">转义序列</th><th align="center">含义</th><th align="center">十进制ASCII码值</th></tr></thead><tbody><tr><td align="center">\a</td><td align="center">响铃(alert)</td><td align="center">7</td></tr><tr><td align="center">\b</td><td align="center">退格(backspace)</td><td align="center">8</td></tr><tr><td align="center">\f</td><td align="center">走纸换页(form  feed)</td><td align="center">12</td></tr><tr><td align="center">\n</td><td align="center">换行(new  line)，光标移到下一行的行首</td><td align="center">10</td></tr><tr><td align="center">\r</td><td align="center">回车(carriage  rerurn)，光标移到当前行的行首</td><td align="center">13</td></tr><tr><td align="center">\t</td><td align="center">水平制表(horizontal  tab)，光标移到当前行的下一个制表位</td><td align="center">9</td></tr><tr><td align="center">\v</td><td align="center">垂直制表(verical  tab)</td><td align="center">11</td></tr></tbody></table><h4 id="串字面量"><a href="#串字面量" class="headerlink" title="串字面量"></a>串字面量</h4><p>串字面量分为三种：<kbd>字符串字面量</kbd>、<kbd>UTF-8串字面量</kbd> 和 <kbd>宽串字面量</kbd>。</p><p>字符串字面量是用一对双引号括起来的零个或多个字符。在翻译的第七个阶段，空字符即’\0’被加到字符串字面量的末尾，然后字符串字面量以数组元素类型为 char 的数组的形式存储在内存中。</p><p>如果字符串字面中不含’\0’，则该字符串字面量也称为字符串。</p><p>字符串的长度是指空字符前的字符在内存中所占的字节数。因此，长度为 n 的字符串，在内存中占 n+1 个字节。</p><p><font color="red">不要将字符常量与字符串相混淆。例如，’z’ 是字符常量，占 4 个字节；而 “z” 是字符串，占 2 个字节。</font></p><h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><p>类型分为两种：</p><blockquote><p>对象类型（object  type）：用于描述对象</p><p>函数类型（function  type）：用于描述函数</p></blockquote><h3 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h3><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B.png" alt=""></p><h3 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h3><p>一组命名的整数常量值构成枚举（enumeration），不同的枚举构成不同的枚举类型。</p><h3 id="空类型"><a href="#空类型" class="headerlink" title="空类型"></a>空类型</h3><p>空类型的值的集合是空集，空类型是不完整对象类型，而且不可能是完整的。</p><h3 id="派生类型"><a href="#派生类型" class="headerlink" title="派生类型"></a>派生类型</h3><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/%E6%B4%BE%E7%94%9F%E7%B1%BB%E5%9E%8B.png" alt=""></p><h2 id="变量与常用类型说明符"><a href="#变量与常用类型说明符" class="headerlink" title="变量与常用类型说明符"></a>变量与常用类型说明符</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>常用类型说明符有四种，分别是 <kbd>int </kbd>、<kbd>char</kbd>、<kbd>float</kbd> 和 <kbd>double</kbd> 。</p><p>变量必须<font color="red">先声明后使用</font>。</p><h3 id="常用类型"><a href="#常用类型" class="headerlink" title="常用类型"></a>常用类型</h3><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%9E%8B.png" alt=""></p><p>在 0 ~ 2147483647 范围内的整数常量，其类型是 int 。</p><p>char 类型在输入时，两个数字字符之间不能加空格符，如果加了空格符，char 类型的变量获取的是空格符，而不是数字字符。</p><p>双精度浮点类型 double 比单精度浮点类型 float 精度更高，表示数据的范围更大。</p><p>浮点常量默认是 double 类型，在浮点常量后加后缀 f 或 F 则是 float 类型。</p><p>在没有特殊要求的情况下，程序设计中声明浮点常量，建议使用 double 类型。</p><h2 id="运算符与表达式"><a href="#运算符与表达式" class="headerlink" title="运算符与表达式"></a>运算符与表达式</h2><h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><p>表达式是由运算符和运算对象构成的序列。</p><p>表达式具有以下一个或多个功能：</p><ol><li>描述一个值的计算</li><li>指定一个对象或一个函数</li><li>产生副作用</li></ol><p>根据运算符的运算对象的数量，可将运算符分为以下三种：</p><ol><li>单目运算符：只有一个运算对象</li><li>双目运算符：有两个运算对象</li><li>三目运算符：有三个运算对象</li></ol><h3 id="乘法类运算符"><a href="#乘法类运算符" class="headerlink" title="乘法类运算符"></a>乘法类运算符</h3><table><thead><tr><th align="center">乘法运算符</th><th align="center">除法运算符</th><th align="center">模运算符</th></tr></thead><tbody><tr><td align="center">*</td><td align="center">/</td><td align="center">%</td></tr></tbody></table><p><font color="red">乘法类运算符有三个，都是双目运算符。</font></p><h3 id="加法类运算符"><a href="#加法类运算符" class="headerlink" title="加法类运算符"></a>加法类运算符</h3><table><thead><tr><th align="center">加法运算符</th><th align="center">减法运算符</th></tr></thead><tbody><tr><td align="center">+</td><td align="center">-</td></tr></tbody></table><p><font color="red">加法类运算符有两个，都是双目运算符。</font></p><h3 id="sizeof运算符"><a href="#sizeof运算符" class="headerlink" title="sizeof运算符"></a>sizeof运算符</h3><blockquote><p>sizeof 运算符是单目运算符，表达式的值是运算对象所占用内存大小（按字节计算），其运算对象是表达式或用小括号括起来的类型名。</p></blockquote><p><font color="red"> char 类型在内存中占 1 个字节。</font></p><p><font color="red">int 类型在内存中占 4 个字节。</font></p><p><font color="red">float 类型在内存中占 4 个字节。</font></p><p><font color="red">double 类型在内存中占 8 个字节。</font></p><h3 id="一元加运算符与一元减运算符"><a href="#一元加运算符与一元减运算符" class="headerlink" title="一元加运算符与一元减运算符"></a>一元加运算符与一元减运算符</h3><p>一元加运算符 + 是单目运算符，表达式的值是运算对象的值。</p><p>一元减运算符 - 是单目运算符，表达式的值是运算对象的相反数。</p><hr><p>整数提权实例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sizeof +ch = %d\n"</span>,<span class="keyword">sizeof</span> +ch);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sizeof ch = %d\n"</span>,<span class="keyword">sizeof</span> ch);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sizeof -ch = %d\n"</span>,<span class="keyword">sizeof</span> -ch);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sizeof ch = %d\n"</span>,<span class="keyword">sizeof</span> ch);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sizeof +ch &#x3D; 4</span><br><span class="line">sizeof ch &#x3D; 1</span><br><span class="line">sizeof -ch &#x3D; 4</span><br><span class="line">sizeof ch &#x3D; 1</span><br></pre></td></tr></table></figure><p><font color="red">变量 ch 是 char 类型，在内存中占 1 个字节，整数提升将 ch 的值转换为 int 类型的值，因此，表达式 +ch 和 -ch 的类型都是 int ，在内存中占 4 个字节。</font></p><blockquote><p><font color="LimeGreen">注意：变量 ch 的类型并没有改变，仍然是 char 类型。</font></p></blockquote><h3 id="常用算术转换"><a href="#常用算术转换" class="headerlink" title="常用算术转换"></a>常用算术转换</h3><p>其中一个运算对象是 double 类型，另一个运算对象的值被转换为 double 类型的值。</p><p>如果以上条件不满足，并且其中一个运算对象是 float 类型，另一个运算对象的值被转换为 float 类型的值。</p><p>如果以上两个条件都不满足，对两个运算对象进行整数提升，即 char 类型运算对象的值被转换为 int 类型的值。</p><blockquote><p><font color="red">运算对象的类型并没有改变。</font></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;标记&lt;/p&gt;
&lt;p&gt;类型&lt;/p&gt;
&lt;p&gt;变量与常用类型说明符&lt;/p&gt;
&lt;p&gt;运算符与表达式&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>C语言绪论</title>
    <link href="https://imqinhao.cn/2021/03/01/c_1/"/>
    <id>https://imqinhao.cn/2021/03/01/c_1/</id>
    <published>2021-03-01T09:02:14.000Z</published>
    <updated>2021-03-15T09:09:59.928Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>C语言程序的基本结构</p><p>C语言程序的上机执行过程</p><p>编译</p><p>连接</p><p>运行</p><a id="more"></a><h3 id="C语言程序的基本结构"><a href="#C语言程序的基本结构" class="headerlink" title="C语言程序的基本结构"></a>C语言程序的基本结构</h3><ul><li><p>C语言程序是<kbd>由函数构成</kbd>的。一个C语言程序<kbd>至少包含一个main函数</kbd>。</p></li><li><p>C语言程序总是<kbd>从main函数开始执行</kbd>。</p></li><li><p>为了增强程序的可读性，通常书写C语言程序时应遵循以下规则：</p><blockquote><p>一行内仅写一条语句</p><p>正反大括号分别各占一行</p><p>每对大括号上下对齐</p><p>语句采用缩进格式，错落有致</p></blockquote></li><li><p>每条语句的最后必须有一个分号，分号是C语句的组成部分。</p></li><li><p>C语言本身没有输入/输出语句，输入/输出的操作由<kbd>scanf</kbd>和<kbd>printf</kbd>等函数来完成。</p></li><li><p>可以用/* ····· */  或者  // ·······  在C语言程序中加注释，以增强程序的可读性。</p></li></ul><h3 id="C语言程序的上机执行过程"><a href="#C语言程序的上机执行过程" class="headerlink" title="C语言程序的上机执行过程"></a>C语言程序的上机执行过程</h3><p>编写好的C语言程序要经过<kbd>编辑（输入）</kbd> ，<kbd>编译</kbd> 和 <kbd>连接</kbd> 后才能形成可执行的程序。</p><p>C语言程序的上机执行过程一般要经过四个步骤：<kbd>编辑（Edit）</kbd>、<kbd>编译（compile）</kbd>、<kbd>连接（link）</kbd> 和 <kbd>运行</kbd> 。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/C%E7%A8%8B%E5%BA%8F%E4%B8%8A%E6%9C%BA%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6.png" alt="C程序上机执行过程"></p><p>编辑（Edit）</p><p>编辑指<kbd>源程序的输入</kbd>，对应的文件称为源文件，其拓展名为”<kbd>.c</kbd>“。</p><h3 id="编译（compile）"><a href="#编译（compile）" class="headerlink" title="编译（compile）"></a>编译（compile）</h3><p>编译是使用编译器（compiler）<kbd>将源文件转换为目标文件的过程</kbd>。编译器对源程序进行语法检查，当发现错误时，将错误的类型和所在位置显示出来，以帮助程序员修改源程序中的错误。目标文件的扩展名为”<kbd>.obj</kbd>“。</p><h3 id="连接（link）"><a href="#连接（link）" class="headerlink" title="连接（link）"></a>连接（link）</h3><p>连接是<kbd>将目标文件和其他分别进行编译生成的目标文件</kbd>（如果有的话）以及<kbd>库函数连接生成可执行文件的过程</kbd>。可执行文件的扩展名为”<kbd>.exe</kbd>“。</p><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>运行时将可执行文件投入运行，以获取程序处理的结果。如果程序运行结果不正确，则回到第一步，重新对程序进行编辑、编译、连接和运行。直到取得预期结果为止。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;C语言程序的基本结构&lt;/p&gt;
&lt;p&gt;C语言程序的上机执行过程&lt;/p&gt;
&lt;p&gt;编译&lt;/p&gt;
&lt;p&gt;连接&lt;/p&gt;
&lt;p&gt;运行&lt;/p&gt;
    
    </summary>
    
    
      <category term="C语言" scheme="https://imqinhao.cn/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>《网络设备安全配置与管理》综合实训任务书</title>
    <link href="https://imqinhao.cn/2020/11/01/network_security_comprehensive/"/>
    <id>https://imqinhao.cn/2020/11/01/network_security_comprehensive/</id>
    <published>2020-11-01T08:30:11.000Z</published>
    <updated>2021-03-08T06:32:11.863Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li><strong>网络搭建</strong></li></ol><p>根据所给定的拓扑要求，将给定的网络设备互连，搭建物理网络。</p><p><strong>2. IP 地址规划</strong></p><p>根据要求确定所需子网的数量，每个子网的主机数量，设计适当的编址方案，填写网络地址规划表和设备地址表。</p><p><strong>3. 网络设备的安全配置</strong></p><p>根据任务书中指出的安全需求，完成数据网络安全配置。</p><p><strong>4 数据网络安全测试</strong></p><p>安全配置后进行完全效果测试，并分析对应的数据包，理解背后的原理。</p><a id="more"></a><h1 id="一、综合实训内容描述"><a href="#一、综合实训内容描述" class="headerlink" title="一、综合实训内容描述"></a><strong>一、综合实训内容描述</strong></h1><p>《网络设备安全配置与管理》综合实训目的在于通过实际案例需求分析完成设备的仿真配置，同时根据需求完成网络安全配置与管理，保证数据网络安全正常运行。从而能在实际工程中理解网络安全通信的含义。</p><h1 id="二、实施中需要完成的工作任务"><a href="#二、实施中需要完成的工作任务" class="headerlink" title="二、实施中需要完成的工作任务"></a><strong>二、实施中需要完成的工作任务</strong></h1><p><strong>1. ** **网络搭建</strong> </p><p>根据所给定的拓扑要求，将给定的网络设备互连，搭建物理网络。</p><p><strong>2. IP</strong> <strong>地址规划</strong></p><p>根据要求确定所需子网的数量，每个子网的主机数量，设计适当的编址方案，填写网络地址规划表和设备地址表。</p><p><strong>3.</strong> <strong>网络设备的安全配置</strong></p><p>根据任务书中指出的安全需求，完成数据网络安全配置。</p><p><strong>4</strong> <strong>数据网络安全测试</strong></p><p>安全配置后进行完全效果测试，并分析对应的数据包，理解背后的原理。</p><h1 id="三、注意事项"><a href="#三、注意事项" class="headerlink" title="三、注意事项"></a><strong>三、注意事项</strong></h1><p>项目完成后需要提交相关的WORD规划文件以及相应的配置文档。两份文档存储在文件夹中上交。文件及文件夹命名规则如下：</p><table><thead><tr><th>文档类型</th><th>格式</th><th>名称</th></tr></thead><tbody><tr><td>规划表文档</td><td>WORD</td><td>综合实训任务书（姓名）</td></tr><tr><td>配置文档</td><td>PKT</td><td>综合实训项目（姓名）</td></tr></tbody></table><h1 id="四、网络拓扑图如下"><a href="#四、网络拓扑图如下" class="headerlink" title="四、网络拓扑图如下"></a><strong>四、网络拓扑图如下</strong></h1><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image001.png" alt="image001"></p><h1 id="五、根据网络安全需求，进行网络安全配置"><a href="#五、根据网络安全需求，进行网络安全配置" class="headerlink" title="五、根据网络安全需求，进行网络安全配置"></a><strong>五、根据网络安全需求，进行网络安全配置</strong></h1><p>（一）基础配置</p><p>1、在Packet Tracer中绘制如图所示拓扑图，模拟某公司分隔两地的总公司和分公司之间通过Internet 连接。（注意：XX为学号最后2位）</p><p>2、IP地址规划和配置</p><p>（1）IP地址规划：</p><p>如拓扑图所示，2个分公司内部采用私网地址，Internet采用公网地址，地址表规划如下：</p><table><thead><tr><th><strong>设备名称</strong></th><th><strong>接口</strong></th><th><strong>IP</strong> <strong>地址</strong></th><th><strong>网关</strong></th></tr></thead><tbody><tr><td>R1</td><td>Fa0/0</td><td>10.10.11.254/24</td><td></td></tr><tr><td>Fa1/0</td><td>100.1.1.1/30</td><td></td><td></td></tr><tr><td>tunnel</td><td>1.1.1.1/24</td><td></td><td></td></tr><tr><td>R3</td><td>Fa0/0</td><td>192.168.11.254/24</td><td></td></tr><tr><td>Fa1/0</td><td>200.1.1.1/30</td><td></td><td></td></tr><tr><td>tunnel</td><td>1.1.1.2/24</td><td></td><td></td></tr><tr><td>ISP router</td><td>Fa4/0</td><td>100.1.1.2/30</td><td></td></tr><tr><td>Fa5/0</td><td>200.1.1.2/30</td><td></td><td></td></tr><tr><td>Fa0/0</td><td>201.1.1.254/24</td><td></td><td></td></tr><tr><td>Server 0</td><td>Fa0</td><td>10.10.11.1/24</td><td>10.10.11.254/24</td></tr><tr><td>PC1</td><td>Fa0</td><td>10.10.11.2/24</td><td>10.10.11.254/24</td></tr><tr><td>PC5</td><td>Fa0</td><td>10.10.11.3/24</td><td>10.10.11.254/24</td></tr><tr><td>PC2</td><td>Fa0</td><td>10.10.11.4/24</td><td>10.10.11.254/24</td></tr><tr><td>Laptop0</td><td>Fa0</td><td>201.1.1.1/24</td><td>201.1.1.254/24</td></tr><tr><td>公网DNS</td><td>Fa0</td><td>201.1.1.252/24</td><td>201.1.1.254/24</td></tr><tr><td>公网www</td><td>Fa0</td><td>201.1.1.253/24</td><td>201.1.1.254/24</td></tr><tr><td>公网PC</td><td>Fa0</td><td>201.1.1.2/24</td><td>201.1.1.254/24</td></tr><tr><td>PC6</td><td>Fa0</td><td>192.168.11.1/24</td><td>192.168.11.254/24</td></tr></tbody></table><p>（2）IP地址配置：</p><p>按拓扑图地址规划要求：</p><p>给各路由器配置对应的IP地址、子网掩码；</p><p>给各PC机配置对应的IP地址、子网掩码、网关。</p><p>配置命令如下：（注意：配置命令要大概说明其含义）</p><p><strong>R1  IP</strong> <strong>地址配置</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">R1&gt; enable#进入特权模式</span><br><span class="line">R1# configure terminal#进入全局模式</span><br><span class="line">R1(config)# interface fastEthernet 0&#x2F;0#进入fa0&#x2F;0端口</span><br><span class="line">R1(config-if)# ip address 10.10.11.254 255.255.255.0#配置IP和子网掩码</span><br><span class="line">R1(config-if)# no shutdown #启用端口</span><br><span class="line">R1(config-if)# exit#退出fa0&#x2F;0端口</span><br><span class="line">R1(config)# interface fastEthernet 1&#x2F;0#进入fa1&#x2F;0端口</span><br><span class="line">R1(config-if)# ip address 100.1.1.1 255.255.255.252 #配置IP和子网掩码</span><br><span class="line">R1(config-if)# no shutdown #启用端口</span><br><span class="line">R1(config-if)# exit#退出fa1&#x2F;0端口</span><br></pre></td></tr></table></figure><p><strong>R3 IP</strong> <strong>地址配置</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">R3&gt; enable#进入特权模式</span><br><span class="line">R3# configure terminal#进入全局模式</span><br><span class="line">R3(config)# interface fastEthernet 0&#x2F;0#进入fa0&#x2F;0端口</span><br><span class="line">R3(config-if)# ip address 192.168.11.254 255.255.255.0#配置IP和子网掩码</span><br><span class="line">R3(config-if)# no shutdown #启用端口</span><br><span class="line">R3(config-if)# exit#退出fa0&#x2F;0端口</span><br><span class="line">R3(config)# interface fastEthernet 1&#x2F;0#进入fa1&#x2F;0端口</span><br><span class="line">R3(config-if)# ip address 200.1.1.1 255.255.255.252 #配置IP和子网掩码</span><br><span class="line">R3(config-if)# no shutdown #启用端口</span><br><span class="line">R3(config-if)# exit#退出fa1&#x2F;0端口</span><br></pre></td></tr></table></figure><p><strong>ISP</strong> <strong>配置</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ISP&gt; enable#进入特权模式</span><br><span class="line">ISP# configure terminal #进入全局模式</span><br><span class="line">ISP(config)# interface fastEthernet 4&#x2F;0#进入fa4&#x2F;0端口</span><br><span class="line">ISP(config-if)# ip address 100.1.1.2 255.255.255.252#配置IP和子网掩码</span><br><span class="line">ISP (config-if)# no shutdown #启用端口</span><br><span class="line">ISP(config-if)# exit#退出fa4&#x2F;0端口</span><br><span class="line">ISP(config)# interface fastEthernet 5&#x2F;0#进入fa5&#x2F;0端口</span><br><span class="line">ISP(config-if)# ip address 200.1.1.2 255.255.255.252#配置IP和子网掩码</span><br><span class="line">ISP(config-if)# no shutdown #启用端口</span><br><span class="line">ISP(config-if)# exit#退出fa5&#x2F;0端口</span><br><span class="line">ISP(config)# interface fastEthernet 0&#x2F;0#进入fa0&#x2F;0端口</span><br><span class="line">ISP(config-if)# ip address 201.1.1.254 255.255.255.0#配置IP和子网掩码</span><br><span class="line">ISP(config-if)# no shutdown #启用端口</span><br><span class="line">ISP(config-if)# exit#退出fa0&#x2F;0端口</span><br></pre></td></tr></table></figure><p>3、在总公司和分公司边界路由器上配置默认路由，达到总公司和分公司公网地址互通，配置命令如下：（注意：配置命令要大概说明其含义）</p><p><strong>R1</strong> <strong>配置默认路由</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">R1(config)#ip route 0.0.0.0 0.0.0.0 100.1.1.2#配置默认路由</span><br></pre></td></tr></table></figure><p><strong>R3</strong> <strong>配置默认路由</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">R3(config)#ip route 0.0.0.0 0.0.0.0 100.1.1.2#配置默认路由</span><br></pre></td></tr></table></figure><p>4、测试R1和R3的公网地址间的互通性（验证Internet互通），截图如下：（注意：说明为什么）</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image008.png" alt="image008"></p><blockquote><p>答：可以互通，因为R1配置了默认路由，全部数据包转发给了ISP的Fa4/0端口，而R3配置了默认路由，全部数据包转发给了ISP的Fa5/0端口，最终数据包在同一个路由器的两个端口上，所以可以直接通信。</p></blockquote><p>（二）路由器R1的SSH登录服务配置：</p><p>1、SSH登录要求：</p><p>在路由器R1上配置SSH登录服务，其中所有的域名、用户名、密码等皆为wtctx-YYY（YYY为姓名缩写）</p><p>2、配置命令如下：（注意：配置命令要大概说明其含义）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">R1(config)# hostname R1#配置ssh前必须修改主机名</span><br><span class="line">R1(config)# ip domain-name wtctx-qh#给路由器设置域名</span><br><span class="line">R1(config)# crypto key generate rsa#生成rsa秘钥</span><br><span class="line">R1(config)# line vty 0 15#进入vty端口，最多15人同时在线</span><br><span class="line">R1(config-line)# transport input ssh#启用SSH登录</span><br><span class="line">R1(config-line)# privilege level 15#设置用户操作等级为最高级</span><br><span class="line">R1(config-line)# login local#使用本地验证</span><br><span class="line">R1(config-line)# exit#退出到全局模式</span><br><span class="line">R1(config)# username wtctx-qh password wtctx-qh#创建用户名和密码</span><br><span class="line">R1(config)# enable secret wtctx-qh#设置密文密码</span><br></pre></td></tr></table></figure><p>3、测试PC2 SSH登录R1，截图如下：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image012.jpg" alt="image012"></p><p>（三）交换机端口安全配置：</p><p>1、在总公司交换机上端口安全要求：</p><p>（1）f0/1端口采用静态MAC地址学习方式，指定服务器0的MAC地址，端口最大MAC地址数为？违规处理方式shutdown</p><p>（2）f0/2端口采用sticky MAC地址学习方式，端口最大MAC地址数为？违规处理方式restrict</p><p>2、相关配置命令如下：（注意：配置命令要大概说明其含义）</p><p><strong>Fa0/1</strong> <strong>端口配置</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Switch&gt; en#进入特权模式</span><br><span class="line">Switch# configure terminal#进入全局模式</span><br><span class="line">Switch(config)# interface fastEthernet 0&#x2F;1#进入Fa0&#x2F;1端口</span><br><span class="line">Switch(config-if)# shutdown#关闭端口，清空mac地址表</span><br><span class="line">Switch(config-if)# switchport mode access#端口定义为access口</span><br><span class="line">Switch(config-if)# switchport port-security#开启端口安全功能</span><br><span class="line">Switch(config-if)# switchport nonegotiate#禁用DTP</span><br><span class="line">Switch(config-if)# switchport port-security maximum 1#设置允许最大地址数为1</span><br><span class="line">Switch(config-if)# switchport port-security mac-address 0090.0C62.168A   #绑定允许接入的地址</span><br><span class="line">Switch(config-if)# switchport port-security violation shutdown   #指定违规处理行为</span><br><span class="line">Switch(config-if)# no shutdown   #启用端口</span><br></pre></td></tr></table></figure><blockquote><p>解析：端口最大mac地址数为1即可，由于Fa0/1与服务器0是直连的，绑定服务器0的mac地址即可限制其它设备接入。</p></blockquote><p><strong>Fa0/2</strong> <strong>端口配置</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Switch&gt; en#进入特权模式</span><br><span class="line">Switch# configure terminal#进入全局模式</span><br><span class="line">Switch(config)# interface fastEthernet 0&#x2F;2#进入Fa0&#x2F;1端口</span><br><span class="line">Switch(config-if)# shutdown#关闭端口，清空mac地址表</span><br><span class="line">Switch(config-if)# switchport mode access#端口定义为access口</span><br><span class="line">Switch(config-if)# switchport port-security#开启端口安全功能</span><br><span class="line">Switch(config-if)# switchport nonegotiate#禁用DTP</span><br><span class="line">Switch(config-if)# switchport port-security maximum 3#设置允许最大地址数为3</span><br><span class="line">Switch(config-if)# switchport port-security mac-address sticky#绑定允许接入的地址</span><br><span class="line">Switch(config-if)# switchport port-security violation restrict#指定违规处理行为</span><br><span class="line">Switch(config-if)# no shutdown#启用端口</span><br></pre></td></tr></table></figure><blockquote><p>解析：端口最大mac地址数为3，通过观察交换机的mac地址表可以看出，交换机一共粘贴到了三个地址，Fa0/2端口下另外一个交换机的Fa0/1号端口的mac地址，和PC1与PC5的mac地址。添加其他设备发现无法通信，表明最大数为3是正确的。</p></blockquote><p>（四）无线局域网安全配置：</p><p>在分公司无线路由器上做安全配置：</p><p>1、基础安全设置：（XX为学号最后2位）</p><p>1）修改无线路由器默认的管理密码为：wtctx</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image015.png" alt="image015"></p><p>2）修改LAN口地址：192.168.XX+1.1/24 </p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image017.png" alt="image017"></p><p>3）修改SSID：wtctx18</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image019.png" alt="image019"></p><p>4）无线安全配置：</p><p>   认证：WPA2-PSK</p><p>   加密：AES</p><p>   预共享密钥：wtctx2020</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image021.png" alt="image021"></p><p>2、进一步安全配置：</p><p>1）隐藏SSID</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image023.png" alt="image023"></p><p>2）无线mac地址过滤</p><p>  只允许图中3台无线设备laptop0、Smartphone0、Table PC0的mac地址接入，其他不允许</p><table><thead><tr><th>设备</th><th>mac地址</th></tr></thead><tbody><tr><td>Laptop0</td><td>0001.642A.4045</td></tr><tr><td>Smartphone0</td><td>0001.4205.D0AC</td></tr><tr><td>Tablet PC0</td><td>0001.C7B0.ED9E</td></tr></tbody></table><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image027.png" alt="image027"></p><p>3、测试各无线终端与PC6的连通性，截图显示如下：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image029.png" alt="image029"></p><p>（五）GRE over IPSec VPN配置：</p><p>1、在企业总公司和分公司间配置GRE over IPSec VPN (企业总公司和分公司间参数一致)，要求：</p><p>（1）GRE tunnel两端地址分别为：1.1.1.1/24和1.1.1.2/24 ，tunnel编号为120</p><p>（2）企业总公司和分公司间运行rip协议或OSPF实现互通</p><p>（3）IPSec配置：设置IKE参数,策略优先级为1（预共享验证、DES加密、MD5验证，DH组2，预共享验证密钥为wtctx）</p><p>（4）Ipsec SA 参数设置：ESP-DES加密、ESP-MD5-HMAC验证</p><p>（5）VPN数据流acl编号为110</p><p>（6）transform-set 命名为wtctxset1，crypto map命名为wtctxmap </p><p>2、配置如下：（注意：配置命令要大概说明其含义）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">R1(config)#interface tunnel 120#创建虚拟tunnel端口</span><br><span class="line">R1(config-if)#ip address 1.1.1.1 255.255.255.0#定义tunnel接口的IP地址</span><br><span class="line">R1(config-if)#tunnel source fastEthernet 1&#x2F;0#定义tunnel通道的源地址</span><br><span class="line">R1(config-if)#tunnel destination 200.1.1.1#定义tunnel通道的目的地址</span><br><span class="line">R1(config)#router rip#启用rip路由协议</span><br><span class="line">R1(config-router)#version 2#定义rip v2版本</span><br><span class="line">R1(config-router)#no auto-summary#关闭自动汇总</span><br><span class="line">R1(config-router)#network 10.10.11.0#宣告自己的网段</span><br><span class="line">R1(config-router)#network 1.1.1.1#宣告自己的网段</span><br><span class="line">R1(config-router)# exit#回到全局模式</span><br><span class="line">R1(config)# crypto isakmp enable#启用IKE</span><br><span class="line">R1(config)# crypto isakmp policy 1#建立IKE策略，优先级为1</span><br><span class="line">R1(config-isakmp)# authentication pre-share#使用预共享的密码进行身份验证</span><br><span class="line">R1(config-isakmp)# encryption des#使用DES加密方式</span><br><span class="line">R1(config-isakmp)# hash md5#指定Hash算法为MD5</span><br><span class="line">R1(config-isakmp)# group 2#指定秘钥位数，group2安全性更高</span><br><span class="line">R1(config-isakmp)# exit#回到全局模式</span><br><span class="line">R1(config)#access-list 110 permit gre host 100.1.1.1 host 200.1.1.1 #定义感兴趣流量</span><br><span class="line">R1(config)# crypto isakmp key wtctx address 200.1.1.1#设置预共享秘钥和对端IP</span><br><span class="line">R1(config)#crypto ipsec transform-set wtctxset1 esp-des esp-md5-hmac #配置IPSec交换集</span><br><span class="line">R1(config)#crypto map wtctxmap 1 ipsec-isakmp#创建加密图</span><br><span class="line">R1(config-crypto-map)#set peer 200.1.1.1#标识对方路由器IP地址</span><br><span class="line">R1(config-crypto-map)#set transform-set wtctxset1#指定加密图使用的IPSec交换集</span><br><span class="line">R1(config-crypto-map)#match address 110#用ACL来定义加密的通信</span><br><span class="line">R1(config-crypto-map)#exit#回到全局模式</span><br><span class="line">R1(config)#interface fastEthernet 1&#x2F;0#进入Fa1&#x2F;0端口</span><br><span class="line">R1(config-if)#crypto map wtctxmap#应用加密图到接口</span><br><span class="line">R3(config)#interface tunnel 120#创建虚拟tunnel端口</span><br><span class="line">R3(config-if)#ip address 1.1.1.2 255.255.255.0#定义tunnel接口的IP地址</span><br><span class="line">R3(config-if)#tunnel source fastEthernet 1&#x2F;0#定义tunnel通道的源地址</span><br><span class="line">R3(config-if)#tunnel destination 100.1.1.1#定义tunnel通道的目的地址</span><br><span class="line">R3(config)#router rip#启用rip路由协议</span><br><span class="line">R3(config-router)#version 2#定义rip v2版本</span><br><span class="line">R3(config-router)#no auto-summary#关闭自动汇总</span><br><span class="line">R3(config-router)#network 192.168.11.0#宣告自己的网段</span><br><span class="line">R3(config-router)#network 1.1.1.2#宣告自己的网段</span><br><span class="line">R3(config)# crypto isakmp enable#启用IKE</span><br><span class="line">R3(config)# crypto isakmp policy 1#建立IKE策略，优先级为1</span><br><span class="line">R3(config-isakmp)# authentication pre-share#使用预共享的密码进行身份验证</span><br><span class="line">R3(config-isakmp)# encryption des#使用DES加密方式</span><br><span class="line">R3(config-isakmp)# hash md5#指定Hash算法为MD5</span><br><span class="line">R3(config-isakmp)# group 2#指定秘钥位数，group2安全性更高</span><br><span class="line">R3(config-isakmp)# exit#回到全局模式</span><br><span class="line">R3(config)#access-list 110 permit gre host 200.1.1.1 host 100.1.1.1 #定义感兴趣流量</span><br><span class="line">R3(config)# crypto isakmp key wtctx address 100.1.1.1#设置预共享秘钥和对端IP</span><br><span class="line">R3(config)#crypto ipsec transform-set wtctxset1 esp-des esp-md5-hmac #配置IPSec交换集</span><br><span class="line">R3(config)#crypto map wtctxmap 1 ipsec-isakmp#创建加密图</span><br><span class="line">R3(config-crypto-map)#set peer 100.1.1.1#标识对方路由器IP地址</span><br><span class="line">R3(config-crypto-map)#set transform-set wtctxset1#指定加密图使用的IPSec交换集</span><br><span class="line">R3(config-crypto-map)#match address 110#用ACL来定义加密的通信</span><br><span class="line">R3(config-crypto-map)#exit#回到全局模式</span><br><span class="line">R3(config)#interface fastEthernet 1&#x2F;0#进入Fa1&#x2F;0端口</span><br><span class="line">R3(config-if)#crypto map wtctxmap#应用加密图到接口</span><br></pre></td></tr></table></figure><p>3、测试：</p><p>总公司PC5和分公司PC6间以私有地址互访，截图如下：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image034.png" alt="image034"></p><p>4、分析GRE over Ipsec VPN的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image038.png" alt="image038"></p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image036.png" alt="image036"></p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image040.png" alt="image040"></p><blockquote><p>答：可以看到入站前源地址和目的地址都是私网地址，经过路由器，从出站方向可以看到添加了GRE头部，然后添加了公网地址的头部，源地址和目的地址都为公网地址，然后经过IPsec加密，最后添加了公网地址的头部进行传送。</p></blockquote><p>（六）Easy VPN配置：</p><p>1、在R1上配置Easy VPN，配置策略要求如下：</p><p>（1）设置IKE参数,策略优先级为2（预共享验证、DES加密、MD5验证、DH组2）</p><p>（2）启动aaa，设置认证组名为wtc-a，授权组名为wtc-o，用户名和密码为wtc</p><p>（3）设置策略组名为wtcgroup、密码为wtckey，地址池为wtcpool，地址范围172.16.1.1—172.16.1.254</p><p>（4）设置 transform-set 命名为wtctxset2（ESP-DES加密、ESP-MD5-HMAC验证），动态crypto map命名为wtcdmap，静态crypto map命名为wtctxmap</p><p>2、配置命令如下：（注意：配置命令要大概说明其含义）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">R1(config)# crypto isakmp policy 2##建立IKE策略，优先级为2</span><br><span class="line">R1(config-isakmp)# authentication pre-share#使用预共享的密码进行身份验证</span><br><span class="line">R1(config-isakmp)# encryption des#使用DES加密方式</span><br><span class="line">R1(config-isakmp)# hash md5#指定Hash算法为MD5</span><br><span class="line">R1(config-isakmp)# group 2#指定秘钥位数，group2安全性更高</span><br><span class="line">R1(config)# aaa new-model#启用aaa</span><br><span class="line">R1(config)# aaa authentication login wtc-a local#认证</span><br><span class="line">R1(config)# aaa authorization network wtc-o local#授权</span><br><span class="line">R1(config)# username wtc password wtc#在交换机本地设置一个用户</span><br><span class="line">R1(config)# ip local pool wtcpool 172.16.1.1 172.16.1.254#定义地址池</span><br><span class="line">R1(config)# crypto isakmp client configuration group wtcgroup#配置用户组策略</span><br><span class="line">R1(config-isakmp-group)# key wtckey#定义密码</span><br><span class="line">R1(config-isakmp-group)# pool wtcpool#定义使用的地址池</span><br><span class="line">R1(config-isakmp-group)# exit#回到全局模式</span><br><span class="line">R1(config)# crypto ipsec transform-set wtctxset2 esp-des esp-md5-hmac  #配置IPSec交换集R1(config)# crypto dynamic-map wtcdmap 2#定义动态保密图</span><br><span class="line">R1(config-crypto-map)# set transform-set wtctxset2#设置调用的IPsec交换集</span><br><span class="line">R1(config-crypto-map)# reverse-route#路由器必须配置此功能</span><br><span class="line">R1(config-crypto-map)# exit#回到全局模式</span><br><span class="line">R1(config)# crypto map wtctxmap client authentication list wtc-a#设置认证用户列表</span><br><span class="line">R1(config)# crypto map wtctxmap isakmp authorization list wtc-o#设置授权用户列表</span><br><span class="line">R1(config)# crypto map wtctxmap client configuration address respond# VPN地址推送方式</span><br><span class="line">R1(config)# crypto map wtctxmap 2 ipsec-isakmp dynamic wtcdmap#将动态保密图映射到静态保密图</span><br><span class="line">R1(config-crypto-map)# exit#回到全局模式</span><br><span class="line">R1(config)# interface fastEthernet 1&#x2F;0#进入Fa1&#x2F;0端口</span><br><span class="line">R1(config-if)# crypto map wtctxmap#关联到Fa1&#x2F;0端口</span><br></pre></td></tr></table></figure><p>3、测试：</p><p>出差员工PC以VPN登录，能访问公总司PC，截图显示</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image043.png" alt="image043"></p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image045.png" alt="image045"></p><p>4、分析easy VPN的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image049.png" alt="image049"></p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image047.png" alt="image047"></p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image051.png" alt="image051"></p><blockquote><p>答：位于公网的电脑，登录easy VPN之后会自动获取到一个我们设置的地址池地址，和位于公司总部的电脑进行通信时，首先在公网这边的路由器ISP进站源地址是分配的地址池IP，目的地址为分公司私网地址，出站后添加了ESP头部，然后添加了公网地址头。在总公司路由器进站则是将添加了私网地址头，源地址为公网电脑登录VPN分配的地址池IP，目的地址为总公司内部的私网地址。</p></blockquote><p>（七）NAT配置：</p><p>1、在企业总公司边界路由器R1上配置静态一对多nat，实现公网PC能访问内网服务器0的web服务和ftp服务，要求：</p><p>内网服务器对应的公网地址为：202.56.110.1</p><p>2、在企业总公司边界路由器R1上配置PAT，实现内网用户访问公网WWW服务器和公网PC，要求：</p><p>（1）公网IP地址直接为私网接口地址；</p><p>（2）私网地址acl编号为1</p><p>3、配置命令如下：（注意：配置命令要大概说明其含义）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">R1(config)#interface fastEthernet 0&#x2F;0#进入Fa0&#x2F;0端口</span><br><span class="line">R1(config-if)#ip nat inside#定义对于NAT来说内部接口</span><br><span class="line">R1(config)#interface fastEthernet 1&#x2F;0#进入Fa1&#x2F;0端口</span><br><span class="line">R1(config-if)#ip nat outside#定义对于NAT来说外部接口</span><br><span class="line">R1(config)#ip nat inside source static tcp 10.10.11.1 80 202.56.110.1 80</span><br><span class="line">R1(config)#ip nat inside source static tcp 10.10.11.1 20 202.56.110.1 20</span><br><span class="line">R1(config)#ip nat inside source static tcp 10.10.11.1 21 202.56.110.1 21</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ISP(config)#ip route 202.56.110.1 255.255.255.255 100.1.1.1#配置静态路由</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">R1(config)#access-list 1 permit 10.10.11.0 0.0.0.255   #acl列表</span><br><span class="line">R1(config)#ip nat inside source list 1 interface fastEthernet 1&#x2F;0 overload #定义转换源</span><br></pre></td></tr></table></figure><p>4、测试：</p><p>（1）公网PC能访问总公司内网服务器0的www服务，截图如下：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image056.png" alt="image056"></p><p>（2）公网PC能访问总公司内网服务器0的ftp服务，截图如下：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image058.png" alt="image058"></p><p>（3）总公司PC能访问公网服务器，截图如下：</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/image060.png" alt="image060"></p>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;&lt;strong&gt;网络搭建&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;根据所给定的拓扑要求，将给定的网络设备互连，搭建物理网络。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. IP 地址规划&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;根据要求确定所需子网的数量，每个子网的主机数量，设计适当的编址方案，填写网络地址规划表和设备地址表。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 网络设备的安全配置&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;根据任务书中指出的安全需求，完成数据网络安全配置。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4 数据网络安全测试&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;安全配置后进行完全效果测试，并分析对应的数据包，理解背后的原理。&lt;/p&gt;
    
    </summary>
    
    
      <category term="网络安全" scheme="https://imqinhao.cn/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>Java 设计模式-1</title>
    <link href="https://imqinhao.cn/2020/10/20/Design_patterns_1/"/>
    <id>https://imqinhao.cn/2020/10/20/Design_patterns_1/</id>
    <published>2020-10-20T12:40:00.000Z</published>
    <updated>2021-03-08T06:21:25.401Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1.设计模式原则 </p><p>2.设计模式分类 </p><p>3.常用设计模式</p><p>4.工厂模式定义</p><p>5.工厂模式类图 </p><p>6.工厂模式示例 </p><p>7.工厂模式应用</p><p>8.抽象工厂模式定义 </p><p>9.抽象工厂模式类图 </p><p>10.抽象工厂模式示例 </p><p>11.抽象工厂模式应用 </p><p>12.工厂方法模式、抽象工厂模式区别</p><a id="more"></a><h1 id="什么是设计模式"><a href="#什么是设计模式" class="headerlink" title="什么是设计模式"></a>什么是设计模式</h1><p>在软件工程中，设计模式是对软件设计中普遍存在的各种问题，所提出的解决方案。</p><p>换句话说，设计模式是一套被反复使用、多数人知晓的、经过分类的、代码设计的经验的总结。使用设计模式是为了可重用代码，让代码更容易被他人理解，保证代码可靠性。</p><h1 id="设计模式原则"><a href="#设计模式原则" class="headerlink" title="设计模式原则"></a>设计模式原则</h1><h2 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a>开闭原则</h2><p>开闭原则的意思是：<code>对扩展开放，对修改封闭</code>。在程序需要进行扩展的时候，不能去修改或影响原有的代码，实现一个热插拔的效果。简言之，是为了使程序的扩展性更好，易于维护和升级。想要达到这样的效果，我们需要使用接口和抽象类。</p><h2 id="里氏代换原则"><a href="#里氏代换原则" class="headerlink" title="里氏代换原则"></a>里氏代换原则</h2><p>里氏代换原则是面向对象设计的基本原则之一。 里氏代换原则中说，任何基类可以出现的地方，子类一定可以出现。里氏代换原则是继承复用的基石，只有当子类可以替换掉基类，且软件单位的功能不受到影响时，基类才能真正被复用，而且子类也能够在基类的基础上增加新的行为。里氏代换原则是对开闭原则的补充。实现开闭原则的关键步骤就是抽象化，而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。</p><h2 id="依赖倒转原则"><a href="#依赖倒转原则" class="headerlink" title="依赖倒转原则"></a>依赖倒转原则</h2><p>这个原则是开闭原则的基础，核心内容：针对接口编程，高层模块不应该依赖底层模块，二者都应该依赖抽象而不依赖于具体。</p><h2 id="接口隔离原则"><a href="#接口隔离原则" class="headerlink" title="接口隔离原则"></a>接口隔离原则</h2><p>这个原则的意思是：使用多个隔离的接口，比使用单个庞大的接口要好。其目的在于降低耦合度。由此可见，其实设计模式就是从大型软件架构出发，便于升级和维护软件的设计思想。它强调低依赖、低耦合。</p><h2 id="单一职责原则"><a href="#单一职责原则" class="headerlink" title="单一职责原则"></a>单一职责原则</h2><p>类的职责要单一，不能将太多的职责放在一个类中。</p><p>可能有的人会觉得单一职责原则和前面的接口隔离原则很相似，其实不然。其一，单一职责原则原注重的是职责；而接口隔离原则注重对接口依赖的隔离。其二，单一职责原则主要约束的是类，其次才是接口和方法，它针对的是程序中的实现和细节；而接口隔离原则主要约束接口，主要针对抽象，针对程序整体框架的构建。</p><h2 id="最少知道原则"><a href="#最少知道原则" class="headerlink" title="最少知道原则"></a>最少知道原则</h2><p>最少知道原则也叫迪米特法则，就是说：一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能模块相对独立。</p><p>一个对象应该对其他对象保持最少的了解。类与类之间的关系越密切，耦合度越大，当一个类发生改变时，对另一个类的影响也越大。如果两个类不必彼此直接通信，那么这两个类就不应当发生直接的相互作用。如果其中一个类需要调用另一个类的某一个方法的话，可以通过第三者转发这个调用。所以在类的设计上，每一个类都应当尽量降低成员的访问权限。</p><h2 id="合成复用原则"><a href="#合成复用原则" class="headerlink" title="合成复用原则"></a>合成复用原则</h2><p>合成复用原则就是在一个新的对象里通过关联关系（组合关系、聚合关系）来使用一些已有的对象，使之成为新对象的一部分；新对象通过委派调用已有对象的方法达到复用功能的目的。简而言之，尽量多使用<code>组合/聚合</code>的方式，尽量少使用甚至不使用继承关系。</p><h1 id="设计模式分类"><a href="#设计模式分类" class="headerlink" title="设计模式分类"></a>设计模式分类</h1><p>通常来说设计模式分为三大类：</p><ul><li><strong>创建型模式</strong>，共 5 种：工厂模式、抽象工厂模式、单例模式、建造者模式、原型模式。</li><li><strong>结构型模式</strong>，共 7 种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。</li><li><strong>行为型模式</strong>，共 11 种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。</li></ul><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020190940.png" alt=""></p><h1 id="什么是工厂模式"><a href="#什么是工厂模式" class="headerlink" title="什么是工厂模式"></a>什么是工厂模式</h1><blockquote><p>工厂模式（Factory Pattern）的意义就跟它的名字一样，在面向对象程序设计中，工厂通常是一个用来创建其他对象的对象。工厂模式根据不同的参数来实现不同的分配方案和创建对象。</p></blockquote><p>在工厂模式中，我们在创建对象时不会对客户端暴露创建逻辑，并且是通过使用一个<code>共同的接口</code>来指向新创建的对象。例如用工厂来创建 <code>人</code> 这个对象，如果我们需要一个男人对象，工厂就会为我们创建一个男人；如果我们需要一个女人，工厂就会为我们生产一个女人。</p><p>工厂模式通常分为：</p><ul><li>普通工厂模式</li><li>多个工厂方法模式</li><li>静态工厂方法模式</li></ul><h1 id="普通工厂模式"><a href="#普通工厂模式" class="headerlink" title="普通工厂模式"></a>普通工厂模式</h1><p>刚刚我们说到，用工厂模式来创建人。先创建一个男人，他每天都“吃饭、睡觉、打豆豆”，然后我们再创建一个女人，她每天也“吃饭、睡觉、打豆豆”。</p><p>我们以普通工厂模式为例，在 project 目录下新建一个<code>FactoryTest.java</code>。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020191237.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二者共同的接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Human</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建实现类 Male</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Male</span> <span class="keyword">implements</span> <span class="title">Human</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Male can eat."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Male can sleep."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Male can beat."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建实现类 Female</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Female</span> <span class="keyword">implements</span> <span class="title">Human</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Female can eat."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Female can sleep."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Female can beat."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建普通工厂类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HumanFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Human <span class="title">createHuman</span><span class="params">(String gender)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( gender.equals(<span class="string">"male"</span>) )&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">new</span> Male();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>( gender.equals(<span class="string">"female"</span>))&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">new</span> Female();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"请输入正确的类型！"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 工厂测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FactoryTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        HumanFactory factory = <span class="keyword">new</span> HumanFactory();</span><br><span class="line">        Human male = factory.createHuman(<span class="string">"male"</span>);</span><br><span class="line">        male.eat();</span><br><span class="line">        male.sleep();</span><br><span class="line">        male.beat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="编译运行"><a href="#编译运行" class="headerlink" title="编译运行"></a>编译运行</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javac FactoryTest.java</span><br><span class="line">java FactoryTest</span><br></pre></td></tr></table></figure><h2 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h2><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020193135.png" alt=""></p><h1 id="多个工厂方法模式"><a href="#多个工厂方法模式" class="headerlink" title="多个工厂方法模式"></a>多个工厂方法模式</h1><p>普通工厂模式就是上面那样子了，那么多个工厂方法模式又有什么不同呢？在普通工厂方法模式中，如果传递的字符串出错，则不能正确创建对象。多个工厂方法模式是提供多个工厂方法，分别创建对象。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 设计模式;</span><br><span class="line"></span><br><span class="line"><span class="comment">//两者共同的接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建实现类Male</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Male</span> <span class="keyword">implements</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Male can eat."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Male can sleep."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Male can beat."</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建实现类Female</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Female</span> <span class="keyword">implements</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Female can eat."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Female can sleep."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Female can beat."</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//多个工厂方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HumanFactory</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Male <span class="title">CreateMale</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Male();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Female <span class="title">createFemale</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Female();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//工厂测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FactoryTest2</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">HumanFactory factory = <span class="keyword">new</span> HumanFactory();</span><br><span class="line">Human maleHuman = factory.CreateMale();</span><br><span class="line">maleHuman.eat();</span><br><span class="line">maleHuman.sleep();</span><br><span class="line">maleHuman.beat();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="编译运行-1"><a href="#编译运行-1" class="headerlink" title="编译运行"></a>编译运行</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javac FactoryTest2.java</span><br><span class="line">java FactoryTest2</span><br></pre></td></tr></table></figure><h2 id="运行结果-1"><a href="#运行结果-1" class="headerlink" title="运行结果"></a>运行结果</h2><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020194538.png" alt=""></p><h1 id="静态工厂方法模式"><a href="#静态工厂方法模式" class="headerlink" title="静态工厂方法模式"></a>静态工厂方法模式</h1><p>将上面的多个工厂方法模式里的方法置为静态的，不需要创建实例，直接调用即可。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 设计模式;</span><br><span class="line"></span><br><span class="line"><span class="comment">//两者共同的接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建实现类Male</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Male</span> <span class="keyword">implements</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Male can eat."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Male can sleep."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Male can beat."</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建实现类Female</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Female</span> <span class="keyword">implements</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Female can eat."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Female can sleep."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Female can beat."</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//多个工厂方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HumanFactory</span></span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Male <span class="title">createMale</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> Male();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Female <span class="title">createFemale</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> Female();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//工厂测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FactoryTest2</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">     Human male = HumanFactory.createMale();</span><br><span class="line">     male.eat();</span><br><span class="line">     male.sleep();</span><br><span class="line">     male.beat();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结：凡是出现了大量的产品需要创建，并且具有共同的接口时，可以通过工厂方法模式进行创建。在以上的三种模式中，第一种如果传入的字符串有误，不能正确创建对象，第三种相对于第二种，不需要实例化工厂类，所以，大多数情况下，我们会选用第三种——静态工厂方法模式。</p><h1 id="什么是抽象工厂模式"><a href="#什么是抽象工厂模式" class="headerlink" title="什么是抽象工厂模式"></a>什么是抽象工厂模式</h1><p>抽象工厂模式（Abstract Factory Pattern）是一种软件开发设计模式。抽象工厂模式提供了一种方式，可以将一组具有同一主题的单独的工厂封装起来。如果比较抽象工厂模式和工厂模式，我们不难发现前者只是在工厂模式之上增加了一层抽象的概念。抽象工厂是一个父类工厂，可以创建其它工厂类。所以我们也叫它 “工厂的工厂”。</p><h1 id="抽象工厂模式类图"><a href="#抽象工厂模式类图" class="headerlink" title="抽象工厂模式类图"></a>抽象工厂模式类图</h1><p>“女娲娘娘”只有一个，而我们的工厂却可以有多个，因此在这里用作例子就不合适了。作为“女娲娘娘”生产出来的男人女人们，那就让我们来当一次吃货吧。（吃的东西总可以任性多来一点）</p><p>现在，假设我们有 A、B 两个厨房。每个厨房拥有的餐具和食品都不一样，但是用户搭配使用的方式，比如刀子和苹果、杯子和牛奶等等，我们假设是一致的。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020200923.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式;</span><br><span class="line"></span><br><span class="line"><span class="comment">//抽象食物</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Food</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoodName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//抽象餐具</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">TableWare</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getToolName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//抽象工厂</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">KitchenFactory</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Food <span class="title">getFood</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> TableWare <span class="title">getTableWare</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体食物 Apple 的定义如下</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">implements</span> <span class="title">Food</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoodName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"apple"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体餐具 Knife 的定义如下</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Knife</span> <span class="keyword">implements</span> <span class="title">TableWare</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getToolName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"knife"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//以具体工厂 AKitchen 为例</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AKitchen</span> <span class="keyword">implements</span> <span class="title">KitchenFactory</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Food <span class="title">getFood</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Apple();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> TableWare <span class="title">getTableWare</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Knife();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//吃货要开吃了</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Foodaholic</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(KitchenFactory kitchenFactory)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"A foodaholic is eating "</span> + kitchenFactory.getFood().getFoodName() + <span class="string">" with "</span> + kitchenFactory.getTableWare().getToolName());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Foodaholic foodaholic = <span class="keyword">new</span> Foodaholic();</span><br><span class="line">KitchenFactory kitchenFactory = <span class="keyword">new</span> AKitchen();</span><br><span class="line">foodaholic.eat(kitchenFactory);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="编译运行-2"><a href="#编译运行-2" class="headerlink" title="编译运行"></a>编译运行</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javac Foodaholic.java</span><br><span class="line">java Foodaholic</span><br></pre></td></tr></table></figure><h2 id="运行结果-2"><a href="#运行结果-2" class="headerlink" title="运行结果"></a>运行结果</h2><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020203200.png" alt=""></p><p>抽象工厂模式特别适合于这样的一种产品结构：产品分为几个系列，在每个系列中，产品的布局都是类似的，在一个系列中某个位置的产品，在另一个系列中一定有一个对应的产品。这样的产品结构是存在的，这几个系列中同一位置的产品可能是互斥的，它们是针对不同客户的解决方案，每个客户都只选择其一。</p><h1 id="工厂方法模式、抽象工厂模式区别"><a href="#工厂方法模式、抽象工厂模式区别" class="headerlink" title="工厂方法模式、抽象工厂模式区别"></a>工厂方法模式、抽象工厂模式区别</h1><p>工厂方法模式、抽象工厂模式，傻傻分不清楚。</p><p>为了解释得更清楚，先介绍两个概念：</p><ul><li><strong>产品等级结构</strong>：比如一个抽象类是食物，其子类有苹果、牛奶等等，则抽象食物与具体食物名称之间构成了一个产品等级结构。食物是抽象的父类，而具体的食物名称是其子类。</li><li><strong>产品族</strong>：在抽象工厂模式中，产品族是指由同一个工厂生产的，位于不同产品等级结构中的一组产品。如 AKitchen 生产的苹果、刀子，苹果属于食物产品等级结构中，而刀子则属于餐具产品等级结构中。而 BKitchen 可能生成另一组产品，如牛奶、杯子。</li></ul><p>因此工厂方法模式、抽象工厂模式最大的区别在于：</p><p>工厂方法模式：针对的是 <strong>一个产品等级结构</strong>。</p><p>抽象工厂模式：针对 <strong>多个产品等级结构</strong>。</p><h1 id="什么是适配器模式"><a href="#什么是适配器模式" class="headerlink" title="什么是适配器模式"></a>什么是适配器模式</h1><p>顾名思义，适配器模式（Adapter Pattern）当然是用来适配的啦。当你想使用一个已有的类，但是这个类的接口跟你的又不一样，不能拿来直接用，这个时候你就需要一个适配器来帮你了。</p><p>这就好像你兴冲冲地跑去香港，买了个港版的 iPhone6，充电器插头拿回家一看，不能用啊。这时候你多么需要买一个转接头适配器…</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020223507.png" alt=""></p><p>你去香港旅游，买的 iPhone6 的充电器插头是英标的，它是那种三脚是方形的插头。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020223608.png" alt=""></p><p>而咱们国标的插头是两只脚，即使是三只脚的插头也和英标不一样。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020223722.png" alt=""></p><p>为了方便，这里我们就假设国标插头就只是两只脚的插头吧。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020223745.png" alt=""></p><p>好的，目标明确，英标三只脚插头充电，国标两只脚插头充电。你家很富，有很多插座可以充电。</p><p><img src="https://cdn.jsdelivr.net/gh/queen999/ImageHosting/images/20201020223805.png" alt=""></p><p>在国内的家中只能用国标接口进行充电。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 国标插头</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CnPluginInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">chargeWith2Pins</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现国标插座的充电方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CnPlugin</span> <span class="keyword">implements</span> <span class="title">CnPluginInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">chargeWith2Pins</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"charge with CnPlugin"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在国内家中充电</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">private</span> CnPluginInterface cnPlugin;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Home</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Home</span><span class="params">(CnPluginInterface cnPlugin)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cnPlugin = cnPlugin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPlugin</span><span class="params">(CnPluginInterface cnPlugin)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cnPlugin = cnPlugin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 充电</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">charge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 国标充电</span></span><br><span class="line">        cnPlugin.chargeWith2Pins();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 国标测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CnTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        CnPluginInterface cnPlugin = <span class="keyword">new</span> CnPlugin();</span><br><span class="line">        Home home = <span class="keyword">new</span> Home(cnPlugin);</span><br><span class="line">        <span class="comment">// 会输出 “charge with CnPlugin”</span></span><br><span class="line">        home.charge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然而，当把 iPhone6 带回来时，因为与家里的插座不匹配，所以需要一个适配器。这个适配器必须满足以下条件：</p><blockquote><ol><li>插头必须符合国内标准的接口，否则的话还是没办法插到国内插座中。</li><li>在调用上面实现的国标接口进行充电时，提供一种机制，将这个调用转到对英标接口的调用 。</li></ol></blockquote><p>这就要求：</p><blockquote><ol><li>适配器必须实现原有的旧的接口。</li><li>适配器对象中持有对新接口的引用，当调用旧接口时，将这个调用委托给实现新接口的对象来处理，也就是在适配器对象中组合一个新接口。</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 英标插头</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EnPluginInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">chargeWith3Pins</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现英标插座的充电方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnPlugin</span> <span class="keyword">implements</span> <span class="title">EnPluginInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">chargeWith3Pins</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"charge with EnPlugin"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//适配器</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PluginAdapter</span> <span class="keyword">implements</span> <span class="title">CnPluginInterface</span> </span>&#123;</span><br><span class="line">     <span class="keyword">private</span> EnPluginInterface enPlugin;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="title">PluginAdapter</span><span class="params">(EnPluginInterface enPlugin)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">this</span>.enPlugin = enPlugin;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 这是重点，适配器实现了国标的插头，然后重写国标的充电方法，在国标的充电方法中调用英标的充电方法</span></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">chargeWith2Pins</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    enPlugin.chargeWith3Pins();</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 适配器测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdapterTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        EnPluginInterface enPlugin = <span class="keyword">new</span> EnPlugin();</span><br><span class="line">        Home home = <span class="keyword">new</span> Home();</span><br><span class="line">        PluginAdapter pluginAdapter = <span class="keyword">new</span> PluginAdapter(enPlugin);</span><br><span class="line">        home.setPlugin(pluginAdapter);</span><br><span class="line">        <span class="comment">// 会输出 “charge with EnPlugin”</span></span><br><span class="line">        home.charge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="适配器模式的三个特点"><a href="#适配器模式的三个特点" class="headerlink" title="适配器模式的三个特点"></a>适配器模式的三个特点</h1><ul><li>适配器对象实现原有接口</li><li>适配器对象组合一个实现新接口的对象（这个对象也可以不实现一个接口，只是一个单纯的对象）</li><li>对适配器原有接口方法的调用被委托给新接口的实例的特定方法</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;1.设计模式原则 &lt;/p&gt;
&lt;p&gt;2.设计模式分类 &lt;/p&gt;
&lt;p&gt;3.常用设计模式&lt;/p&gt;
&lt;p&gt;4.工厂模式定义&lt;/p&gt;
&lt;p&gt;5.工厂模式类图 &lt;/p&gt;
&lt;p&gt;6.工厂模式示例 &lt;/p&gt;
&lt;p&gt;7.工厂模式应用&lt;/p&gt;
&lt;p&gt;8.抽象工厂模式定义 &lt;/p&gt;
&lt;p&gt;9.抽象工厂模式类图 &lt;/p&gt;
&lt;p&gt;10.抽象工厂模式示例 &lt;/p&gt;
&lt;p&gt;11.抽象工厂模式应用 &lt;/p&gt;
&lt;p&gt;12.工厂方法模式、抽象工厂模式区别&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://imqinhao.cn/categories/Java/"/>
    
    
  </entry>
  
</feed>
